const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AboutView-4977qw6u.js","assets/AboutView-DhlS7raN.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function pc(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Mt={},ss=[],_n=()=>{},Bd=()=>!1,ia=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),mc=e=>e.startsWith("onUpdate:"),ue=Object.assign,gc=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Z_=Object.prototype.hasOwnProperty,Dt=(e,t)=>Z_.call(e,t),dt=Array.isArray,is=e=>oa(e)==="[object Map]",$d=e=>oa(e)==="[object Set]",mt=e=>typeof e=="function",Kt=e=>typeof e=="string",Fn=e=>typeof e=="symbol",Ut=e=>e!==null&&typeof e=="object",jd=e=>(Ut(e)||mt(e))&&mt(e.then)&&mt(e.catch),zd=Object.prototype.toString,oa=e=>zd.call(e),ty=e=>oa(e).slice(8,-1),qd=e=>oa(e)==="[object Object]",_c=e=>Kt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ni=pc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),aa=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},ey=/-\w/g,or=aa(e=>e.replace(ey,t=>t.slice(1).toUpperCase())),ny=/\B([A-Z])/g,gr=aa(e=>e.replace(ny,"-$1").toLowerCase()),Hd=aa(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ja=aa(e=>e?`on${Hd(e)}`:""),Zn=(e,t)=>!Object.is(e,t),To=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Gd=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},yc=e=>{const t=parseFloat(e);return isNaN(t)?e:t},ry=e=>{const t=Kt(e)?Number(e):NaN;return isNaN(t)?e:t};let gh;const la=()=>gh||(gh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function vc(e){if(dt(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=Kt(r)?ay(r):vc(r);if(s)for(const i in s)t[i]=s[i]}return t}else if(Kt(e)||Ut(e))return e}const sy=/;(?![^(]*\))/g,iy=/:([^]+)/,oy=/\/\*[^]*?\*\//g;function ay(e){const t={};return e.replace(oy,"").split(sy).forEach(n=>{if(n){const r=n.split(iy);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function yi(e){let t="";if(Kt(e))t=e;else if(dt(e))for(let n=0;n<e.length;n++){const r=yi(e[n]);r&&(t+=r+" ")}else if(Ut(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const ly="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",cy=pc(ly);function Kd(e){return!!e||e===""}const Wd=e=>!!(e&&e.__v_isRef===!0),Ft=e=>Kt(e)?e:e==null?"":dt(e)||Ut(e)&&(e.toString===zd||!mt(e.toString))?Wd(e)?Ft(e.value):JSON.stringify(e,Qd,2):String(e),Qd=(e,t)=>Wd(t)?Qd(e,t.value):is(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],i)=>(n[Za(r,i)+" =>"]=s,n),{})}:$d(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Za(n))}:Fn(t)?Za(t):Ut(t)&&!dt(t)&&!qd(t)?String(t):t,Za=(e,t="")=>{var n;return Fn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};let $e;class Xd{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=$e,!t&&$e&&(this.index=($e.scopes||($e.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=$e;try{return $e=this,t()}finally{$e=n}}}on(){++this._on===1&&(this.prevScope=$e,$e=this)}off(){this._on>0&&--this._on===0&&($e=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function uy(e){return new Xd(e)}function hy(){return $e}let Lt;const tl=new WeakSet;class Yd{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,$e&&$e.active&&$e.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,tl.has(this)&&(tl.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Zd(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,_h(this),tp(this);const t=Lt,n=sn;Lt=this,sn=!0;try{return this.fn()}finally{ep(this),Lt=t,sn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Tc(t);this.deps=this.depsTail=void 0,_h(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?tl.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Il(this)&&this.run()}get dirty(){return Il(this)}}let Jd=0,ri,si;function Zd(e,t=!1){if(e.flags|=8,t){e.next=si,si=e;return}e.next=ri,ri=e}function Ec(){Jd++}function wc(){if(--Jd>0)return;if(si){let t=si;for(si=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;ri;){let t=ri;for(ri=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function tp(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function ep(e){let t,n=e.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),Tc(r),fy(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}e.deps=t,e.depsTail=n}function Il(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(np(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function np(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===vi)||(e.globalVersion=vi,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Il(e))))return;e.flags|=2;const t=e.dep,n=Lt,r=sn;Lt=e,sn=!0;try{tp(e);const s=e.fn(e._value);(t.version===0||Zn(s,e._value))&&(e.flags|=128,e._value=s,t.version++)}catch(s){throw t.version++,s}finally{Lt=n,sn=r,ep(e),e.flags&=-3}}function Tc(e,t=!1){const{dep:n,prevSub:r,nextSub:s}=e;if(r&&(r.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Tc(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function fy(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let sn=!0;const rp=[];function kn(){rp.push(sn),sn=!1}function Nn(){const e=rp.pop();sn=e===void 0?!0:e}function _h(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Lt;Lt=void 0;try{t()}finally{Lt=n}}}let vi=0;class dy{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class bc{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Lt||!sn||Lt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Lt)n=this.activeLink=new dy(Lt,this),Lt.deps?(n.prevDep=Lt.depsTail,Lt.depsTail.nextDep=n,Lt.depsTail=n):Lt.deps=Lt.depsTail=n,sp(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Lt.depsTail,n.nextDep=void 0,Lt.depsTail.nextDep=n,Lt.depsTail=n,Lt.deps===n&&(Lt.deps=r)}return n}trigger(t){this.version++,vi++,this.notify(t)}notify(t){Ec();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{wc()}}}function sp(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)sp(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Rl=new WeakMap,Or=Symbol(""),Sl=Symbol(""),Ei=Symbol("");function Ie(e,t,n){if(sn&&Lt){let r=Rl.get(e);r||Rl.set(e,r=new Map);let s=r.get(n);s||(r.set(n,s=new bc),s.map=r,s.key=n),s.track()}}function xn(e,t,n,r,s,i){const o=Rl.get(e);if(!o){vi++;return}const l=c=>{c&&c.trigger()};if(Ec(),t==="clear")o.forEach(l);else{const c=dt(e),u=c&&_c(n);if(c&&n==="length"){const h=Number(r);o.forEach((d,m)=>{(m==="length"||m===Ei||!Fn(m)&&m>=h)&&l(d)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),u&&l(o.get(Ei)),t){case"add":c?u&&l(o.get("length")):(l(o.get(Or)),is(e)&&l(o.get(Sl)));break;case"delete":c||(l(o.get(Or)),is(e)&&l(o.get(Sl)));break;case"set":is(e)&&l(o.get(Or));break}}wc()}function Qr(e){const t=Ct(e);return t===e?t:(Ie(t,"iterate",Ei),Je(e)?t:t.map(ge))}function ca(e){return Ie(e=Ct(e),"iterate",Ei),e}const py={__proto__:null,[Symbol.iterator](){return el(this,Symbol.iterator,ge)},concat(...e){return Qr(this).concat(...e.map(t=>dt(t)?Qr(t):t))},entries(){return el(this,"entries",e=>(e[1]=ge(e[1]),e))},every(e,t){return An(this,"every",e,t,void 0,arguments)},filter(e,t){return An(this,"filter",e,t,n=>n.map(ge),arguments)},find(e,t){return An(this,"find",e,t,ge,arguments)},findIndex(e,t){return An(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return An(this,"findLast",e,t,ge,arguments)},findLastIndex(e,t){return An(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return An(this,"forEach",e,t,void 0,arguments)},includes(...e){return nl(this,"includes",e)},indexOf(...e){return nl(this,"indexOf",e)},join(e){return Qr(this).join(e)},lastIndexOf(...e){return nl(this,"lastIndexOf",e)},map(e,t){return An(this,"map",e,t,void 0,arguments)},pop(){return Hs(this,"pop")},push(...e){return Hs(this,"push",e)},reduce(e,...t){return yh(this,"reduce",e,t)},reduceRight(e,...t){return yh(this,"reduceRight",e,t)},shift(){return Hs(this,"shift")},some(e,t){return An(this,"some",e,t,void 0,arguments)},splice(...e){return Hs(this,"splice",e)},toReversed(){return Qr(this).toReversed()},toSorted(e){return Qr(this).toSorted(e)},toSpliced(...e){return Qr(this).toSpliced(...e)},unshift(...e){return Hs(this,"unshift",e)},values(){return el(this,"values",ge)}};function el(e,t,n){const r=ca(e),s=r[t]();return r!==e&&!Je(e)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.done||(i.value=n(i.value)),i}),s}const my=Array.prototype;function An(e,t,n,r,s,i){const o=ca(e),l=o!==e&&!Je(e),c=o[t];if(c!==my[t]){const d=c.apply(e,i);return l?ge(d):d}let u=n;o!==e&&(l?u=function(d,m){return n.call(this,ge(d),m,e)}:n.length>2&&(u=function(d,m){return n.call(this,d,m,e)}));const h=c.call(o,u,r);return l&&s?s(h):h}function yh(e,t,n,r){const s=ca(e);let i=n;return s!==e&&(Je(e)?n.length>3&&(i=function(o,l,c){return n.call(this,o,l,c,e)}):i=function(o,l,c){return n.call(this,o,ge(l),c,e)}),s[t](i,...r)}function nl(e,t,n){const r=Ct(e);Ie(r,"iterate",Ei);const s=r[t](...n);return(s===-1||s===!1)&&Rc(n[0])?(n[0]=Ct(n[0]),r[t](...n)):s}function Hs(e,t,n=[]){kn(),Ec();const r=Ct(e)[t].apply(e,n);return wc(),Nn(),r}const gy=pc("__proto__,__v_isRef,__isVue"),ip=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Fn));function _y(e){Fn(e)||(e=String(e));const t=Ct(this);return Ie(t,"has",e),t.hasOwnProperty(e)}class op{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?Sy:up:i?cp:lp).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=dt(t);if(!s){let c;if(o&&(c=py[n]))return c;if(n==="hasOwnProperty")return _y}const l=Reflect.get(t,n,Ce(t)?t:r);if((Fn(n)?ip.has(n):gy(n))||(s||Ie(t,"get",n),i))return l;if(Ce(l)){const c=o&&_c(n)?l:l.value;return s&&Ut(c)?xl(c):c}return Ut(l)?s?xl(l):ua(l):l}}class ap extends op{constructor(t=!1){super(!1,t)}set(t,n,r,s){let i=t[n];if(!this._isShallow){const c=ar(i);if(!Je(r)&&!ar(r)&&(i=Ct(i),r=Ct(r)),!dt(t)&&Ce(i)&&!Ce(r))return c||(i.value=r),!0}const o=dt(t)&&_c(n)?Number(n)<t.length:Dt(t,n),l=Reflect.set(t,n,r,Ce(t)?t:s);return t===Ct(s)&&(o?Zn(r,i)&&xn(t,"set",n,r):xn(t,"add",n,r)),l}deleteProperty(t,n){const r=Dt(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&xn(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!Fn(n)||!ip.has(n))&&Ie(t,"has",n),r}ownKeys(t){return Ie(t,"iterate",dt(t)?"length":Or),Reflect.ownKeys(t)}}class yy extends op{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const vy=new ap,Ey=new yy,wy=new ap(!0);const Cl=e=>e,lo=e=>Reflect.getPrototypeOf(e);function Ty(e,t,n){return function(...r){const s=this.__v_raw,i=Ct(s),o=is(i),l=e==="entries"||e===Symbol.iterator&&o,c=e==="keys"&&o,u=s[e](...r),h=n?Cl:t?No:ge;return!t&&Ie(i,"iterate",c?Sl:Or),{next(){const{value:d,done:m}=u.next();return m?{value:d,done:m}:{value:l?[h(d[0]),h(d[1])]:h(d),done:m}},[Symbol.iterator](){return this}}}}function co(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function by(e,t){const n={get(s){const i=this.__v_raw,o=Ct(i),l=Ct(s);e||(Zn(s,l)&&Ie(o,"get",s),Ie(o,"get",l));const{has:c}=lo(o),u=t?Cl:e?No:ge;if(c.call(o,s))return u(i.get(s));if(c.call(o,l))return u(i.get(l));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!e&&Ie(Ct(s),"iterate",Or),s.size},has(s){const i=this.__v_raw,o=Ct(i),l=Ct(s);return e||(Zn(s,l)&&Ie(o,"has",s),Ie(o,"has",l)),s===l?i.has(s):i.has(s)||i.has(l)},forEach(s,i){const o=this,l=o.__v_raw,c=Ct(l),u=t?Cl:e?No:ge;return!e&&Ie(c,"iterate",Or),l.forEach((h,d)=>s.call(i,u(h),u(d),o))}};return ue(n,e?{add:co("add"),set:co("set"),delete:co("delete"),clear:co("clear")}:{add(s){!t&&!Je(s)&&!ar(s)&&(s=Ct(s));const i=Ct(this);return lo(i).has.call(i,s)||(i.add(s),xn(i,"add",s,s)),this},set(s,i){!t&&!Je(i)&&!ar(i)&&(i=Ct(i));const o=Ct(this),{has:l,get:c}=lo(o);let u=l.call(o,s);u||(s=Ct(s),u=l.call(o,s));const h=c.call(o,s);return o.set(s,i),u?Zn(i,h)&&xn(o,"set",s,i):xn(o,"add",s,i),this},delete(s){const i=Ct(this),{has:o,get:l}=lo(i);let c=o.call(i,s);c||(s=Ct(s),c=o.call(i,s)),l&&l.call(i,s);const u=i.delete(s);return c&&xn(i,"delete",s,void 0),u},clear(){const s=Ct(this),i=s.size!==0,o=s.clear();return i&&xn(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=Ty(s,e,t)}),n}function Ac(e,t){const n=by(e,t);return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(Dt(n,s)&&s in r?n:r,s,i)}const Ay={get:Ac(!1,!1)},Iy={get:Ac(!1,!0)},Ry={get:Ac(!0,!1)};const lp=new WeakMap,cp=new WeakMap,up=new WeakMap,Sy=new WeakMap;function Cy(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function xy(e){return e.__v_skip||!Object.isExtensible(e)?0:Cy(ty(e))}function ua(e){return ar(e)?e:Ic(e,!1,vy,Ay,lp)}function hp(e){return Ic(e,!1,wy,Iy,cp)}function xl(e){return Ic(e,!0,Ey,Ry,up)}function Ic(e,t,n,r,s){if(!Ut(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=xy(e);if(i===0)return e;const o=s.get(e);if(o)return o;const l=new Proxy(e,i===2?r:n);return s.set(e,l),l}function os(e){return ar(e)?os(e.__v_raw):!!(e&&e.__v_isReactive)}function ar(e){return!!(e&&e.__v_isReadonly)}function Je(e){return!!(e&&e.__v_isShallow)}function Rc(e){return e?!!e.__v_raw:!1}function Ct(e){const t=e&&e.__v_raw;return t?Ct(t):e}function fp(e){return!Dt(e,"__v_skip")&&Object.isExtensible(e)&&Gd(e,"__v_skip",!0),e}const ge=e=>Ut(e)?ua(e):e,No=e=>Ut(e)?xl(e):e;function Ce(e){return e?e.__v_isRef===!0:!1}function xt(e){return dp(e,!1)}function Py(e){return dp(e,!0)}function dp(e,t){return Ce(e)?e:new Vy(e,t)}class Vy{constructor(t,n){this.dep=new bc,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Ct(t),this._value=n?t:ge(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Je(t)||ar(t);t=r?t:Ct(t),Zn(t,n)&&(this._rawValue=t,this._value=r?t:ge(t),this.dep.trigger())}}function ht(e){return Ce(e)?e.value:e}const Dy={get:(e,t,n)=>t==="__v_raw"?e:ht(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return Ce(s)&&!Ce(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function pp(e){return os(e)?e:new Proxy(e,Dy)}class ky{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new bc(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=vi-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Lt!==this)return Zd(this,!0),!0}get value(){const t=this.dep.track();return np(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Ny(e,t,n=!1){let r,s;return mt(e)?r=e:(r=e.get,s=e.set),new ky(r,s,n)}const uo={},Oo=new WeakMap;let xr;function Oy(e,t=!1,n=xr){if(n){let r=Oo.get(n);r||Oo.set(n,r=[]),r.push(e)}}function My(e,t,n=Mt){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:l,call:c}=n,u=q=>s?q:Je(q)||s===!1||s===0?Pn(q,1):Pn(q);let h,d,m,g,C=!1,x=!1;if(Ce(e)?(d=()=>e.value,C=Je(e)):os(e)?(d=()=>u(e),C=!0):dt(e)?(x=!0,C=e.some(q=>os(q)||Je(q)),d=()=>e.map(q=>{if(Ce(q))return q.value;if(os(q))return u(q);if(mt(q))return c?c(q,2):q()})):mt(e)?t?d=c?()=>c(e,2):e:d=()=>{if(m){kn();try{m()}finally{Nn()}}const q=xr;xr=h;try{return c?c(e,3,[g]):e(g)}finally{xr=q}}:d=_n,t&&s){const q=d,nt=s===!0?1/0:s;d=()=>Pn(q(),nt)}const D=hy(),U=()=>{h.stop(),D&&D.active&&gc(D.effects,h)};if(i&&t){const q=t;t=(...nt)=>{q(...nt),U()}}let $=x?new Array(e.length).fill(uo):uo;const j=q=>{if(!(!(h.flags&1)||!h.dirty&&!q))if(t){const nt=h.run();if(s||C||(x?nt.some((rt,R)=>Zn(rt,$[R])):Zn(nt,$))){m&&m();const rt=xr;xr=h;try{const R=[nt,$===uo?void 0:x&&$[0]===uo?[]:$,g];$=nt,c?c(t,3,R):t(...R)}finally{xr=rt}}}else h.run()};return l&&l(j),h=new Yd(d),h.scheduler=o?()=>o(j,!1):j,g=q=>Oy(q,!1,h),m=h.onStop=()=>{const q=Oo.get(h);if(q){if(c)c(q,4);else for(const nt of q)nt();Oo.delete(h)}},t?r?j(!0):$=h.run():o?o(j.bind(null,!0),!0):h.run(),U.pause=h.pause.bind(h),U.resume=h.resume.bind(h),U.stop=U,U}function Pn(e,t=1/0,n){if(t<=0||!Ut(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,Ce(e))Pn(e.value,t,n);else if(dt(e))for(let r=0;r<e.length;r++)Pn(e[r],t,n);else if($d(e)||is(e))e.forEach(r=>{Pn(r,t,n)});else if(qd(e)){for(const r in e)Pn(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Pn(e[r],t,n)}return e}function Bi(e,t,n,r){try{return r?e(...r):e()}catch(s){ha(s,t,n)}}function on(e,t,n,r){if(mt(e)){const s=Bi(e,t,n,r);return s&&jd(s)&&s.catch(i=>{ha(i,t,n)}),s}if(dt(e)){const s=[];for(let i=0;i<e.length;i++)s.push(on(e[i],t,n,r));return s}}function ha(e,t,n,r=!0){const s=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||Mt;if(t){let l=t.parent;const c=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const h=l.ec;if(h){for(let d=0;d<h.length;d++)if(h[d](e,c,u)===!1)return}l=l.parent}if(i){kn(),Bi(i,null,10,[e,c,u]),Nn();return}}Ly(e,n,s,r,o)}function Ly(e,t,n,r=!0,s=!1){if(s)throw e;console.error(e)}const Oe=[];let pn=-1;const as=[];let Wn=null,Xr=0;const mp=Promise.resolve();let Mo=null;function gp(e){const t=Mo||mp;return e?t.then(this?e.bind(this):e):t}function Fy(e){let t=pn+1,n=Oe.length;for(;t<n;){const r=t+n>>>1,s=Oe[r],i=wi(s);i<e||i===e&&s.flags&2?t=r+1:n=r}return t}function Sc(e){if(!(e.flags&1)){const t=wi(e),n=Oe[Oe.length-1];!n||!(e.flags&2)&&t>=wi(n)?Oe.push(e):Oe.splice(Fy(t),0,e),e.flags|=1,_p()}}function _p(){Mo||(Mo=mp.then(vp))}function Uy(e){dt(e)?as.push(...e):Wn&&e.id===-1?Wn.splice(Xr+1,0,e):e.flags&1||(as.push(e),e.flags|=1),_p()}function vh(e,t,n=pn+1){for(;n<Oe.length;n++){const r=Oe[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Oe.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function yp(e){if(as.length){const t=[...new Set(as)].sort((n,r)=>wi(n)-wi(r));if(as.length=0,Wn){Wn.push(...t);return}for(Wn=t,Xr=0;Xr<Wn.length;Xr++){const n=Wn[Xr];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Wn=null,Xr=0}}const wi=e=>e.id==null?e.flags&2?-1:1/0:e.id;function vp(e){try{for(pn=0;pn<Oe.length;pn++){const t=Oe[pn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Bi(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;pn<Oe.length;pn++){const t=Oe[pn];t&&(t.flags&=-2)}pn=-1,Oe.length=0,yp(),Mo=null,(Oe.length||as.length)&&vp()}}let Se=null,Ep=null;function Lo(e){const t=Se;return Se=e,Ep=e&&e.type.__scopeId||null,t}function Yt(e,t=Se,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&Bo(-1);const i=Lo(t);let o;try{o=e(...s)}finally{Lo(i),r._d&&Bo(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Pl(e,t){if(Se===null)return e;const n=ga(Se),r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[i,o,l,c=Mt]=t[s];i&&(mt(i)&&(i={mounted:i,updated:i}),i.deep&&Pn(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:l,modifiers:c}))}return e}function Ir(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const l=s[o];i&&(l.oldValue=i[o].value);let c=l.dir[r];c&&(kn(),on(c,n,8,[e.el,l,e,t]),Nn())}}const wp=Symbol("_vte"),Tp=e=>e.__isTeleport,ii=e=>e&&(e.disabled||e.disabled===""),Eh=e=>e&&(e.defer||e.defer===""),wh=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Th=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Vl=(e,t)=>{const n=e&&e.to;return Kt(n)?t?t(n):null:n},bp={name:"Teleport",__isTeleport:!0,process(e,t,n,r,s,i,o,l,c,u){const{mc:h,pc:d,pbc:m,o:{insert:g,querySelector:C,createText:x,createComment:D}}=u,U=ii(t.props);let{shapeFlag:$,children:j,dynamicChildren:q}=t;if(e==null){const nt=t.el=x(""),rt=t.anchor=x("");g(nt,n,r),g(rt,n,r);const R=(_,A)=>{$&16&&h(j,_,A,s,i,o,l,c)},v=()=>{const _=t.target=Vl(t.props,C),A=Ip(_,t,x,g);_&&(o!=="svg"&&wh(_)?o="svg":o!=="mathml"&&Th(_)&&(o="mathml"),s&&s.isCE&&(s.ce._teleportTargets||(s.ce._teleportTargets=new Set)).add(_),U||(R(_,A),bo(t,!1)))};U&&(R(n,rt),bo(t,!0)),Eh(t.props)?(t.el.__isMounted=!1,ke(()=>{v(),delete t.el.__isMounted},i)):v()}else{if(Eh(t.props)&&e.el.__isMounted===!1){ke(()=>{bp.process(e,t,n,r,s,i,o,l,c,u)},i);return}t.el=e.el,t.targetStart=e.targetStart;const nt=t.anchor=e.anchor,rt=t.target=e.target,R=t.targetAnchor=e.targetAnchor,v=ii(e.props),_=v?n:rt,A=v?nt:R;if(o==="svg"||wh(rt)?o="svg":(o==="mathml"||Th(rt))&&(o="mathml"),q?(m(e.dynamicChildren,q,_,s,i,o,l),Vc(e,t,!0)):c||d(e,t,_,A,s,i,o,l,!1),U)v?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):ho(t,n,nt,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const T=t.target=Vl(t.props,C);T&&ho(t,T,null,u,0)}else v&&ho(t,rt,R,u,1);bo(t,U)}},remove(e,t,n,{um:r,o:{remove:s}},i){const{shapeFlag:o,children:l,anchor:c,targetStart:u,targetAnchor:h,target:d,props:m}=e;if(d&&(s(u),s(h)),i&&s(c),o&16){const g=i||!ii(m);for(let C=0;C<l.length;C++){const x=l[C];r(x,t,n,g,!!x.dynamicChildren)}}},move:ho,hydrate:By};function ho(e,t,n,{o:{insert:r},m:s},i=2){i===0&&r(e.targetAnchor,t,n);const{el:o,anchor:l,shapeFlag:c,children:u,props:h}=e,d=i===2;if(d&&r(o,t,n),(!d||ii(h))&&c&16)for(let m=0;m<u.length;m++)s(u[m],t,n,2);d&&r(l,t,n)}function By(e,t,n,r,s,i,{o:{nextSibling:o,parentNode:l,querySelector:c,insert:u,createText:h}},d){function m(x,D,U,$){D.anchor=d(o(x),D,l(x),n,r,s,i),D.targetStart=U,D.targetAnchor=$}const g=t.target=Vl(t.props,c),C=ii(t.props);if(g){const x=g._lpa||g.firstChild;if(t.shapeFlag&16)if(C)m(e,t,x,x&&o(x));else{t.anchor=o(e);let D=x;for(;D;){if(D&&D.nodeType===8){if(D.data==="teleport start anchor")t.targetStart=D;else if(D.data==="teleport anchor"){t.targetAnchor=D,g._lpa=t.targetAnchor&&o(t.targetAnchor);break}}D=o(D)}t.targetAnchor||Ip(g,t,h,u),d(x&&o(x),t,g,n,r,s,i)}bo(t,C)}else C&&t.shapeFlag&16&&m(e,t,e,o(e));return t.anchor&&o(t.anchor)}const Ap=bp;function bo(e,t){const n=e.ctx;if(n&&n.ut){let r,s;for(t?(r=e.el,s=e.anchor):(r=e.targetStart,s=e.targetAnchor);r&&r!==s;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function Ip(e,t,n,r){const s=t.targetStart=n(""),i=t.targetAnchor=n("");return s[wp]=i,e&&(r(s,e),r(i,e)),i}const Cn=Symbol("_leaveCb"),fo=Symbol("_enterCb");function $y(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ts(()=>{e.isMounted=!0}),kp(()=>{e.isUnmounting=!0}),e}const Ye=[Function,Array],Rp={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ye,onEnter:Ye,onAfterEnter:Ye,onEnterCancelled:Ye,onBeforeLeave:Ye,onLeave:Ye,onAfterLeave:Ye,onLeaveCancelled:Ye,onBeforeAppear:Ye,onAppear:Ye,onAfterAppear:Ye,onAppearCancelled:Ye},Sp=e=>{const t=e.subTree;return t.component?Sp(t.component):t},jy={name:"BaseTransition",props:Rp,setup(e,{slots:t}){const n=Zp(),r=$y();return()=>{const s=t.default&&Pp(t.default(),!0);if(!s||!s.length)return;const i=Cp(s),o=Ct(e),{mode:l}=o;if(r.isLeaving)return rl(i);const c=bh(i);if(!c)return rl(i);let u=Dl(c,o,r,n,d=>u=d);c.type!==Re&&Ti(c,u);let h=n.subTree&&bh(n.subTree);if(h&&h.type!==Re&&!Vr(h,c)&&Sp(n).type!==Re){let d=Dl(h,o,r,n);if(Ti(h,d),l==="out-in"&&c.type!==Re)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,h=void 0},rl(i);l==="in-out"&&c.type!==Re?d.delayLeave=(m,g,C)=>{const x=xp(r,h);x[String(h.key)]=h,m[Cn]=()=>{g(),m[Cn]=void 0,delete u.delayedLeave,h=void 0},u.delayedLeave=()=>{C(),delete u.delayedLeave,h=void 0}}:h=void 0}else h&&(h=void 0);return i}}};function Cp(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==Re){t=n;break}}return t}const zy=jy;function xp(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Dl(e,t,n,r,s){const{appear:i,mode:o,persisted:l=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:h,onEnterCancelled:d,onBeforeLeave:m,onLeave:g,onAfterLeave:C,onLeaveCancelled:x,onBeforeAppear:D,onAppear:U,onAfterAppear:$,onAppearCancelled:j}=t,q=String(e.key),nt=xp(n,e),rt=(_,A)=>{_&&on(_,r,9,A)},R=(_,A)=>{const T=A[1];rt(_,A),dt(_)?_.every(I=>I.length<=1)&&T():_.length<=1&&T()},v={mode:o,persisted:l,beforeEnter(_){let A=c;if(!n.isMounted)if(i)A=D||c;else return;_[Cn]&&_[Cn](!0);const T=nt[q];T&&Vr(e,T)&&T.el[Cn]&&T.el[Cn](),rt(A,[_])},enter(_){let A=u,T=h,I=d;if(!n.isMounted)if(i)A=U||u,T=$||h,I=j||d;else return;let E=!1;const Rt=_[fo]=Wt=>{E||(E=!0,Wt?rt(I,[_]):rt(T,[_]),v.delayedLeave&&v.delayedLeave(),_[fo]=void 0)};A?R(A,[_,Rt]):Rt()},leave(_,A){const T=String(e.key);if(_[fo]&&_[fo](!0),n.isUnmounting)return A();rt(m,[_]);let I=!1;const E=_[Cn]=Rt=>{I||(I=!0,A(),Rt?rt(x,[_]):rt(C,[_]),_[Cn]=void 0,nt[T]===e&&delete nt[T])};nt[T]=e,g?R(g,[_,E]):E()},clone(_){const A=Dl(_,t,n,r,s);return s&&s(A),A}};return v}function rl(e){if(fa(e))return e=lr(e),e.children=null,e}function bh(e){if(!fa(e))return Tp(e.type)&&e.children?Cp(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&mt(n.default))return n.default()}}function Ti(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ti(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Pp(e,t=!1,n){let r=[],s=0;for(let i=0;i<e.length;i++){let o=e[i];const l=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===re?(o.patchFlag&128&&s++,r=r.concat(Pp(o.children,t,l))):(t||o.type!==Re)&&r.push(l!=null?lr(o,{key:l}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function cn(e,t){return mt(e)?ue({name:e.name},t,{setup:e}):e}function Vp(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Fo=new WeakMap;function oi(e,t,n,r,s=!1){if(dt(e)){e.forEach((C,x)=>oi(C,t&&(dt(t)?t[x]:t),n,r,s));return}if(ls(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&oi(e,t,n,r.component.subTree);return}const i=r.shapeFlag&4?ga(r.component):r.el,o=s?null:i,{i:l,r:c}=e,u=t&&t.r,h=l.refs===Mt?l.refs={}:l.refs,d=l.setupState,m=Ct(d),g=d===Mt?Bd:C=>Dt(m,C);if(u!=null&&u!==c){if(Ah(t),Kt(u))h[u]=null,g(u)&&(d[u]=null);else if(Ce(u)){u.value=null;const C=t;C.k&&(h[C.k]=null)}}if(mt(c))Bi(c,l,12,[o,h]);else{const C=Kt(c),x=Ce(c);if(C||x){const D=()=>{if(e.f){const U=C?g(c)?d[c]:h[c]:c.value;if(s)dt(U)&&gc(U,i);else if(dt(U))U.includes(i)||U.push(i);else if(C)h[c]=[i],g(c)&&(d[c]=h[c]);else{const $=[i];c.value=$,e.k&&(h[e.k]=$)}}else C?(h[c]=o,g(c)&&(d[c]=o)):x&&(c.value=o,e.k&&(h[e.k]=o))};if(o){const U=()=>{D(),Fo.delete(e)};U.id=-1,Fo.set(e,U),ke(U,n)}else Ah(e),D()}}}function Ah(e){const t=Fo.get(e);t&&(t.flags|=8,Fo.delete(e))}la().requestIdleCallback;la().cancelIdleCallback;const ls=e=>!!e.type.__asyncLoader,fa=e=>e.type.__isKeepAlive;function qy(e,t){Dp(e,"a",t)}function Hy(e,t){Dp(e,"da",t)}function Dp(e,t,n=Le){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(da(t,r,n),n){let s=n.parent;for(;s&&s.parent;)fa(s.parent.vnode)&&Gy(r,t,n,s),s=s.parent}}function Gy(e,t,n,r){const s=da(t,e,r,!0);Cc(()=>{gc(r[t],s)},n)}function da(e,t,n=Le,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{kn();const l=$i(n),c=on(t,n,e,o);return l(),Nn(),c});return r?s.unshift(i):s.push(i),i}}const Un=e=>(t,n=Le)=>{(!Ri||e==="sp")&&da(e,(...r)=>t(...r),n)},Ky=Un("bm"),Ts=Un("m"),Wy=Un("bu"),Qy=Un("u"),kp=Un("bum"),Cc=Un("um"),Xy=Un("sp"),Yy=Un("rtg"),Jy=Un("rtc");function Zy(e,t=Le){da("ec",e,t)}const t0=Symbol.for("v-ndc");function bi(e,t,n,r){let s;const i=n,o=dt(e);if(o||Kt(e)){const l=o&&os(e);let c=!1,u=!1;l&&(c=!Je(e),u=ar(e),e=ca(e)),s=new Array(e.length);for(let h=0,d=e.length;h<d;h++)s[h]=t(c?u?No(ge(e[h])):ge(e[h]):e[h],h,void 0,i)}else if(typeof e=="number"){s=new Array(e);for(let l=0;l<e;l++)s[l]=t(l+1,l,void 0,i)}else if(Ut(e))if(e[Symbol.iterator])s=Array.from(e,(l,c)=>t(l,c,void 0,i));else{const l=Object.keys(e);s=new Array(l.length);for(let c=0,u=l.length;c<u;c++){const h=l[c];s[c]=t(e[h],h,c,i)}}else s=[];return s}function sl(e,t,n={},r,s){if(Se.ce||Se.parent&&ls(Se.parent)&&Se.parent.ce){const u=Object.keys(n).length>0;return t!=="default"&&(n.name=t),Y(),Fr(re,null,[At("slot",n,r)],u?-2:64)}let i=e[t];i&&i._c&&(i._d=!1),Y();const o=i&&Np(i(n)),l=n.key||o&&o.key,c=Fr(re,{key:(l&&!Fn(l)?l:`_${t}`)+(!o&&r?"_fb":"")},o||[],o&&e._===1?64:-2);return i&&i._c&&(i._d=!0),c}function Np(e){return e.some(t=>Ii(t)?!(t.type===Re||t.type===re&&!Np(t.children)):!0)?e:null}const kl=e=>e?tm(e)?ga(e):kl(e.parent):null,ai=ue(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>kl(e.parent),$root:e=>kl(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Mp(e),$forceUpdate:e=>e.f||(e.f=()=>{Sc(e.update)}),$nextTick:e=>e.n||(e.n=gp.bind(e.proxy)),$watch:e=>w0.bind(e)}),il=(e,t)=>e!==Mt&&!e.__isScriptSetup&&Dt(e,t),e0={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:l,appContext:c}=e;let u;if(t[0]!=="$"){const g=o[t];if(g!==void 0)switch(g){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(il(r,t))return o[t]=1,r[t];if(s!==Mt&&Dt(s,t))return o[t]=2,s[t];if((u=e.propsOptions[0])&&Dt(u,t))return o[t]=3,i[t];if(n!==Mt&&Dt(n,t))return o[t]=4,n[t];Nl&&(o[t]=0)}}const h=ai[t];let d,m;if(h)return t==="$attrs"&&Ie(e.attrs,"get",""),h(e);if((d=l.__cssModules)&&(d=d[t]))return d;if(n!==Mt&&Dt(n,t))return o[t]=4,n[t];if(m=c.config.globalProperties,Dt(m,t))return m[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return il(s,t)?(s[t]=n,!0):r!==Mt&&Dt(r,t)?(r[t]=n,!0):Dt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i,type:o}},l){let c,u;return!!(n[l]||e!==Mt&&l[0]!=="$"&&Dt(e,l)||il(t,l)||(c=i[0])&&Dt(c,l)||Dt(r,l)||Dt(ai,l)||Dt(s.config.globalProperties,l)||(u=o.__cssModules)&&u[l])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Dt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Ih(e){return dt(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Nl=!0;function n0(e){const t=Mp(e),n=e.proxy,r=e.ctx;Nl=!1,t.beforeCreate&&Rh(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:l,provide:c,inject:u,created:h,beforeMount:d,mounted:m,beforeUpdate:g,updated:C,activated:x,deactivated:D,beforeDestroy:U,beforeUnmount:$,destroyed:j,unmounted:q,render:nt,renderTracked:rt,renderTriggered:R,errorCaptured:v,serverPrefetch:_,expose:A,inheritAttrs:T,components:I,directives:E,filters:Rt}=t;if(u&&r0(u,r,null),o)for(const Pt in o){const wt=o[Pt];mt(wt)&&(r[Pt]=wt.bind(n))}if(s){const Pt=s.call(n,n);Ut(Pt)&&(e.data=ua(Pt))}if(Nl=!0,i)for(const Pt in i){const wt=i[Pt],Be=mt(wt)?wt.bind(n,n):mt(wt.get)?wt.get.bind(n,n):_n,un=!mt(wt)&&mt(wt.set)?wt.set.bind(n):_n,ze=ce({get:Be,set:un});Object.defineProperty(r,Pt,{enumerable:!0,configurable:!0,get:()=>ze.value,set:de=>ze.value=de})}if(l)for(const Pt in l)Op(l[Pt],r,n,Pt);if(c){const Pt=mt(c)?c.call(n):c;Reflect.ownKeys(Pt).forEach(wt=>{Ao(wt,Pt[wt])})}h&&Rh(h,e,"c");function jt(Pt,wt){dt(wt)?wt.forEach(Be=>Pt(Be.bind(n))):wt&&Pt(wt.bind(n))}if(jt(Ky,d),jt(Ts,m),jt(Wy,g),jt(Qy,C),jt(qy,x),jt(Hy,D),jt(Zy,v),jt(Jy,rt),jt(Yy,R),jt(kp,$),jt(Cc,q),jt(Xy,_),dt(A))if(A.length){const Pt=e.exposed||(e.exposed={});A.forEach(wt=>{Object.defineProperty(Pt,wt,{get:()=>n[wt],set:Be=>n[wt]=Be,enumerable:!0})})}else e.exposed||(e.exposed={});nt&&e.render===_n&&(e.render=nt),T!=null&&(e.inheritAttrs=T),I&&(e.components=I),E&&(e.directives=E),_&&Vp(e)}function r0(e,t,n=_n){dt(e)&&(e=Ol(e));for(const r in e){const s=e[r];let i;Ut(s)?"default"in s?i=Dn(s.from||r,s.default,!0):i=Dn(s.from||r):i=Dn(s),Ce(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function Rh(e,t,n){on(dt(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Op(e,t,n,r){let s=r.includes(".")?Wp(n,r):()=>n[r];if(Kt(e)){const i=t[e];mt(i)&&us(s,i)}else if(mt(e))us(s,e.bind(n));else if(Ut(e))if(dt(e))e.forEach(i=>Op(i,t,n,r));else{const i=mt(e.handler)?e.handler.bind(n):t[e.handler];mt(i)&&us(s,i,e)}}function Mp(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,l=i.get(t);let c;return l?c=l:!s.length&&!n&&!r?c=t:(c={},s.length&&s.forEach(u=>Uo(c,u,o,!0)),Uo(c,t,o)),Ut(t)&&i.set(t,c),c}function Uo(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&Uo(e,i,n,!0),s&&s.forEach(o=>Uo(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const l=s0[o]||n&&n[o];e[o]=l?l(e[o],t[o]):t[o]}return e}const s0={data:Sh,props:Ch,emits:Ch,methods:Ys,computed:Ys,beforeCreate:De,created:De,beforeMount:De,mounted:De,beforeUpdate:De,updated:De,beforeDestroy:De,beforeUnmount:De,destroyed:De,unmounted:De,activated:De,deactivated:De,errorCaptured:De,serverPrefetch:De,components:Ys,directives:Ys,watch:o0,provide:Sh,inject:i0};function Sh(e,t){return t?e?function(){return ue(mt(e)?e.call(this,this):e,mt(t)?t.call(this,this):t)}:t:e}function i0(e,t){return Ys(Ol(e),Ol(t))}function Ol(e){if(dt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function De(e,t){return e?[...new Set([].concat(e,t))]:t}function Ys(e,t){return e?ue(Object.create(null),e,t):t}function Ch(e,t){return e?dt(e)&&dt(t)?[...new Set([...e,...t])]:ue(Object.create(null),Ih(e),Ih(t??{})):t}function o0(e,t){if(!e)return t;if(!t)return e;const n=ue(Object.create(null),e);for(const r in t)n[r]=De(e[r],t[r]);return n}function Lp(){return{app:null,config:{isNativeTag:Bd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let a0=0;function l0(e,t){return function(r,s=null){mt(r)||(r=ue({},r)),s!=null&&!Ut(s)&&(s=null);const i=Lp(),o=new WeakSet,l=[];let c=!1;const u=i.app={_uid:a0++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:j0,get config(){return i.config},set config(h){},use(h,...d){return o.has(h)||(h&&mt(h.install)?(o.add(h),h.install(u,...d)):mt(h)&&(o.add(h),h(u,...d))),u},mixin(h){return i.mixins.includes(h)||i.mixins.push(h),u},component(h,d){return d?(i.components[h]=d,u):i.components[h]},directive(h,d){return d?(i.directives[h]=d,u):i.directives[h]},mount(h,d,m){if(!c){const g=u._ceVNode||At(r,s);return g.appContext=i,m===!0?m="svg":m===!1&&(m=void 0),e(g,h,m),c=!0,u._container=h,h.__vue_app__=u,ga(g.component)}},onUnmount(h){l.push(h)},unmount(){c&&(on(l,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(h,d){return i.provides[h]=d,u},runWithContext(h){const d=cs;cs=u;try{return h()}finally{cs=d}}};return u}}let cs=null;function Ao(e,t){if(Le){let n=Le.provides;const r=Le.parent&&Le.parent.provides;r===n&&(n=Le.provides=Object.create(r)),n[e]=t}}function Dn(e,t,n=!1){const r=Zp();if(r||cs){let s=cs?cs._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&mt(t)?t.call(r&&r.proxy):t}}const Fp={},Up=()=>Object.create(Fp),Bp=e=>Object.getPrototypeOf(e)===Fp;function c0(e,t,n,r=!1){const s={},i=Up();e.propsDefaults=Object.create(null),$p(e,t,s,i);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=r?s:hp(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function u0(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,l=Ct(s),[c]=e.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const h=e.vnode.dynamicProps;for(let d=0;d<h.length;d++){let m=h[d];if(pa(e.emitsOptions,m))continue;const g=t[m];if(c)if(Dt(i,m))g!==i[m]&&(i[m]=g,u=!0);else{const C=or(m);s[C]=Ml(c,l,C,g,e,!1)}else g!==i[m]&&(i[m]=g,u=!0)}}}else{$p(e,t,s,i)&&(u=!0);let h;for(const d in l)(!t||!Dt(t,d)&&((h=gr(d))===d||!Dt(t,h)))&&(c?n&&(n[d]!==void 0||n[h]!==void 0)&&(s[d]=Ml(c,l,d,void 0,e,!0)):delete s[d]);if(i!==l)for(const d in i)(!t||!Dt(t,d))&&(delete i[d],u=!0)}u&&xn(e.attrs,"set","")}function $p(e,t,n,r){const[s,i]=e.propsOptions;let o=!1,l;if(t)for(let c in t){if(ni(c))continue;const u=t[c];let h;s&&Dt(s,h=or(c))?!i||!i.includes(h)?n[h]=u:(l||(l={}))[h]=u:pa(e.emitsOptions,c)||(!(c in r)||u!==r[c])&&(r[c]=u,o=!0)}if(i){const c=Ct(n),u=l||Mt;for(let h=0;h<i.length;h++){const d=i[h];n[d]=Ml(s,c,d,u[d],e,!Dt(u,d))}}return o}function Ml(e,t,n,r,s,i){const o=e[n];if(o!=null){const l=Dt(o,"default");if(l&&r===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&mt(c)){const{propsDefaults:u}=s;if(n in u)r=u[n];else{const h=$i(s);r=u[n]=c.call(null,t),h()}}else r=c;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!l?r=!1:o[1]&&(r===""||r===gr(n))&&(r=!0))}return r}const h0=new WeakMap;function jp(e,t,n=!1){const r=n?h0:t.propsCache,s=r.get(e);if(s)return s;const i=e.props,o={},l=[];let c=!1;if(!mt(e)){const h=d=>{c=!0;const[m,g]=jp(d,t,!0);ue(o,m),g&&l.push(...g)};!n&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!i&&!c)return Ut(e)&&r.set(e,ss),ss;if(dt(i))for(let h=0;h<i.length;h++){const d=or(i[h]);xh(d)&&(o[d]=Mt)}else if(i)for(const h in i){const d=or(h);if(xh(d)){const m=i[h],g=o[d]=dt(m)||mt(m)?{type:m}:ue({},m),C=g.type;let x=!1,D=!0;if(dt(C))for(let U=0;U<C.length;++U){const $=C[U],j=mt($)&&$.name;if(j==="Boolean"){x=!0;break}else j==="String"&&(D=!1)}else x=mt(C)&&C.name==="Boolean";g[0]=x,g[1]=D,(x||Dt(g,"default"))&&l.push(d)}}const u=[o,l];return Ut(e)&&r.set(e,u),u}function xh(e){return e[0]!=="$"&&!ni(e)}const xc=e=>e==="_"||e==="_ctx"||e==="$stable",Pc=e=>dt(e)?e.map(gn):[gn(e)],f0=(e,t,n)=>{if(t._n)return t;const r=Yt((...s)=>Pc(t(...s)),n);return r._c=!1,r},zp=(e,t,n)=>{const r=e._ctx;for(const s in e){if(xc(s))continue;const i=e[s];if(mt(i))t[s]=f0(s,i,r);else if(i!=null){const o=Pc(i);t[s]=()=>o}}},qp=(e,t)=>{const n=Pc(t);e.slots.default=()=>n},Hp=(e,t,n)=>{for(const r in t)(n||!xc(r))&&(e[r]=t[r])},d0=(e,t,n)=>{const r=e.slots=Up();if(e.vnode.shapeFlag&32){const s=t._;s?(Hp(r,t,n),n&&Gd(r,"_",s,!0)):zp(t,r)}else t&&qp(e,t)},p0=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,o=Mt;if(r.shapeFlag&32){const l=t._;l?n&&l===1?i=!1:Hp(s,t,n):(i=!t.$stable,zp(t,s)),o=t}else t&&(qp(e,t),o={default:1});if(i)for(const l in s)!xc(l)&&o[l]==null&&delete s[l]},ke=x0;function m0(e){return g0(e)}function g0(e,t){const n=la();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:l,createComment:c,setText:u,setElementText:h,parentNode:d,nextSibling:m,setScopeId:g=_n,insertStaticContent:C}=e,x=(w,S,P,L=null,B=null,O=null,Q=void 0,G=null,H=!!S.dynamicChildren)=>{if(w===S)return;w&&!Vr(w,S)&&(L=M(w),de(w,B,O,!0),w=null),S.patchFlag===-2&&(H=!1,S.dynamicChildren=null);const{type:z,ref:ct,shapeFlag:J}=S;switch(z){case ma:D(w,S,P,L);break;case Re:U(w,S,P,L);break;case Io:w==null&&$(S,P,L,Q);break;case re:I(w,S,P,L,B,O,Q,G,H);break;default:J&1?nt(w,S,P,L,B,O,Q,G,H):J&6?E(w,S,P,L,B,O,Q,G,H):(J&64||J&128)&&z.process(w,S,P,L,B,O,Q,G,H,it)}ct!=null&&B?oi(ct,w&&w.ref,O,S||w,!S):ct==null&&w&&w.ref!=null&&oi(w.ref,null,O,w,!0)},D=(w,S,P,L)=>{if(w==null)r(S.el=l(S.children),P,L);else{const B=S.el=w.el;S.children!==w.children&&u(B,S.children)}},U=(w,S,P,L)=>{w==null?r(S.el=c(S.children||""),P,L):S.el=w.el},$=(w,S,P,L)=>{[w.el,w.anchor]=C(w.children,S,P,L,w.el,w.anchor)},j=({el:w,anchor:S},P,L)=>{let B;for(;w&&w!==S;)B=m(w),r(w,P,L),w=B;r(S,P,L)},q=({el:w,anchor:S})=>{let P;for(;w&&w!==S;)P=m(w),s(w),w=P;s(S)},nt=(w,S,P,L,B,O,Q,G,H)=>{if(S.type==="svg"?Q="svg":S.type==="math"&&(Q="mathml"),w==null)rt(S,P,L,B,O,Q,G,H);else{const z=w.el&&w.el._isVueCE?w.el:null;try{z&&z._beginPatch(),_(w,S,B,O,Q,G,H)}finally{z&&z._endPatch()}}},rt=(w,S,P,L,B,O,Q,G)=>{let H,z;const{props:ct,shapeFlag:J,transition:ot,dirs:ut}=w;if(H=w.el=o(w.type,O,ct&&ct.is,ct),J&8?h(H,w.children):J&16&&v(w.children,H,null,L,B,ol(w,O),Q,G),ut&&Ir(w,null,L,"created"),R(H,w,w.scopeId,Q,L),ct){for(const kt in ct)kt!=="value"&&!ni(kt)&&i(H,kt,null,ct[kt],O,L);"value"in ct&&i(H,"value",null,ct.value,O),(z=ct.onVnodeBeforeMount)&&dn(z,L,w)}ut&&Ir(w,null,L,"beforeMount");const _t=_0(B,ot);_t&&ot.beforeEnter(H),r(H,S,P),((z=ct&&ct.onVnodeMounted)||_t||ut)&&ke(()=>{z&&dn(z,L,w),_t&&ot.enter(H),ut&&Ir(w,null,L,"mounted")},B)},R=(w,S,P,L,B)=>{if(P&&g(w,P),L)for(let O=0;O<L.length;O++)g(w,L[O]);if(B){let O=B.subTree;if(S===O||Xp(O.type)&&(O.ssContent===S||O.ssFallback===S)){const Q=B.vnode;R(w,Q,Q.scopeId,Q.slotScopeIds,B.parent)}}},v=(w,S,P,L,B,O,Q,G,H=0)=>{for(let z=H;z<w.length;z++){const ct=w[z]=G?Qn(w[z]):gn(w[z]);x(null,ct,S,P,L,B,O,Q,G)}},_=(w,S,P,L,B,O,Q)=>{const G=S.el=w.el;let{patchFlag:H,dynamicChildren:z,dirs:ct}=S;H|=w.patchFlag&16;const J=w.props||Mt,ot=S.props||Mt;let ut;if(P&&Rr(P,!1),(ut=ot.onVnodeBeforeUpdate)&&dn(ut,P,S,w),ct&&Ir(S,w,P,"beforeUpdate"),P&&Rr(P,!0),(J.innerHTML&&ot.innerHTML==null||J.textContent&&ot.textContent==null)&&h(G,""),z?A(w.dynamicChildren,z,G,P,L,ol(S,B),O):Q||wt(w,S,G,null,P,L,ol(S,B),O,!1),H>0){if(H&16)T(G,J,ot,P,B);else if(H&2&&J.class!==ot.class&&i(G,"class",null,ot.class,B),H&4&&i(G,"style",J.style,ot.style,B),H&8){const _t=S.dynamicProps;for(let kt=0;kt<_t.length;kt++){const St=_t[kt],we=J[St],Te=ot[St];(Te!==we||St==="value")&&i(G,St,we,Te,B,P)}}H&1&&w.children!==S.children&&h(G,S.children)}else!Q&&z==null&&T(G,J,ot,P,B);((ut=ot.onVnodeUpdated)||ct)&&ke(()=>{ut&&dn(ut,P,S,w),ct&&Ir(S,w,P,"updated")},L)},A=(w,S,P,L,B,O,Q)=>{for(let G=0;G<S.length;G++){const H=w[G],z=S[G],ct=H.el&&(H.type===re||!Vr(H,z)||H.shapeFlag&198)?d(H.el):P;x(H,z,ct,null,L,B,O,Q,!0)}},T=(w,S,P,L,B)=>{if(S!==P){if(S!==Mt)for(const O in S)!ni(O)&&!(O in P)&&i(w,O,S[O],null,B,L);for(const O in P){if(ni(O))continue;const Q=P[O],G=S[O];Q!==G&&O!=="value"&&i(w,O,G,Q,B,L)}"value"in P&&i(w,"value",S.value,P.value,B)}},I=(w,S,P,L,B,O,Q,G,H)=>{const z=S.el=w?w.el:l(""),ct=S.anchor=w?w.anchor:l("");let{patchFlag:J,dynamicChildren:ot,slotScopeIds:ut}=S;ut&&(G=G?G.concat(ut):ut),w==null?(r(z,P,L),r(ct,P,L),v(S.children||[],P,ct,B,O,Q,G,H)):J>0&&J&64&&ot&&w.dynamicChildren?(A(w.dynamicChildren,ot,P,B,O,Q,G),(S.key!=null||B&&S===B.subTree)&&Vc(w,S,!0)):wt(w,S,P,ct,B,O,Q,G,H)},E=(w,S,P,L,B,O,Q,G,H)=>{S.slotScopeIds=G,w==null?S.shapeFlag&512?B.ctx.activate(S,P,L,Q,H):Rt(S,P,L,B,O,Q,H):Wt(w,S,H)},Rt=(w,S,P,L,B,O,Q)=>{const G=w.component=M0(w,L,B);if(fa(w)&&(G.ctx.renderer=it),L0(G,!1,Q),G.asyncDep){if(B&&B.registerDep(G,jt,Q),!w.el){const H=G.subTree=At(Re);U(null,H,S,P),w.placeholder=H.el}}else jt(G,w,S,P,B,O,Q)},Wt=(w,S,P)=>{const L=S.component=w.component;if(S0(w,S,P))if(L.asyncDep&&!L.asyncResolved){Pt(L,S,P);return}else L.next=S,L.update();else S.el=w.el,L.vnode=S},jt=(w,S,P,L,B,O,Q)=>{const G=()=>{if(w.isMounted){let{next:J,bu:ot,u:ut,parent:_t,vnode:kt}=w;{const He=Gp(w);if(He){J&&(J.el=kt.el,Pt(w,J,Q)),He.asyncDep.then(()=>{w.isUnmounted||G()});return}}let St=J,we;Rr(w,!1),J?(J.el=kt.el,Pt(w,J,Q)):J=kt,ot&&To(ot),(we=J.props&&J.props.onVnodeBeforeUpdate)&&dn(we,_t,J,kt),Rr(w,!0);const Te=Vh(w),qe=w.subTree;w.subTree=Te,x(qe,Te,d(qe.el),M(qe),w,B,O),J.el=Te.el,St===null&&C0(w,Te.el),ut&&ke(ut,B),(we=J.props&&J.props.onVnodeUpdated)&&ke(()=>dn(we,_t,J,kt),B)}else{let J;const{el:ot,props:ut}=S,{bm:_t,m:kt,parent:St,root:we,type:Te}=w,qe=ls(S);Rr(w,!1),_t&&To(_t),!qe&&(J=ut&&ut.onVnodeBeforeMount)&&dn(J,St,S),Rr(w,!0);{we.ce&&we.ce._def.shadowRoot!==!1&&we.ce._injectChildStyle(Te);const He=w.subTree=Vh(w);x(null,He,P,L,w,B,O),S.el=He.el}if(kt&&ke(kt,B),!qe&&(J=ut&&ut.onVnodeMounted)){const He=S;ke(()=>dn(J,St,He),B)}(S.shapeFlag&256||St&&ls(St.vnode)&&St.vnode.shapeFlag&256)&&w.a&&ke(w.a,B),w.isMounted=!0,S=P=L=null}};w.scope.on();const H=w.effect=new Yd(G);w.scope.off();const z=w.update=H.run.bind(H),ct=w.job=H.runIfDirty.bind(H);ct.i=w,ct.id=w.uid,H.scheduler=()=>Sc(ct),Rr(w,!0),z()},Pt=(w,S,P)=>{S.component=w;const L=w.vnode.props;w.vnode=S,w.next=null,u0(w,S.props,L,P),p0(w,S.children,P),kn(),vh(w),Nn()},wt=(w,S,P,L,B,O,Q,G,H=!1)=>{const z=w&&w.children,ct=w?w.shapeFlag:0,J=S.children,{patchFlag:ot,shapeFlag:ut}=S;if(ot>0){if(ot&128){un(z,J,P,L,B,O,Q,G,H);return}else if(ot&256){Be(z,J,P,L,B,O,Q,G,H);return}}ut&8?(ct&16&&Ee(z,B,O),J!==z&&h(P,J)):ct&16?ut&16?un(z,J,P,L,B,O,Q,G,H):Ee(z,B,O,!0):(ct&8&&h(P,""),ut&16&&v(J,P,L,B,O,Q,G,H))},Be=(w,S,P,L,B,O,Q,G,H)=>{w=w||ss,S=S||ss;const z=w.length,ct=S.length,J=Math.min(z,ct);let ot;for(ot=0;ot<J;ot++){const ut=S[ot]=H?Qn(S[ot]):gn(S[ot]);x(w[ot],ut,P,null,B,O,Q,G,H)}z>ct?Ee(w,B,O,!0,!1,J):v(S,P,L,B,O,Q,G,H,J)},un=(w,S,P,L,B,O,Q,G,H)=>{let z=0;const ct=S.length;let J=w.length-1,ot=ct-1;for(;z<=J&&z<=ot;){const ut=w[z],_t=S[z]=H?Qn(S[z]):gn(S[z]);if(Vr(ut,_t))x(ut,_t,P,null,B,O,Q,G,H);else break;z++}for(;z<=J&&z<=ot;){const ut=w[J],_t=S[ot]=H?Qn(S[ot]):gn(S[ot]);if(Vr(ut,_t))x(ut,_t,P,null,B,O,Q,G,H);else break;J--,ot--}if(z>J){if(z<=ot){const ut=ot+1,_t=ut<ct?S[ut].el:L;for(;z<=ot;)x(null,S[z]=H?Qn(S[z]):gn(S[z]),P,_t,B,O,Q,G,H),z++}}else if(z>ot)for(;z<=J;)de(w[z],B,O,!0),z++;else{const ut=z,_t=z,kt=new Map;for(z=_t;z<=ot;z++){const pe=S[z]=H?Qn(S[z]):gn(S[z]);pe.key!=null&&kt.set(pe.key,z)}let St,we=0;const Te=ot-_t+1;let qe=!1,He=0;const nn=new Array(Te);for(z=0;z<Te;z++)nn[z]=0;for(z=ut;z<=J;z++){const pe=w[z];if(we>=Te){de(pe,B,O,!0);continue}let ie;if(pe.key!=null)ie=kt.get(pe.key);else for(St=_t;St<=ot;St++)if(nn[St-_t]===0&&Vr(pe,S[St])){ie=St;break}ie===void 0?de(pe,B,O,!0):(nn[ie-_t]=z+1,ie>=He?He=ie:qe=!0,x(pe,S[ie],P,null,B,O,Q,G,H),we++)}const Hr=qe?y0(nn):ss;for(St=Hr.length-1,z=Te-1;z>=0;z--){const pe=_t+z,ie=S[pe],Ps=S[pe+1],Er=pe+1<ct?Ps.el||Ps.placeholder:L;nn[z]===0?x(null,ie,P,Er,B,O,Q,G,H):qe&&(St<0||z!==Hr[St]?ze(ie,P,Er,2):St--)}}},ze=(w,S,P,L,B=null)=>{const{el:O,type:Q,transition:G,children:H,shapeFlag:z}=w;if(z&6){ze(w.component.subTree,S,P,L);return}if(z&128){w.suspense.move(S,P,L);return}if(z&64){Q.move(w,S,P,it);return}if(Q===re){r(O,S,P);for(let J=0;J<H.length;J++)ze(H[J],S,P,L);r(w.anchor,S,P);return}if(Q===Io){j(w,S,P);return}if(L!==2&&z&1&&G)if(L===0)G.beforeEnter(O),r(O,S,P),ke(()=>G.enter(O),B);else{const{leave:J,delayLeave:ot,afterLeave:ut}=G,_t=()=>{w.ctx.isUnmounted?s(O):r(O,S,P)},kt=()=>{O._isLeaving&&O[Cn](!0),J(O,()=>{_t(),ut&&ut()})};ot?ot(O,_t,kt):kt()}else r(O,S,P)},de=(w,S,P,L=!1,B=!1)=>{const{type:O,props:Q,ref:G,children:H,dynamicChildren:z,shapeFlag:ct,patchFlag:J,dirs:ot,cacheIndex:ut}=w;if(J===-2&&(B=!1),G!=null&&(kn(),oi(G,null,P,w,!0),Nn()),ut!=null&&(S.renderCache[ut]=void 0),ct&256){S.ctx.deactivate(w);return}const _t=ct&1&&ot,kt=!ls(w);let St;if(kt&&(St=Q&&Q.onVnodeBeforeUnmount)&&dn(St,S,w),ct&6)en(w.component,P,L);else{if(ct&128){w.suspense.unmount(P,L);return}_t&&Ir(w,null,S,"beforeUnmount"),ct&64?w.type.remove(w,S,P,it,L):z&&!z.hasOnce&&(O!==re||J>0&&J&64)?Ee(z,S,P,!1,!0):(O===re&&J&384||!B&&ct&16)&&Ee(H,S,P),L&&bn(w)}(kt&&(St=Q&&Q.onVnodeUnmounted)||_t)&&ke(()=>{St&&dn(St,S,w),_t&&Ir(w,null,S,"unmounted")},P)},bn=w=>{const{type:S,el:P,anchor:L,transition:B}=w;if(S===re){tn(P,L);return}if(S===Io){q(w);return}const O=()=>{s(P),B&&!B.persisted&&B.afterLeave&&B.afterLeave()};if(w.shapeFlag&1&&B&&!B.persisted){const{leave:Q,delayLeave:G}=B,H=()=>Q(P,O);G?G(w.el,O,H):H()}else O()},tn=(w,S)=>{let P;for(;w!==S;)P=m(w),s(w),w=P;s(S)},en=(w,S,P)=>{const{bum:L,scope:B,job:O,subTree:Q,um:G,m:H,a:z}=w;Ph(H),Ph(z),L&&To(L),B.stop(),O&&(O.flags|=8,de(Q,w,S,P)),G&&ke(G,S),ke(()=>{w.isUnmounted=!0},S)},Ee=(w,S,P,L=!1,B=!1,O=0)=>{for(let Q=O;Q<w.length;Q++)de(w[Q],S,P,L,B)},M=w=>{if(w.shapeFlag&6)return M(w.component.subTree);if(w.shapeFlag&128)return w.suspense.next();const S=m(w.anchor||w.el),P=S&&S[wp];return P?m(P):S};let Z=!1;const X=(w,S,P)=>{w==null?S._vnode&&de(S._vnode,null,null,!0):x(S._vnode||null,w,S,null,null,null,P),S._vnode=w,Z||(Z=!0,vh(),yp(),Z=!1)},it={p:x,um:de,m:ze,r:bn,mt:Rt,mc:v,pc:wt,pbc:A,n:M,o:e};return{render:X,hydrate:void 0,createApp:l0(X)}}function ol({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Rr({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function _0(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Vc(e,t,n=!1){const r=e.children,s=t.children;if(dt(r)&&dt(s))for(let i=0;i<r.length;i++){const o=r[i];let l=s[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[i]=Qn(s[i]),l.el=o.el),!n&&l.patchFlag!==-2&&Vc(o,l)),l.type===ma&&l.patchFlag!==-1&&(l.el=o.el),l.type===Re&&!l.el&&(l.el=o.el)}}function y0(e){const t=e.slice(),n=[0];let r,s,i,o,l;const c=e.length;for(r=0;r<c;r++){const u=e[r];if(u!==0){if(s=n[n.length-1],e[s]<u){t[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)l=i+o>>1,e[n[l]]<u?i=l+1:o=l;u<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}function Gp(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Gp(t)}function Ph(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const v0=Symbol.for("v-scx"),E0=()=>Dn(v0);function us(e,t,n){return Kp(e,t,n)}function Kp(e,t,n=Mt){const{immediate:r,deep:s,flush:i,once:o}=n,l=ue({},n),c=t&&r||!t&&i!=="post";let u;if(Ri){if(i==="sync"){const g=E0();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!c){const g=()=>{};return g.stop=_n,g.resume=_n,g.pause=_n,g}}const h=Le;l.call=(g,C,x)=>on(g,h,C,x);let d=!1;i==="post"?l.scheduler=g=>{ke(g,h&&h.suspense)}:i!=="sync"&&(d=!0,l.scheduler=(g,C)=>{C?g():Sc(g)}),l.augmentJob=g=>{t&&(g.flags|=4),d&&(g.flags|=2,h&&(g.id=h.uid,g.i=h))};const m=My(e,t,l);return Ri&&(u?u.push(m):c&&m()),m}function w0(e,t,n){const r=this.proxy,s=Kt(e)?e.includes(".")?Wp(r,e):()=>r[e]:e.bind(r,r);let i;mt(t)?i=t:(i=t.handler,n=t);const o=$i(this),l=Kp(s,i.bind(r),n);return o(),l}function Wp(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const T0=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${or(t)}Modifiers`]||e[`${gr(t)}Modifiers`];function b0(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Mt;let s=n;const i=t.startsWith("update:"),o=i&&T0(r,t.slice(7));o&&(o.trim&&(s=n.map(h=>Kt(h)?h.trim():h)),o.number&&(s=n.map(yc)));let l,c=r[l=Ja(t)]||r[l=Ja(or(t))];!c&&i&&(c=r[l=Ja(gr(t))]),c&&on(c,e,6,s);const u=r[l+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,on(u,e,6,s)}}const A0=new WeakMap;function Qp(e,t,n=!1){const r=n?A0:t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let o={},l=!1;if(!mt(e)){const c=u=>{const h=Qp(u,t,!0);h&&(l=!0,ue(o,h))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!i&&!l?(Ut(e)&&r.set(e,null),null):(dt(i)?i.forEach(c=>o[c]=null):ue(o,i),Ut(e)&&r.set(e,o),o)}function pa(e,t){return!e||!ia(t)?!1:(t=t.slice(2).replace(/Once$/,""),Dt(e,t[0].toLowerCase()+t.slice(1))||Dt(e,gr(t))||Dt(e,t))}function Vh(e){const{type:t,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:l,emit:c,render:u,renderCache:h,props:d,data:m,setupState:g,ctx:C,inheritAttrs:x}=e,D=Lo(e);let U,$;try{if(n.shapeFlag&4){const q=s||r,nt=q;U=gn(u.call(nt,q,h,d,g,m,C)),$=l}else{const q=t;U=gn(q.length>1?q(d,{attrs:l,slots:o,emit:c}):q(d,null)),$=t.props?l:I0(l)}}catch(q){li.length=0,ha(q,e,1),U=At(Re)}let j=U;if($&&x!==!1){const q=Object.keys($),{shapeFlag:nt}=j;q.length&&nt&7&&(i&&q.some(mc)&&($=R0($,i)),j=lr(j,$,!1,!0))}return n.dirs&&(j=lr(j,null,!1,!0),j.dirs=j.dirs?j.dirs.concat(n.dirs):n.dirs),n.transition&&Ti(j,n.transition),U=j,Lo(D),U}const I0=e=>{let t;for(const n in e)(n==="class"||n==="style"||ia(n))&&((t||(t={}))[n]=e[n]);return t},R0=(e,t)=>{const n={};for(const r in e)(!mc(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function S0(e,t,n){const{props:r,children:s,component:i}=e,{props:o,children:l,patchFlag:c}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?Dh(r,o,u):!!o;if(c&8){const h=t.dynamicProps;for(let d=0;d<h.length;d++){const m=h[d];if(o[m]!==r[m]&&!pa(u,m))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:r===o?!1:r?o?Dh(r,o,u):!0:!!o;return!1}function Dh(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!pa(n,i))return!0}return!1}function C0({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const Xp=e=>e.__isSuspense;function x0(e,t){t&&t.pendingBranch?dt(e)?t.effects.push(...e):t.effects.push(e):Uy(e)}const re=Symbol.for("v-fgt"),ma=Symbol.for("v-txt"),Re=Symbol.for("v-cmt"),Io=Symbol.for("v-stc"),li=[];let We=null;function Y(e=!1){li.push(We=e?null:[])}function P0(){li.pop(),We=li[li.length-1]||null}let Ai=1;function Bo(e,t=!1){Ai+=e,e<0&&We&&t&&(We.hasOnce=!0)}function Yp(e){return e.dynamicChildren=Ai>0?We||ss:null,P0(),Ai>0&&We&&We.push(e),e}function et(e,t,n,r,s,i){return Yp(b(e,t,n,r,s,i,!0))}function Fr(e,t,n,r,s){return Yp(At(e,t,n,r,s,!0))}function Ii(e){return e?e.__v_isVNode===!0:!1}function Vr(e,t){return e.type===t.type&&e.key===t.key}const Jp=({key:e})=>e??null,Ro=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Kt(e)||Ce(e)||mt(e)?{i:Se,r:e,k:t,f:!!n}:e:null);function b(e,t=null,n=null,r=0,s=null,i=e===re?0:1,o=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Jp(t),ref:t&&Ro(t),scopeId:Ep,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Se};return l?(kc(c,n),i&128&&e.normalize(c)):n&&(c.shapeFlag|=Kt(n)?8:16),Ai>0&&!o&&We&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&We.push(c),c}const At=V0;function V0(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===t0)&&(e=Re),Ii(e)){const l=lr(e,t,!0);return n&&kc(l,n),Ai>0&&!i&&We&&(l.shapeFlag&6?We[We.indexOf(e)]=l:We.push(l)),l.patchFlag=-2,l}if($0(e)&&(e=e.__vccOpts),t){t=D0(t);let{class:l,style:c}=t;l&&!Kt(l)&&(t.class=yi(l)),Ut(c)&&(Rc(c)&&!dt(c)&&(c=ue({},c)),t.style=vc(c))}const o=Kt(e)?1:Xp(e)?128:Tp(e)?64:Ut(e)?4:mt(e)?2:0;return b(e,t,n,r,s,o,i,!0)}function D0(e){return e?Rc(e)||Bp(e)?ue({},e):e:null}function lr(e,t,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:l,transition:c}=e,u=t?k0(s||{},t):s,h={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&Jp(u),ref:t&&t.ref?n&&i?dt(i)?i.concat(Ro(t)):[i,Ro(t)]:Ro(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==re?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&lr(e.ssContent),ssFallback:e.ssFallback&&lr(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&r&&Ti(h,c.clone(h)),h}function at(e=" ",t=0){return At(ma,null,e,t)}function Dc(e,t){const n=At(Io,null,e);return n.staticCount=t,n}function Me(e="",t=!1){return t?(Y(),Fr(Re,null,e)):At(Re,null,e)}function gn(e){return e==null||typeof e=="boolean"?At(Re):dt(e)?At(re,null,e.slice()):Ii(e)?Qn(e):At(ma,null,String(e))}function Qn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:lr(e)}function kc(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(dt(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),kc(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!Bp(t)?t._ctx=Se:s===3&&Se&&(Se.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else mt(t)?(t={default:t,_ctx:Se},n=32):(t=String(t),r&64?(n=16,t=[at(t)]):n=8);e.children=t,e.shapeFlag|=n}function k0(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=yi([t.class,r.class]));else if(s==="style")t.style=vc([t.style,r.style]);else if(ia(s)){const i=t[s],o=r[s];o&&i!==o&&!(dt(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=r[s])}return t}function dn(e,t,n,r=null){on(e,t,7,[n,r])}const N0=Lp();let O0=0;function M0(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||N0,i={uid:O0++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Xd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:jp(r,s),emitsOptions:Qp(r,s),emit:null,emitted:null,propsDefaults:Mt,inheritAttrs:r.inheritAttrs,ctx:Mt,data:Mt,props:Mt,attrs:Mt,slots:Mt,refs:Mt,setupState:Mt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=b0.bind(null,i),e.ce&&e.ce(i),i}let Le=null;const Zp=()=>Le||Se;let $o,Ll;{const e=la(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};$o=t("__VUE_INSTANCE_SETTERS__",n=>Le=n),Ll=t("__VUE_SSR_SETTERS__",n=>Ri=n)}const $i=e=>{const t=Le;return $o(e),e.scope.on(),()=>{e.scope.off(),$o(t)}},kh=()=>{Le&&Le.scope.off(),$o(null)};function tm(e){return e.vnode.shapeFlag&4}let Ri=!1;function L0(e,t=!1,n=!1){t&&Ll(t);const{props:r,children:s}=e.vnode,i=tm(e);c0(e,r,i,t),d0(e,s,n||t);const o=i?F0(e,t):void 0;return t&&Ll(!1),o}function F0(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,e0);const{setup:r}=n;if(r){kn();const s=e.setupContext=r.length>1?B0(e):null,i=$i(e),o=Bi(r,e,0,[e.props,s]),l=jd(o);if(Nn(),i(),(l||e.sp)&&!ls(e)&&Vp(e),l){if(o.then(kh,kh),t)return o.then(c=>{Nh(e,c)}).catch(c=>{ha(c,e,0)});e.asyncDep=o}else Nh(e,o)}else em(e)}function Nh(e,t,n){mt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ut(t)&&(e.setupState=pp(t)),em(e)}function em(e,t,n){const r=e.type;e.render||(e.render=r.render||_n);{const s=$i(e);kn();try{n0(e)}finally{Nn(),s()}}}const U0={get(e,t){return Ie(e,"get",""),e[t]}};function B0(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,U0),slots:e.slots,emit:e.emit,expose:t}}function ga(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(pp(fp(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ai)return ai[n](e)},has(t,n){return n in t||n in ai}})):e.proxy}function $0(e){return mt(e)&&"__vccOpts"in e}const ce=(e,t)=>Ny(e,t,Ri);function Nc(e,t,n){try{Bo(-1);const r=arguments.length;return r===2?Ut(t)&&!dt(t)?Ii(t)?At(e,null,[t]):At(e,t):At(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ii(n)&&(n=[n]),At(e,t,n))}finally{Bo(1)}}const j0="3.5.24";let Fl;const Oh=typeof window<"u"&&window.trustedTypes;if(Oh)try{Fl=Oh.createPolicy("vue",{createHTML:e=>e})}catch{}const nm=Fl?e=>Fl.createHTML(e):e=>e,z0="http://www.w3.org/2000/svg",q0="http://www.w3.org/1998/Math/MathML",Sn=typeof document<"u"?document:null,Mh=Sn&&Sn.createElement("template"),H0={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?Sn.createElementNS(z0,e):t==="mathml"?Sn.createElementNS(q0,e):n?Sn.createElement(e,{is:n}):Sn.createElement(e);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>Sn.createTextNode(e),createComment:e=>Sn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Sn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,i){const o=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Mh.innerHTML=nm(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const l=Mh.content;if(r==="svg"||r==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Gn="transition",Gs="animation",Si=Symbol("_vtc"),rm={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},G0=ue({},Rp,rm),K0=e=>(e.displayName="Transition",e.props=G0,e),jo=K0((e,{slots:t})=>Nc(zy,W0(e),t)),Sr=(e,t=[])=>{dt(e)?e.forEach(n=>n(...t)):e&&e(...t)},Lh=e=>e?dt(e)?e.some(t=>t.length>1):e.length>1:!1;function W0(e){const t={};for(const I in e)I in rm||(t[I]=e[I]);if(e.css===!1)return t;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=i,appearActiveClass:u=o,appearToClass:h=l,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:m=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=e,C=Q0(s),x=C&&C[0],D=C&&C[1],{onBeforeEnter:U,onEnter:$,onEnterCancelled:j,onLeave:q,onLeaveCancelled:nt,onBeforeAppear:rt=U,onAppear:R=$,onAppearCancelled:v=j}=t,_=(I,E,Rt,Wt)=>{I._enterCancelled=Wt,Cr(I,E?h:l),Cr(I,E?u:o),Rt&&Rt()},A=(I,E)=>{I._isLeaving=!1,Cr(I,d),Cr(I,g),Cr(I,m),E&&E()},T=I=>(E,Rt)=>{const Wt=I?R:$,jt=()=>_(E,I,Rt);Sr(Wt,[E,jt]),Fh(()=>{Cr(E,I?c:i),In(E,I?h:l),Lh(Wt)||Uh(E,r,x,jt)})};return ue(t,{onBeforeEnter(I){Sr(U,[I]),In(I,i),In(I,o)},onBeforeAppear(I){Sr(rt,[I]),In(I,c),In(I,u)},onEnter:T(!1),onAppear:T(!0),onLeave(I,E){I._isLeaving=!0;const Rt=()=>A(I,E);In(I,d),I._enterCancelled?(In(I,m),jh(I)):(jh(I),In(I,m)),Fh(()=>{I._isLeaving&&(Cr(I,d),In(I,g),Lh(q)||Uh(I,r,D,Rt))}),Sr(q,[I,Rt])},onEnterCancelled(I){_(I,!1,void 0,!0),Sr(j,[I])},onAppearCancelled(I){_(I,!0,void 0,!0),Sr(v,[I])},onLeaveCancelled(I){A(I),Sr(nt,[I])}})}function Q0(e){if(e==null)return null;if(Ut(e))return[al(e.enter),al(e.leave)];{const t=al(e);return[t,t]}}function al(e){return ry(e)}function In(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Si]||(e[Si]=new Set)).add(t)}function Cr(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[Si];n&&(n.delete(t),n.size||(e[Si]=void 0))}function Fh(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let X0=0;function Uh(e,t,n,r){const s=e._endId=++X0,i=()=>{s===e._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:l,propCount:c}=Y0(e,t);if(!o)return r();const u=o+"end";let h=0;const d=()=>{e.removeEventListener(u,m),i()},m=g=>{g.target===e&&++h>=c&&d()};setTimeout(()=>{h<c&&d()},l+1),e.addEventListener(u,m)}function Y0(e,t){const n=window.getComputedStyle(e),r=C=>(n[C]||"").split(", "),s=r(`${Gn}Delay`),i=r(`${Gn}Duration`),o=Bh(s,i),l=r(`${Gs}Delay`),c=r(`${Gs}Duration`),u=Bh(l,c);let h=null,d=0,m=0;t===Gn?o>0&&(h=Gn,d=o,m=i.length):t===Gs?u>0&&(h=Gs,d=u,m=c.length):(d=Math.max(o,u),h=d>0?o>u?Gn:Gs:null,m=h?h===Gn?i.length:c.length:0);const g=h===Gn&&/\b(?:transform|all)(?:,|$)/.test(r(`${Gn}Property`).toString());return{type:h,timeout:d,propCount:m,hasTransform:g}}function Bh(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>$h(n)+$h(e[r])))}function $h(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function jh(e){return(e?e.ownerDocument:document).body.offsetHeight}function J0(e,t,n){const r=e[Si];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const zh=Symbol("_vod"),Z0=Symbol("_vsh"),tv=Symbol(""),ev=/(?:^|;)\s*display\s*:/;function nv(e,t,n){const r=e.style,s=Kt(n);let i=!1;if(n&&!s){if(t)if(Kt(t))for(const o of t.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&So(r,l,"")}else for(const o in t)n[o]==null&&So(r,o,"");for(const o in n)o==="display"&&(i=!0),So(r,o,n[o])}else if(s){if(t!==n){const o=r[tv];o&&(n+=";"+o),r.cssText=n,i=ev.test(n)}}else t&&e.removeAttribute("style");zh in e&&(e[zh]=i?r.display:"",e[Z0]&&(r.display="none"))}const qh=/\s*!important$/;function So(e,t,n){if(dt(n))n.forEach(r=>So(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=rv(e,t);qh.test(n)?e.setProperty(gr(r),n.replace(qh,""),"important"):e[r]=n}}const Hh=["Webkit","Moz","ms"],ll={};function rv(e,t){const n=ll[t];if(n)return n;let r=or(t);if(r!=="filter"&&r in e)return ll[t]=r;r=Hd(r);for(let s=0;s<Hh.length;s++){const i=Hh[s]+r;if(i in e)return ll[t]=i}return t}const Gh="http://www.w3.org/1999/xlink";function Kh(e,t,n,r,s,i=cy(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Gh,t.slice(6,t.length)):e.setAttributeNS(Gh,t,n):n==null||i&&!Kd(n)?e.removeAttribute(t):e.setAttribute(t,i?"":Fn(n)?String(n):n)}function Wh(e,t,n,r,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?nm(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?e.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=Kd(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(s||t)}function Yr(e,t,n,r){e.addEventListener(t,n,r)}function sv(e,t,n,r){e.removeEventListener(t,n,r)}const Qh=Symbol("_vei");function iv(e,t,n,r,s=null){const i=e[Qh]||(e[Qh]={}),o=i[t];if(r&&o)o.value=r;else{const[l,c]=ov(t);if(r){const u=i[t]=cv(r,s);Yr(e,l,u,c)}else o&&(sv(e,l,o,c),i[t]=void 0)}}const Xh=/(?:Once|Passive|Capture)$/;function ov(e){let t;if(Xh.test(e)){t={};let r;for(;r=e.match(Xh);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):gr(e.slice(2)),t]}let cl=0;const av=Promise.resolve(),lv=()=>cl||(av.then(()=>cl=0),cl=Date.now());function cv(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;on(uv(r,n.value),t,5,[r])};return n.value=e,n.attached=lv(),n}function uv(e,t){if(dt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const Yh=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,hv=(e,t,n,r,s,i)=>{const o=s==="svg";t==="class"?J0(e,r,o):t==="style"?nv(e,n,r):ia(t)?mc(t)||iv(e,t,n,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):fv(e,t,r,o))?(Wh(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Kh(e,t,r,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Kt(r))?Wh(e,or(t),r,i,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Kh(e,t,r,o))};function fv(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Yh(t)&&mt(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Yh(t)&&Kt(n)?!1:t in e}const Jh=e=>{const t=e.props["onUpdate:modelValue"]||!1;return dt(t)?n=>To(t,n):t};function dv(e){e.target.composing=!0}function Zh(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ul=Symbol("_assign");function tf(e,t,n){return t&&(e=e.trim()),n&&(e=yc(e)),e}const Ul={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e[ul]=Jh(s);const i=r||s.props&&s.props.type==="number";Yr(e,t?"change":"input",o=>{o.target.composing||e[ul](tf(e.value,n,i))}),(n||i)&&Yr(e,"change",()=>{e.value=tf(e.value,n,i)}),t||(Yr(e,"compositionstart",dv),Yr(e,"compositionend",Zh),Yr(e,"change",Zh))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(e[ul]=Jh(o),e.composing)return;const l=(i||e.type==="number")&&!/^0\d/.test(e.value)?yc(e.value):e.value,c=t??"";l!==c&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||s&&e.value.trim()===c)||(e.value=c))}},pv=["ctrl","shift","alt","meta"],mv={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>pv.some(n=>e[`${n}Key`]&&!t.includes(n))},gv=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=((s,...i)=>{for(let o=0;o<t.length;o++){const l=mv[t[o]];if(l&&l(s,t))return}return e(s,...i)}))},_v={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ef=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=(s=>{if(!("key"in s))return;const i=gr(s.key);if(t.some(o=>o===i||_v[o]===i))return e(s)}))},yv=ue({patchProp:hv},H0);let nf;function vv(){return nf||(nf=m0(yv))}const Ev=((...e)=>{const t=vv().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=Tv(r);if(!s)return;const i=t._component;!mt(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,wv(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t});function wv(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Tv(e){return Kt(e)?document.querySelector(e):e}const bv=Symbol();var rf;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(rf||(rf={}));function Av(){const e=uy(!0),t=e.run(()=>xt({}));let n=[],r=[];const s=fp({install(i){s._a=i,i.provide(bv,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return this._a?n.push(i):r.push(i),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}const Iv=()=>{};var sf={};const sm=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},Rv=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=e[n++],o=e[n++],l=e[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{const i=e[n++],o=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return t.join("")},im={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const i=e[s],o=s+1<e.length,l=o?e[s+1]:0,c=s+2<e.length,u=c?e[s+2]:0,h=i>>2,d=(i&3)<<4|l>>4;let m=(l&15)<<2|u>>6,g=u&63;c||(g=64,o||(m=64)),r.push(n[h],n[d],n[m],n[g])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(sm(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Rv(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const i=n[e.charAt(s++)],l=s<e.length?n[e.charAt(s)]:0;++s;const u=s<e.length?n[e.charAt(s)]:64;++s;const d=s<e.length?n[e.charAt(s)]:64;if(++s,i==null||l==null||u==null||d==null)throw new Sv;const m=i<<2|l>>4;if(r.push(m),u!==64){const g=l<<4&240|u>>2;if(r.push(g),d!==64){const C=u<<6&192|d;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Sv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Cv=function(e){const t=sm(e);return im.encodeByteArray(t,!0)},zo=function(e){return Cv(e).replace(/\./g,"")},xv=function(e){try{return im.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Pv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Vv=()=>Pv().__FIREBASE_DEFAULTS__,Dv=()=>{if(typeof process>"u"||typeof sf>"u")return;const e=sf.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},kv=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&xv(e[1]);return t&&JSON.parse(t)},Oc=()=>{try{return Iv()||Vv()||Dv()||kv()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Nv=e=>Oc()?.emulatorHosts?.[e],om=e=>{const t=Nv(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},am=()=>Oc()?.config;class Ov{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function ji(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lm(e){return(await fetch(e,{credentials:"include"})).ok}function cm(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",s=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...e};return[zo(JSON.stringify(n)),zo(JSON.stringify(o)),""].join(".")}const ci={};function Mv(){const e={prod:[],emulator:[]};for(const t of Object.keys(ci))ci[t]?e.emulator.push(t):e.prod.push(t);return e}function Lv(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let of=!1;function um(e,t){if(typeof window>"u"||typeof document>"u"||!ji(window.location.host)||ci[e]===t||ci[e]||of)return;ci[e]=t;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=Mv().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{of=!0,o()},m}function h(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function d(){const m=Lv(r),g=n("text"),C=document.getElementById(g)||document.createElement("span"),x=n("learnmore"),D=document.getElementById(x)||document.createElement("a"),U=n("preprendIcon"),$=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const j=m.element;l(j),h(D,x);const q=u();c($,U),j.append($,C,D,q),document.body.appendChild(j)}i?(C.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}function Fv(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Uv(){const e=Oc()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Bv(){return!Uv()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $v(){try{return typeof indexedDB=="object"}catch{return!1}}function jv(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{t(s.error?.message||"")}}catch(n){t(n)}})}const zv="FirebaseError";class jr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=zv,Object.setPrototypeOf(this,jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hm.prototype.create)}}class hm{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,i=this.errors[t],o=i?qv(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new jr(s,l,r)}}function qv(e,t){return e.replace(Hv,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const Hv=/\{\$([^}]+)}/g;function qo(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const i=e[s],o=t[s];if(af(i)&&af(o)){if(!qo(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function af(e){return e!==null&&typeof e=="object"}function xe(e){return e&&e._delegate?e._delegate:e}class ds{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Pr="[DEFAULT]";class Gv{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Ov;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Wv(t))try{this.getOrInitializeService({instanceIdentifier:Pr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(t=Pr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Pr){return this.instances.has(t)}getOptions(t=Pr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(t),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&t(i,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Kv(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Pr){return this.component?this.component.multipleInstances?t:Pr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Kv(e){return e===Pr?void 0:e}function Wv(e){return e.instantiationMode==="EAGER"}class Qv{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Gv(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var bt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(bt||(bt={}));const Xv={debug:bt.DEBUG,verbose:bt.VERBOSE,info:bt.INFO,warn:bt.WARN,error:bt.ERROR,silent:bt.SILENT},Yv=bt.INFO,Jv={[bt.DEBUG]:"log",[bt.VERBOSE]:"log",[bt.INFO]:"info",[bt.WARN]:"warn",[bt.ERROR]:"error"},Zv=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=Jv[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class fm{constructor(t){this.name=t,this._logLevel=Yv,this._logHandler=Zv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Xv[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,bt.DEBUG,...t),this._logHandler(this,bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,bt.VERBOSE,...t),this._logHandler(this,bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,bt.INFO,...t),this._logHandler(this,bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,bt.WARN,...t),this._logHandler(this,bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,bt.ERROR,...t),this._logHandler(this,bt.ERROR,...t)}}const t1=(e,t)=>t.some(n=>e instanceof n);let lf,cf;function e1(){return lf||(lf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n1(){return cf||(cf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dm=new WeakMap,Bl=new WeakMap,pm=new WeakMap,hl=new WeakMap,Mc=new WeakMap;function r1(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{n(tr(e.result)),s()},o=()=>{r(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&dm.set(n,e)}).catch(()=>{}),Mc.set(t,e),t}function s1(e){if(Bl.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});Bl.set(e,t)}let $l={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Bl.get(e);if(t==="objectStoreNames")return e.objectStoreNames||pm.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return tr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function i1(e){$l=e($l)}function o1(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(fl(this),t,...n);return pm.set(r,t.sort?t.sort():[t]),tr(r)}:n1().includes(e)?function(...t){return e.apply(fl(this),t),tr(dm.get(this))}:function(...t){return tr(e.apply(fl(this),t))}}function a1(e){return typeof e=="function"?o1(e):(e instanceof IDBTransaction&&s1(e),t1(e,e1())?new Proxy(e,$l):e)}function tr(e){if(e instanceof IDBRequest)return r1(e);if(hl.has(e))return hl.get(e);const t=a1(e);return t!==e&&(hl.set(e,t),Mc.set(t,e)),t}const fl=e=>Mc.get(e);function l1(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(e,t),l=tr(o);return r&&o.addEventListener("upgradeneeded",c=>{r(tr(o.result),c.oldVersion,c.newVersion,tr(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const c1=["get","getKey","getAll","getAllKeys","count"],u1=["put","add","delete","clear"],dl=new Map;function uf(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(dl.get(t))return dl.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=u1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||c1.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return dl.set(t,i),i}i1(e=>({...e,get:(t,n,r)=>uf(t,n)||e.get(t,n,r),has:(t,n)=>!!uf(t,n)||e.has(t,n)}));class h1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(f1(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function f1(e){return e.getComponent()?.type==="VERSION"}const jl="@firebase/app",hf="0.14.6";const On=new fm("@firebase/app"),d1="@firebase/app-compat",p1="@firebase/analytics-compat",m1="@firebase/analytics",g1="@firebase/app-check-compat",_1="@firebase/app-check",y1="@firebase/auth",v1="@firebase/auth-compat",E1="@firebase/database",w1="@firebase/data-connect",T1="@firebase/database-compat",b1="@firebase/functions",A1="@firebase/functions-compat",I1="@firebase/installations",R1="@firebase/installations-compat",S1="@firebase/messaging",C1="@firebase/messaging-compat",x1="@firebase/performance",P1="@firebase/performance-compat",V1="@firebase/remote-config",D1="@firebase/remote-config-compat",k1="@firebase/storage",N1="@firebase/storage-compat",O1="@firebase/firestore",M1="@firebase/ai",L1="@firebase/firestore-compat",F1="firebase",U1="12.6.0";const zl="[DEFAULT]",B1={[jl]:"fire-core",[d1]:"fire-core-compat",[m1]:"fire-analytics",[p1]:"fire-analytics-compat",[_1]:"fire-app-check",[g1]:"fire-app-check-compat",[y1]:"fire-auth",[v1]:"fire-auth-compat",[E1]:"fire-rtdb",[w1]:"fire-data-connect",[T1]:"fire-rtdb-compat",[b1]:"fire-fn",[A1]:"fire-fn-compat",[I1]:"fire-iid",[R1]:"fire-iid-compat",[S1]:"fire-fcm",[C1]:"fire-fcm-compat",[x1]:"fire-perf",[P1]:"fire-perf-compat",[V1]:"fire-rc",[D1]:"fire-rc-compat",[k1]:"fire-gcs",[N1]:"fire-gcs-compat",[O1]:"fire-fst",[L1]:"fire-fst-compat",[M1]:"fire-vertex","fire-js":"fire-js",[F1]:"fire-js-all"};const Ho=new Map,$1=new Map,ql=new Map;function ff(e,t){try{e.container.addComponent(t)}catch(n){On.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ci(e){const t=e.name;if(ql.has(t))return On.debug(`There were multiple attempts to register component ${t}.`),!1;ql.set(t,e);for(const n of Ho.values())ff(n,e);for(const n of $1.values())ff(n,e);return!0}function mm(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function gm(e){return e==null?!1:e.settings!==void 0}const j1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},er=new hm("app","Firebase",j1);class z1{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw er.create("app-deleted",{appName:this._name})}}const _m=U1;function ym(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:zl,automaticDataCollectionEnabled:!0,...t},s=r.name;if(typeof s!="string"||!s)throw er.create("bad-app-name",{appName:String(s)});if(n||(n=am()),!n)throw er.create("no-options");const i=Ho.get(s);if(i){if(qo(n,i.options)&&qo(r,i.config))return i;throw er.create("duplicate-app",{appName:s})}const o=new Qv(s);for(const c of ql.values())o.addComponent(c);const l=new z1(n,r,o);return Ho.set(s,l),l}function vm(e=zl){const t=Ho.get(e);if(!t&&e===zl&&am())return ym();if(!t)throw er.create("no-app",{appName:e});return t}function nr(e,t,n){let r=B1[e]??e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=t.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${t}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),On.warn(o.join(" "));return}Ci(new ds(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const q1="firebase-heartbeat-database",H1=1,xi="firebase-heartbeat-store";let pl=null;function Em(){return pl||(pl=l1(q1,H1,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(xi)}catch(n){console.warn(n)}}}}).catch(e=>{throw er.create("idb-open",{originalErrorMessage:e.message})})),pl}async function G1(e){try{const n=(await Em()).transaction(xi),r=await n.objectStore(xi).get(wm(e));return await n.done,r}catch(t){if(t instanceof jr)On.warn(t.message);else{const n=er.create("idb-get",{originalErrorMessage:t?.message});On.warn(n.message)}}}async function df(e,t){try{const r=(await Em()).transaction(xi,"readwrite");await r.objectStore(xi).put(t,wm(e)),await r.done}catch(n){if(n instanceof jr)On.warn(n.message);else{const r=er.create("idb-set",{originalErrorMessage:n?.message});On.warn(r.message)}}}function wm(e){return`${e.name}!${e.options.appId}`}const K1=1024,W1=30;class Q1{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Y1(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=pf();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>W1){const s=J1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){On.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=pf(),{heartbeatsToSend:n,unsentEntries:r}=X1(this._heartbeatsCache.heartbeats),s=zo(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return On.warn(t),""}}}function pf(){return new Date().toISOString().substring(0,10)}function X1(e,t=K1){const n=[];let r=e.slice();for(const s of e){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),mf(n)>t){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),mf(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Y1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $v()?jv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await G1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return df(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return df(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function mf(e){return zo(JSON.stringify({version:2,heartbeats:e})).length}function J1(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function Z1(e){Ci(new ds("platform-logger",t=>new h1(t),"PRIVATE")),Ci(new ds("heartbeat",t=>new Q1(t),"PRIVATE")),nr(jl,hf,e),nr(jl,hf,"esm2020"),nr("fire-js","")}Z1("");var tE="firebase",eE="12.6.0";nr(tE,eE,"app");var gf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var rr,Tm;(function(){var e;function t(R,v){function _(){}_.prototype=v.prototype,R.F=v.prototype,R.prototype=new _,R.prototype.constructor=R,R.D=function(A,T,I){for(var E=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)E[Rt-2]=arguments[Rt];return v.prototype[T].apply(A,E)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(R,v,_){_||(_=0);const A=Array(16);if(typeof v=="string")for(var T=0;T<16;++T)A[T]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(T=0;T<16;++T)A[T]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=R.g[0],_=R.g[1],T=R.g[2];let I=R.g[3],E;E=v+(I^_&(T^I))+A[0]+3614090360&4294967295,v=_+(E<<7&4294967295|E>>>25),E=I+(T^v&(_^T))+A[1]+3905402710&4294967295,I=v+(E<<12&4294967295|E>>>20),E=T+(_^I&(v^_))+A[2]+606105819&4294967295,T=I+(E<<17&4294967295|E>>>15),E=_+(v^T&(I^v))+A[3]+3250441966&4294967295,_=T+(E<<22&4294967295|E>>>10),E=v+(I^_&(T^I))+A[4]+4118548399&4294967295,v=_+(E<<7&4294967295|E>>>25),E=I+(T^v&(_^T))+A[5]+1200080426&4294967295,I=v+(E<<12&4294967295|E>>>20),E=T+(_^I&(v^_))+A[6]+2821735955&4294967295,T=I+(E<<17&4294967295|E>>>15),E=_+(v^T&(I^v))+A[7]+4249261313&4294967295,_=T+(E<<22&4294967295|E>>>10),E=v+(I^_&(T^I))+A[8]+1770035416&4294967295,v=_+(E<<7&4294967295|E>>>25),E=I+(T^v&(_^T))+A[9]+2336552879&4294967295,I=v+(E<<12&4294967295|E>>>20),E=T+(_^I&(v^_))+A[10]+4294925233&4294967295,T=I+(E<<17&4294967295|E>>>15),E=_+(v^T&(I^v))+A[11]+2304563134&4294967295,_=T+(E<<22&4294967295|E>>>10),E=v+(I^_&(T^I))+A[12]+1804603682&4294967295,v=_+(E<<7&4294967295|E>>>25),E=I+(T^v&(_^T))+A[13]+4254626195&4294967295,I=v+(E<<12&4294967295|E>>>20),E=T+(_^I&(v^_))+A[14]+2792965006&4294967295,T=I+(E<<17&4294967295|E>>>15),E=_+(v^T&(I^v))+A[15]+1236535329&4294967295,_=T+(E<<22&4294967295|E>>>10),E=v+(T^I&(_^T))+A[1]+4129170786&4294967295,v=_+(E<<5&4294967295|E>>>27),E=I+(_^T&(v^_))+A[6]+3225465664&4294967295,I=v+(E<<9&4294967295|E>>>23),E=T+(v^_&(I^v))+A[11]+643717713&4294967295,T=I+(E<<14&4294967295|E>>>18),E=_+(I^v&(T^I))+A[0]+3921069994&4294967295,_=T+(E<<20&4294967295|E>>>12),E=v+(T^I&(_^T))+A[5]+3593408605&4294967295,v=_+(E<<5&4294967295|E>>>27),E=I+(_^T&(v^_))+A[10]+38016083&4294967295,I=v+(E<<9&4294967295|E>>>23),E=T+(v^_&(I^v))+A[15]+3634488961&4294967295,T=I+(E<<14&4294967295|E>>>18),E=_+(I^v&(T^I))+A[4]+3889429448&4294967295,_=T+(E<<20&4294967295|E>>>12),E=v+(T^I&(_^T))+A[9]+568446438&4294967295,v=_+(E<<5&4294967295|E>>>27),E=I+(_^T&(v^_))+A[14]+3275163606&4294967295,I=v+(E<<9&4294967295|E>>>23),E=T+(v^_&(I^v))+A[3]+4107603335&4294967295,T=I+(E<<14&4294967295|E>>>18),E=_+(I^v&(T^I))+A[8]+1163531501&4294967295,_=T+(E<<20&4294967295|E>>>12),E=v+(T^I&(_^T))+A[13]+2850285829&4294967295,v=_+(E<<5&4294967295|E>>>27),E=I+(_^T&(v^_))+A[2]+4243563512&4294967295,I=v+(E<<9&4294967295|E>>>23),E=T+(v^_&(I^v))+A[7]+1735328473&4294967295,T=I+(E<<14&4294967295|E>>>18),E=_+(I^v&(T^I))+A[12]+2368359562&4294967295,_=T+(E<<20&4294967295|E>>>12),E=v+(_^T^I)+A[5]+4294588738&4294967295,v=_+(E<<4&4294967295|E>>>28),E=I+(v^_^T)+A[8]+2272392833&4294967295,I=v+(E<<11&4294967295|E>>>21),E=T+(I^v^_)+A[11]+1839030562&4294967295,T=I+(E<<16&4294967295|E>>>16),E=_+(T^I^v)+A[14]+4259657740&4294967295,_=T+(E<<23&4294967295|E>>>9),E=v+(_^T^I)+A[1]+2763975236&4294967295,v=_+(E<<4&4294967295|E>>>28),E=I+(v^_^T)+A[4]+1272893353&4294967295,I=v+(E<<11&4294967295|E>>>21),E=T+(I^v^_)+A[7]+4139469664&4294967295,T=I+(E<<16&4294967295|E>>>16),E=_+(T^I^v)+A[10]+3200236656&4294967295,_=T+(E<<23&4294967295|E>>>9),E=v+(_^T^I)+A[13]+681279174&4294967295,v=_+(E<<4&4294967295|E>>>28),E=I+(v^_^T)+A[0]+3936430074&4294967295,I=v+(E<<11&4294967295|E>>>21),E=T+(I^v^_)+A[3]+3572445317&4294967295,T=I+(E<<16&4294967295|E>>>16),E=_+(T^I^v)+A[6]+76029189&4294967295,_=T+(E<<23&4294967295|E>>>9),E=v+(_^T^I)+A[9]+3654602809&4294967295,v=_+(E<<4&4294967295|E>>>28),E=I+(v^_^T)+A[12]+3873151461&4294967295,I=v+(E<<11&4294967295|E>>>21),E=T+(I^v^_)+A[15]+530742520&4294967295,T=I+(E<<16&4294967295|E>>>16),E=_+(T^I^v)+A[2]+3299628645&4294967295,_=T+(E<<23&4294967295|E>>>9),E=v+(T^(_|~I))+A[0]+4096336452&4294967295,v=_+(E<<6&4294967295|E>>>26),E=I+(_^(v|~T))+A[7]+1126891415&4294967295,I=v+(E<<10&4294967295|E>>>22),E=T+(v^(I|~_))+A[14]+2878612391&4294967295,T=I+(E<<15&4294967295|E>>>17),E=_+(I^(T|~v))+A[5]+4237533241&4294967295,_=T+(E<<21&4294967295|E>>>11),E=v+(T^(_|~I))+A[12]+1700485571&4294967295,v=_+(E<<6&4294967295|E>>>26),E=I+(_^(v|~T))+A[3]+2399980690&4294967295,I=v+(E<<10&4294967295|E>>>22),E=T+(v^(I|~_))+A[10]+4293915773&4294967295,T=I+(E<<15&4294967295|E>>>17),E=_+(I^(T|~v))+A[1]+2240044497&4294967295,_=T+(E<<21&4294967295|E>>>11),E=v+(T^(_|~I))+A[8]+1873313359&4294967295,v=_+(E<<6&4294967295|E>>>26),E=I+(_^(v|~T))+A[15]+4264355552&4294967295,I=v+(E<<10&4294967295|E>>>22),E=T+(v^(I|~_))+A[6]+2734768916&4294967295,T=I+(E<<15&4294967295|E>>>17),E=_+(I^(T|~v))+A[13]+1309151649&4294967295,_=T+(E<<21&4294967295|E>>>11),E=v+(T^(_|~I))+A[4]+4149444226&4294967295,v=_+(E<<6&4294967295|E>>>26),E=I+(_^(v|~T))+A[11]+3174756917&4294967295,I=v+(E<<10&4294967295|E>>>22),E=T+(v^(I|~_))+A[2]+718787259&4294967295,T=I+(E<<15&4294967295|E>>>17),E=_+(I^(T|~v))+A[9]+3951481745&4294967295,R.g[0]=R.g[0]+v&4294967295,R.g[1]=R.g[1]+(T+(E<<21&4294967295|E>>>11))&4294967295,R.g[2]=R.g[2]+T&4294967295,R.g[3]=R.g[3]+I&4294967295}r.prototype.v=function(R,v){v===void 0&&(v=R.length);const _=v-this.blockSize,A=this.C;let T=this.h,I=0;for(;I<v;){if(T==0)for(;I<=_;)s(this,R,I),I+=this.blockSize;if(typeof R=="string"){for(;I<v;)if(A[T++]=R.charCodeAt(I++),T==this.blockSize){s(this,A),T=0;break}}else for(;I<v;)if(A[T++]=R[I++],T==this.blockSize){s(this,A),T=0;break}}this.h=T,this.o+=v},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var v=1;v<R.length-8;++v)R[v]=0;v=this.o*8;for(var _=R.length-8;_<R.length;++_)R[_]=v&255,v/=256;for(this.v(R),R=Array(16),v=0,_=0;_<4;++_)for(let A=0;A<32;A+=8)R[v++]=this.g[_]>>>A&255;return R};function i(R,v){var _=l;return Object.prototype.hasOwnProperty.call(_,R)?_[R]:_[R]=v(R)}function o(R,v){this.h=v;const _=[];let A=!0;for(let T=R.length-1;T>=0;T--){const I=R[T]|0;A&&I==v||(_[T]=I,A=!1)}this.g=_}var l={};function c(R){return-128<=R&&R<128?i(R,function(v){return new o([v|0],v<0?-1:0)}):new o([R|0],R<0?-1:0)}function u(R){if(isNaN(R)||!isFinite(R))return d;if(R<0)return D(u(-R));const v=[];let _=1;for(let A=0;R>=_;A++)v[A]=R/_|0,_*=4294967296;return new o(v,0)}function h(R,v){if(R.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(R.charAt(0)=="-")return D(h(R.substring(1),v));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const _=u(Math.pow(v,8));let A=d;for(let I=0;I<R.length;I+=8){var T=Math.min(8,R.length-I);const E=parseInt(R.substring(I,I+T),v);T<8?(T=u(Math.pow(v,T)),A=A.j(T).add(u(E))):(A=A.j(_),A=A.add(u(E)))}return A}var d=c(0),m=c(1),g=c(16777216);e=o.prototype,e.m=function(){if(x(this))return-D(this).m();let R=0,v=1;for(let _=0;_<this.g.length;_++){const A=this.i(_);R+=(A>=0?A:4294967296+A)*v,v*=4294967296}return R},e.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(C(this))return"0";if(x(this))return"-"+D(this).toString(R);const v=u(Math.pow(R,6));var _=this;let A="";for(;;){const T=q(_,v).g;_=U(_,T.j(v));let I=((_.g.length>0?_.g[0]:_.h)>>>0).toString(R);if(_=T,C(_))return I+A;for(;I.length<6;)I="0"+I;A=I+A}},e.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function C(R){if(R.h!=0)return!1;for(let v=0;v<R.g.length;v++)if(R.g[v]!=0)return!1;return!0}function x(R){return R.h==-1}e.l=function(R){return R=U(this,R),x(R)?-1:C(R)?0:1};function D(R){const v=R.g.length,_=[];for(let A=0;A<v;A++)_[A]=~R.g[A];return new o(_,~R.h).add(m)}e.abs=function(){return x(this)?D(this):this},e.add=function(R){const v=Math.max(this.g.length,R.g.length),_=[];let A=0;for(let T=0;T<=v;T++){let I=A+(this.i(T)&65535)+(R.i(T)&65535),E=(I>>>16)+(this.i(T)>>>16)+(R.i(T)>>>16);A=E>>>16,I&=65535,E&=65535,_[T]=E<<16|I}return new o(_,_[_.length-1]&-2147483648?-1:0)};function U(R,v){return R.add(D(v))}e.j=function(R){if(C(this)||C(R))return d;if(x(this))return x(R)?D(this).j(D(R)):D(D(this).j(R));if(x(R))return D(this.j(D(R)));if(this.l(g)<0&&R.l(g)<0)return u(this.m()*R.m());const v=this.g.length+R.g.length,_=[];for(var A=0;A<2*v;A++)_[A]=0;for(A=0;A<this.g.length;A++)for(let T=0;T<R.g.length;T++){const I=this.i(A)>>>16,E=this.i(A)&65535,Rt=R.i(T)>>>16,Wt=R.i(T)&65535;_[2*A+2*T]+=E*Wt,$(_,2*A+2*T),_[2*A+2*T+1]+=I*Wt,$(_,2*A+2*T+1),_[2*A+2*T+1]+=E*Rt,$(_,2*A+2*T+1),_[2*A+2*T+2]+=I*Rt,$(_,2*A+2*T+2)}for(R=0;R<v;R++)_[R]=_[2*R+1]<<16|_[2*R];for(R=v;R<2*v;R++)_[R]=0;return new o(_,0)};function $(R,v){for(;(R[v]&65535)!=R[v];)R[v+1]+=R[v]>>>16,R[v]&=65535,v++}function j(R,v){this.g=R,this.h=v}function q(R,v){if(C(v))throw Error("division by zero");if(C(R))return new j(d,d);if(x(R))return v=q(D(R),v),new j(D(v.g),D(v.h));if(x(v))return v=q(R,D(v)),new j(D(v.g),v.h);if(R.g.length>30){if(x(R)||x(v))throw Error("slowDivide_ only works with positive integers.");for(var _=m,A=v;A.l(R)<=0;)_=nt(_),A=nt(A);var T=rt(_,1),I=rt(A,1);for(A=rt(A,2),_=rt(_,2);!C(A);){var E=I.add(A);E.l(R)<=0&&(T=T.add(_),I=E),A=rt(A,1),_=rt(_,1)}return v=U(R,T.j(v)),new j(T,v)}for(T=d;R.l(v)>=0;){for(_=Math.max(1,Math.floor(R.m()/v.m())),A=Math.ceil(Math.log(_)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),I=u(_),E=I.j(v);x(E)||E.l(R)>0;)_-=A,I=u(_),E=I.j(v);C(I)&&(I=m),T=T.add(I),R=U(R,E)}return new j(T,R)}e.B=function(R){return q(this,R).h},e.and=function(R){const v=Math.max(this.g.length,R.g.length),_=[];for(let A=0;A<v;A++)_[A]=this.i(A)&R.i(A);return new o(_,this.h&R.h)},e.or=function(R){const v=Math.max(this.g.length,R.g.length),_=[];for(let A=0;A<v;A++)_[A]=this.i(A)|R.i(A);return new o(_,this.h|R.h)},e.xor=function(R){const v=Math.max(this.g.length,R.g.length),_=[];for(let A=0;A<v;A++)_[A]=this.i(A)^R.i(A);return new o(_,this.h^R.h)};function nt(R){const v=R.g.length+1,_=[];for(let A=0;A<v;A++)_[A]=R.i(A)<<1|R.i(A-1)>>>31;return new o(_,R.h)}function rt(R,v){const _=v>>5;v%=32;const A=R.g.length-_,T=[];for(let I=0;I<A;I++)T[I]=v>0?R.i(I+_)>>>v|R.i(I+_+1)<<32-v:R.i(I+_);return new o(T,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Tm=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,rr=o}).apply(typeof gf<"u"?gf:typeof self<"u"?self:typeof window<"u"?window:{});var po=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var bm,Js,Am,Co,Hl,Im,Rm,Sm;(function(){var e,t=Object.defineProperty;function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof po=="object"&&po];for(var f=0;f<a.length;++f){var p=a[f];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function s(a,f){if(f)t:{var p=r;a=a.split(".");for(var y=0;y<a.length-1;y++){var V=a[y];if(!(V in p))break t;p=p[V]}a=a[a.length-1],y=p[a],f=f(y),f!=y&&f!=null&&t(p,a,{configurable:!0,writable:!0,value:f})}}s("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(a){return a||function(f){var p=[],y;for(y in f)Object.prototype.hasOwnProperty.call(f,y)&&p.push([y,f[y]]);return p}});var i=i||{},o=this||self;function l(a){var f=typeof a;return f=="object"&&a!=null||f=="function"}function c(a,f,p){return a.call.apply(a.bind,arguments)}function u(a,f,p){return u=c,u.apply(null,arguments)}function h(a,f){var p=Array.prototype.slice.call(arguments,1);return function(){var y=p.slice();return y.push.apply(y,arguments),a.apply(this,y)}}function d(a,f){function p(){}p.prototype=f.prototype,a.Z=f.prototype,a.prototype=new p,a.prototype.constructor=a,a.Ob=function(y,V,k){for(var K=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)K[gt-2]=arguments[gt];return f.prototype[V].apply(y,K)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function g(a){const f=a.length;if(f>0){const p=Array(f);for(let y=0;y<f;y++)p[y]=a[y];return p}return[]}function C(a,f){for(let y=1;y<arguments.length;y++){const V=arguments[y];var p=typeof V;if(p=p!="object"?p:V?Array.isArray(V)?"array":p:"null",p=="array"||p=="object"&&typeof V.length=="number"){p=a.length||0;const k=V.length||0;a.length=p+k;for(let K=0;K<k;K++)a[p+K]=V[K]}else a.push(V)}}class x{constructor(f,p){this.i=f,this.j=p,this.h=0,this.g=null}get(){let f;return this.h>0?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function D(a){o.setTimeout(()=>{throw a},0)}function U(){var a=R;let f=null;return a.g&&(f=a.g,a.g=a.g.next,a.g||(a.h=null),f.next=null),f}class ${constructor(){this.h=this.g=null}add(f,p){const y=j.get();y.set(f,p),this.h?this.h.next=y:this.g=y,this.h=y}}var j=new x(()=>new q,a=>a.reset());class q{constructor(){this.next=this.g=this.h=null}set(f,p){this.h=f,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,rt=!1,R=new $,v=()=>{const a=Promise.resolve(void 0);nt=()=>{a.then(_)}};function _(){for(var a;a=U();){try{a.h.call(a.g)}catch(p){D(p)}var f=j;f.j(a),f.h<100&&(f.h++,a.next=f.g,f.g=a)}rt=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function T(a,f){this.type=a,this.g=this.target=f,this.defaultPrevented=!1}T.prototype.h=function(){this.defaultPrevented=!0};var I=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var a=!1,f=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const p=()=>{};o.addEventListener("test",p,f),o.removeEventListener("test",p,f)}catch{}return a})();function E(a){return/^[\s\xa0]*$/.test(a)}function Rt(a,f){T.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,f)}d(Rt,T),Rt.prototype.init=function(a,f){const p=this.type=a.type,y=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=f,f=a.relatedTarget,f||(p=="mouseover"?f=a.fromElement:p=="mouseout"&&(f=a.toElement)),this.relatedTarget=f,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&Rt.Z.h.call(this)},Rt.prototype.h=function(){Rt.Z.h.call(this);const a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Wt="closure_listenable_"+(Math.random()*1e6|0),jt=0;function Pt(a,f,p,y,V){this.listener=a,this.proxy=null,this.src=f,this.type=p,this.capture=!!y,this.ha=V,this.key=++jt,this.da=this.fa=!1}function wt(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Be(a,f,p){for(const y in a)f.call(p,a[y],y,a)}function un(a,f){for(const p in a)f.call(void 0,a[p],p,a)}function ze(a){const f={};for(const p in a)f[p]=a[p];return f}const de="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bn(a,f){let p,y;for(let V=1;V<arguments.length;V++){y=arguments[V];for(p in y)a[p]=y[p];for(let k=0;k<de.length;k++)p=de[k],Object.prototype.hasOwnProperty.call(y,p)&&(a[p]=y[p])}}function tn(a){this.src=a,this.g={},this.h=0}tn.prototype.add=function(a,f,p,y,V){const k=a.toString();a=this.g[k],a||(a=this.g[k]=[],this.h++);const K=Ee(a,f,y,V);return K>-1?(f=a[K],p||(f.fa=!1)):(f=new Pt(f,this.src,k,!!y,V),f.fa=p,a.push(f)),f};function en(a,f){const p=f.type;if(p in a.g){var y=a.g[p],V=Array.prototype.indexOf.call(y,f,void 0),k;(k=V>=0)&&Array.prototype.splice.call(y,V,1),k&&(wt(f),a.g[p].length==0&&(delete a.g[p],a.h--))}}function Ee(a,f,p,y){for(let V=0;V<a.length;++V){const k=a[V];if(!k.da&&k.listener==f&&k.capture==!!p&&k.ha==y)return V}return-1}var M="closure_lm_"+(Math.random()*1e6|0),Z={};function X(a,f,p,y,V){if(Array.isArray(f)){for(let k=0;k<f.length;k++)X(a,f[k],p,y,V);return null}return p=Q(p),a&&a[Wt]?a.J(f,p,l(y)?!!y.capture:!1,V):it(a,f,p,!1,y,V)}function it(a,f,p,y,V,k){if(!f)throw Error("Invalid event type");const K=l(V)?!!V.capture:!!V;let gt=B(a);if(gt||(a[M]=gt=new tn(a)),p=gt.add(f,p,y,K,k),p.proxy)return p;if(y=yt(),p.proxy=y,y.src=a,y.listener=p,a.addEventListener)I||(V=K),V===void 0&&(V=!1),a.addEventListener(f.toString(),y,V);else if(a.attachEvent)a.attachEvent(P(f.toString()),y);else if(a.addListener&&a.removeListener)a.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return p}function yt(){function a(p){return f.call(a.src,a.listener,p)}const f=L;return a}function w(a,f,p,y,V){if(Array.isArray(f))for(var k=0;k<f.length;k++)w(a,f[k],p,y,V);else y=l(y)?!!y.capture:!!y,p=Q(p),a&&a[Wt]?(a=a.i,k=String(f).toString(),k in a.g&&(f=a.g[k],p=Ee(f,p,y,V),p>-1&&(wt(f[p]),Array.prototype.splice.call(f,p,1),f.length==0&&(delete a.g[k],a.h--)))):a&&(a=B(a))&&(f=a.g[f.toString()],a=-1,f&&(a=Ee(f,p,y,V)),(p=a>-1?f[a]:null)&&S(p))}function S(a){if(typeof a!="number"&&a&&!a.da){var f=a.src;if(f&&f[Wt])en(f.i,a);else{var p=a.type,y=a.proxy;f.removeEventListener?f.removeEventListener(p,y,a.capture):f.detachEvent?f.detachEvent(P(p),y):f.addListener&&f.removeListener&&f.removeListener(y),(p=B(f))?(en(p,a),p.h==0&&(p.src=null,f[M]=null)):wt(a)}}}function P(a){return a in Z?Z[a]:Z[a]="on"+a}function L(a,f){if(a.da)a=!0;else{f=new Rt(f,this);const p=a.listener,y=a.ha||a.src;a.fa&&S(a),a=p.call(y,f)}return a}function B(a){return a=a[M],a instanceof tn?a:null}var O="__closure_events_fn_"+(Math.random()*1e9>>>0);function Q(a){return typeof a=="function"?a:(a[O]||(a[O]=function(f){return a.handleEvent(f)}),a[O])}function G(){A.call(this),this.i=new tn(this),this.M=this,this.G=null}d(G,A),G.prototype[Wt]=!0,G.prototype.removeEventListener=function(a,f,p,y){w(this,a,f,p,y)};function H(a,f){var p,y=a.G;if(y)for(p=[];y;y=y.G)p.push(y);if(a=a.M,y=f.type||f,typeof f=="string")f=new T(f,a);else if(f instanceof T)f.target=f.target||a;else{var V=f;f=new T(y,a),bn(f,V)}V=!0;let k,K;if(p)for(K=p.length-1;K>=0;K--)k=f.g=p[K],V=z(k,y,!0,f)&&V;if(k=f.g=a,V=z(k,y,!0,f)&&V,V=z(k,y,!1,f)&&V,p)for(K=0;K<p.length;K++)k=f.g=p[K],V=z(k,y,!1,f)&&V}G.prototype.N=function(){if(G.Z.N.call(this),this.i){var a=this.i;for(const f in a.g){const p=a.g[f];for(let y=0;y<p.length;y++)wt(p[y]);delete a.g[f],a.h--}}this.G=null},G.prototype.J=function(a,f,p,y){return this.i.add(String(a),f,!1,p,y)},G.prototype.K=function(a,f,p,y){return this.i.add(String(a),f,!0,p,y)};function z(a,f,p,y){if(f=a.i.g[String(f)],!f)return!0;f=f.concat();let V=!0;for(let k=0;k<f.length;++k){const K=f[k];if(K&&!K.da&&K.capture==p){const gt=K.listener,ee=K.ha||K.src;K.fa&&en(a.i,K),V=gt.call(ee,y)!==!1&&V}}return V&&!y.defaultPrevented}function ct(a,f){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=u(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(f)>2147483647?-1:o.setTimeout(a,f||0)}function J(a){a.g=ct(()=>{a.g=null,a.i&&(a.i=!1,J(a))},a.l);const f=a.h;a.h=null,a.m.apply(null,f)}class ot extends A{constructor(f,p){super(),this.m=f,this.l=p,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:J(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ut(a){A.call(this),this.h=a,this.g={}}d(ut,A);var _t=[];function kt(a){Be(a.g,function(f,p){this.g.hasOwnProperty(p)&&S(f)},a),a.g={}}ut.prototype.N=function(){ut.Z.N.call(this),kt(this)},ut.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var St=o.JSON.stringify,we=o.JSON.parse,Te=class{stringify(a){return o.JSON.stringify(a,void 0)}parse(a){return o.JSON.parse(a,void 0)}};function qe(){}function He(){}var nn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Hr(){T.call(this,"d")}d(Hr,T);function pe(){T.call(this,"c")}d(pe,T);var ie={},Ps=null;function Er(){return Ps=Ps||new G}ie.Ia="serverreachability";function Cu(a){T.call(this,ie.Ia,a)}d(Cu,T);function Vs(a){const f=Er();H(f,new Cu(f))}ie.STAT_EVENT="statevent";function xu(a,f){T.call(this,ie.STAT_EVENT,a),this.stat=f}d(xu,T);function Pe(a){const f=Er();H(f,new xu(f,a))}ie.Ja="timingevent";function Pu(a,f){T.call(this,ie.Ja,a),this.size=f}d(Pu,T);function Ds(a,f){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){a()},f)}function ks(){this.g=!0}ks.prototype.ua=function(){this.g=!1};function V_(a,f,p,y,V,k){a.info(function(){if(a.g)if(k){var K="",gt=k.split("&");for(let Ot=0;Ot<gt.length;Ot++){var ee=gt[Ot].split("=");if(ee.length>1){const oe=ee[0];ee=ee[1];const fn=oe.split("_");K=fn.length>=2&&fn[1]=="type"?K+(oe+"="+ee+"&"):K+(oe+"=redacted&")}}}else K=null;else K=k;return"XMLHTTP REQ ("+y+") [attempt "+V+"]: "+f+`
`+p+`
`+K})}function D_(a,f,p,y,V,k,K){a.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+V+"]: "+f+`
`+p+`
`+k+" "+K})}function Gr(a,f,p,y){a.info(function(){return"XMLHTTP TEXT ("+f+"): "+N_(a,p)+(y?" "+y:"")})}function k_(a,f){a.info(function(){return"TIMEOUT: "+f})}ks.prototype.info=function(){};function N_(a,f){if(!a.g)return f;if(!f)return null;try{const k=JSON.parse(f);if(k){for(a=0;a<k.length;a++)if(Array.isArray(k[a])){var p=k[a];if(!(p.length<2)){var y=p[1];if(Array.isArray(y)&&!(y.length<1)){var V=y[0];if(V!="noop"&&V!="stop"&&V!="close")for(let K=1;K<y.length;K++)y[K]=""}}}}return St(k)}catch{return f}}var Ji={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Vu={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Du;function Fa(){}d(Fa,qe),Fa.prototype.g=function(){return new XMLHttpRequest},Du=new Fa;function Ns(a){return encodeURIComponent(String(a))}function O_(a){var f=1;a=a.split(":");const p=[];for(;f>0&&a.length;)p.push(a.shift()),f--;return a.length&&p.push(a.join(":")),p}function Bn(a,f,p,y){this.j=a,this.i=f,this.l=p,this.S=y||1,this.V=new ut(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ku}function ku(){this.i=null,this.g="",this.h=!1}var Nu={},Ua={};function Ba(a,f,p){a.M=1,a.A=to(hn(f)),a.u=p,a.R=!0,Ou(a,null)}function Ou(a,f){a.F=Date.now(),Zi(a),a.B=hn(a.A);var p=a.B,y=a.S;Array.isArray(y)||(y=[String(y)]),Wu(p.i,"t",y),a.C=0,p=a.j.L,a.h=new ku,a.g=fh(a.j,p?f:null,!a.u),a.P>0&&(a.O=new ot(u(a.Y,a,a.g),a.P)),f=a.V,p=a.g,y=a.ba;var V="readystatechange";Array.isArray(V)||(V&&(_t[0]=V.toString()),V=_t);for(let k=0;k<V.length;k++){const K=X(p,V[k],y||f.handleEvent,!1,f.h||f);if(!K)break;f.g[K.key]=K}f=a.J?ze(a.J):{},a.u?(a.v||(a.v="POST"),f["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,f)):(a.v="GET",a.g.ea(a.B,a.v,null,f)),Vs(),V_(a.i,a.v,a.B,a.l,a.S,a.u)}Bn.prototype.ba=function(a){a=a.target;const f=this.O;f&&zn(a)==3?f.j():this.Y(a)},Bn.prototype.Y=function(a){try{if(a==this.g)t:{const gt=zn(this.g),ee=this.g.ya(),Ot=this.g.ca();if(!(gt<3)&&(gt!=3||this.g&&(this.h.h||this.g.la()||eh(this.g)))){this.K||gt!=4||ee==7||(ee==8||Ot<=0?Vs(3):Vs(2)),$a(this);var f=this.g.ca();this.X=f;var p=M_(this);if(this.o=f==200,D_(this.i,this.v,this.B,this.l,this.S,gt,f),this.o){if(this.U&&!this.L){e:{if(this.g){var y,V=this.g;if((y=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(y)){var k=y;break e}}k=null}if(a=k)Gr(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ja(this,a);else{this.o=!1,this.m=3,Pe(12),wr(this),Os(this);break t}}if(this.R){a=!0;let oe;for(;!this.K&&this.C<p.length;)if(oe=L_(this,p),oe==Ua){gt==4&&(this.m=4,Pe(14),a=!1),Gr(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Nu){this.m=4,Pe(15),Gr(this.i,this.l,p,"[Invalid Chunk]"),a=!1;break}else Gr(this.i,this.l,oe,null),ja(this,oe);if(Mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||p.length!=0||this.h.h||(this.m=1,Pe(16),a=!1),this.o=this.o&&a,!a)Gr(this.i,this.l,p,"[Invalid Chunked Response]"),wr(this),Os(this);else if(p.length>0&&!this.W){this.W=!0;var K=this.j;K.g==this&&K.aa&&!K.P&&(K.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),Xa(K),K.P=!0,Pe(11))}}else Gr(this.i,this.l,p,null),ja(this,p);gt==4&&wr(this),this.o&&!this.K&&(gt==4?lh(this.j,this):(this.o=!1,Zi(this)))}else Y_(this.g),f==400&&p.indexOf("Unknown SID")>0?(this.m=3,Pe(12)):(this.m=0,Pe(13)),wr(this),Os(this)}}}catch{}finally{}};function M_(a){if(!Mu(a))return a.g.la();const f=eh(a.g);if(f==="")return"";let p="";const y=f.length,V=zn(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return wr(a),Os(a),"";a.h.i=new o.TextDecoder}for(let k=0;k<y;k++)a.h.h=!0,p+=a.h.i.decode(f[k],{stream:!(V&&k==y-1)});return f.length=0,a.h.g+=p,a.C=0,a.h.g}function Mu(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function L_(a,f){var p=a.C,y=f.indexOf(`
`,p);return y==-1?Ua:(p=Number(f.substring(p,y)),isNaN(p)?Nu:(y+=1,y+p>f.length?Ua:(f=f.slice(y,y+p),a.C=y+p,f)))}Bn.prototype.cancel=function(){this.K=!0,wr(this)};function Zi(a){a.T=Date.now()+a.H,Lu(a,a.H)}function Lu(a,f){if(a.D!=null)throw Error("WatchDog timer not null");a.D=Ds(u(a.aa,a),f)}function $a(a){a.D&&(o.clearTimeout(a.D),a.D=null)}Bn.prototype.aa=function(){this.D=null;const a=Date.now();a-this.T>=0?(k_(this.i,this.B),this.M!=2&&(Vs(),Pe(17)),wr(this),this.m=2,Os(this)):Lu(this,this.T-a)};function Os(a){a.j.I==0||a.K||lh(a.j,a)}function wr(a){$a(a);var f=a.O;f&&typeof f.dispose=="function"&&f.dispose(),a.O=null,kt(a.V),a.g&&(f=a.g,a.g=null,f.abort(),f.dispose())}function ja(a,f){try{var p=a.j;if(p.I!=0&&(p.g==a||za(p.h,a))){if(!a.L&&za(p.h,a)&&p.I==3){try{var y=p.Ba.g.parse(f)}catch{y=null}if(Array.isArray(y)&&y.length==3){var V=y;if(V[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<a.F)io(p),ro(p);else break t;Qa(p),Pe(18)}}else p.xa=V[1],0<p.xa-p.K&&V[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Ds(u(p.Va,p),6e3));Bu(p.h)<=1&&p.ta&&(p.ta=void 0)}else br(p,11)}else if((a.L||p.g==a)&&io(p),!E(f))for(V=p.Ba.g.parse(f),f=0;f<V.length;f++){let Ot=V[f];const oe=Ot[0];if(!(oe<=p.K))if(p.K=oe,Ot=Ot[1],p.I==2)if(Ot[0]=="c"){p.M=Ot[1],p.ba=Ot[2];const fn=Ot[3];fn!=null&&(p.ka=fn,p.j.info("VER="+p.ka));const Ar=Ot[4];Ar!=null&&(p.za=Ar,p.j.info("SVER="+p.za));const qn=Ot[5];qn!=null&&typeof qn=="number"&&qn>0&&(y=1.5*qn,p.O=y,p.j.info("backChannelRequestTimeoutMs_="+y)),y=p;const Hn=a.g;if(Hn){const ao=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ao){var k=y.h;k.g||ao.indexOf("spdy")==-1&&ao.indexOf("quic")==-1&&ao.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(qa(k,k.h),k.h=null))}if(y.G){const Ya=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ya&&(y.wa=Ya,Bt(y.J,y.G,Ya))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-a.F,p.j.info("Handshake RTT: "+p.T+"ms")),y=p;var K=a;if(y.na=hh(y,y.L?y.ba:null,y.W),K.L){$u(y.h,K);var gt=K,ee=y.O;ee&&(gt.H=ee),gt.D&&($a(gt),Zi(gt)),y.g=K}else oh(y);p.i.length>0&&so(p)}else Ot[0]!="stop"&&Ot[0]!="close"||br(p,7);else p.I==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?br(p,7):Wa(p):Ot[0]!="noop"&&p.l&&p.l.qa(Ot),p.A=0)}}Vs(4)}catch{}}var F_=class{constructor(a,f){this.g=a,this.map=f}};function Fu(a){this.l=a||10,o.PerformanceNavigationTiming?(a=o.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Uu(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Bu(a){return a.h?1:a.g?a.g.size:0}function za(a,f){return a.h?a.h==f:a.g?a.g.has(f):!1}function qa(a,f){a.g?a.g.add(f):a.h=f}function $u(a,f){a.h&&a.h==f?a.h=null:a.g&&a.g.has(f)&&a.g.delete(f)}Fu.prototype.cancel=function(){if(this.i=ju(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function ju(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let f=a.i;for(const p of a.g.values())f=f.concat(p.G);return f}return g(a.i)}var zu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function U_(a,f){if(a){a=a.split("&");for(let p=0;p<a.length;p++){const y=a[p].indexOf("=");let V,k=null;y>=0?(V=a[p].substring(0,y),k=a[p].substring(y+1)):V=a[p],f(V,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function $n(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let f;a instanceof $n?(this.l=a.l,Ms(this,a.j),this.o=a.o,this.g=a.g,Ls(this,a.u),this.h=a.h,Ha(this,Qu(a.i)),this.m=a.m):a&&(f=String(a).match(zu))?(this.l=!1,Ms(this,f[1]||"",!0),this.o=Fs(f[2]||""),this.g=Fs(f[3]||"",!0),Ls(this,f[4]),this.h=Fs(f[5]||"",!0),Ha(this,f[6]||"",!0),this.m=Fs(f[7]||"")):(this.l=!1,this.i=new Bs(null,this.l))}$n.prototype.toString=function(){const a=[];var f=this.j;f&&a.push(Us(f,qu,!0),":");var p=this.g;return(p||f=="file")&&(a.push("//"),(f=this.o)&&a.push(Us(f,qu,!0),"@"),a.push(Ns(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&a.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(Us(p,p.charAt(0)=="/"?j_:$_,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",Us(p,q_)),a.join("")},$n.prototype.resolve=function(a){const f=hn(this);let p=!!a.j;p?Ms(f,a.j):p=!!a.o,p?f.o=a.o:p=!!a.g,p?f.g=a.g:p=a.u!=null;var y=a.h;if(p)Ls(f,a.u);else if(p=!!a.h){if(y.charAt(0)!="/")if(this.g&&!this.h)y="/"+y;else{var V=f.h.lastIndexOf("/");V!=-1&&(y=f.h.slice(0,V+1)+y)}if(V=y,V==".."||V==".")y="";else if(V.indexOf("./")!=-1||V.indexOf("/.")!=-1){y=V.lastIndexOf("/",0)==0,V=V.split("/");const k=[];for(let K=0;K<V.length;){const gt=V[K++];gt=="."?y&&K==V.length&&k.push(""):gt==".."?((k.length>1||k.length==1&&k[0]!="")&&k.pop(),y&&K==V.length&&k.push("")):(k.push(gt),y=!0)}y=k.join("/")}else y=V}return p?f.h=y:p=a.i.toString()!=="",p?Ha(f,Qu(a.i)):p=!!a.m,p&&(f.m=a.m),f};function hn(a){return new $n(a)}function Ms(a,f,p){a.j=p?Fs(f,!0):f,a.j&&(a.j=a.j.replace(/:$/,""))}function Ls(a,f){if(f){if(f=Number(f),isNaN(f)||f<0)throw Error("Bad port number "+f);a.u=f}else a.u=null}function Ha(a,f,p){f instanceof Bs?(a.i=f,H_(a.i,a.l)):(p||(f=Us(f,z_)),a.i=new Bs(f,a.l))}function Bt(a,f,p){a.i.set(f,p)}function to(a){return Bt(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function Fs(a,f){return a?f?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Us(a,f,p){return typeof a=="string"?(a=encodeURI(a).replace(f,B_),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function B_(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var qu=/[#\/\?@]/g,$_=/[#\?:]/g,j_=/[#\?]/g,z_=/[#\?@]/g,q_=/#/g;function Bs(a,f){this.h=this.g=null,this.i=a||null,this.j=!!f}function Tr(a){a.g||(a.g=new Map,a.h=0,a.i&&U_(a.i,function(f,p){a.add(decodeURIComponent(f.replace(/\+/g," ")),p)}))}e=Bs.prototype,e.add=function(a,f){Tr(this),this.i=null,a=Kr(this,a);let p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(f),this.h+=1,this};function Hu(a,f){Tr(a),f=Kr(a,f),a.g.has(f)&&(a.i=null,a.h-=a.g.get(f).length,a.g.delete(f))}function Gu(a,f){return Tr(a),f=Kr(a,f),a.g.has(f)}e.forEach=function(a,f){Tr(this),this.g.forEach(function(p,y){p.forEach(function(V){a.call(f,V,y,this)},this)},this)};function Ku(a,f){Tr(a);let p=[];if(typeof f=="string")Gu(a,f)&&(p=p.concat(a.g.get(Kr(a,f))));else for(a=Array.from(a.g.values()),f=0;f<a.length;f++)p=p.concat(a[f]);return p}e.set=function(a,f){return Tr(this),this.i=null,a=Kr(this,a),Gu(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[f]),this.h+=1,this},e.get=function(a,f){return a?(a=Ku(this,a),a.length>0?String(a[0]):f):f};function Wu(a,f,p){Hu(a,f),p.length>0&&(a.i=null,a.g.set(Kr(a,f),g(p)),a.h+=p.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],f=Array.from(this.g.keys());for(let y=0;y<f.length;y++){var p=f[y];const V=Ns(p);p=Ku(this,p);for(let k=0;k<p.length;k++){let K=V;p[k]!==""&&(K+="="+Ns(p[k])),a.push(K)}}return this.i=a.join("&")};function Qu(a){const f=new Bs;return f.i=a.i,a.g&&(f.g=new Map(a.g),f.h=a.h),f}function Kr(a,f){return f=String(f),a.j&&(f=f.toLowerCase()),f}function H_(a,f){f&&!a.j&&(Tr(a),a.i=null,a.g.forEach(function(p,y){const V=y.toLowerCase();y!=V&&(Hu(this,y),Wu(this,V,p))},a)),a.j=f}function G_(a,f){const p=new ks;if(o.Image){const y=new Image;y.onload=h(jn,p,"TestLoadImage: loaded",!0,f,y),y.onerror=h(jn,p,"TestLoadImage: error",!1,f,y),y.onabort=h(jn,p,"TestLoadImage: abort",!1,f,y),y.ontimeout=h(jn,p,"TestLoadImage: timeout",!1,f,y),o.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=a}else f(!1)}function K_(a,f){const p=new ks,y=new AbortController,V=setTimeout(()=>{y.abort(),jn(p,"TestPingServer: timeout",!1,f)},1e4);fetch(a,{signal:y.signal}).then(k=>{clearTimeout(V),k.ok?jn(p,"TestPingServer: ok",!0,f):jn(p,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(V),jn(p,"TestPingServer: error",!1,f)})}function jn(a,f,p,y,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),y(p)}catch{}}function W_(){this.g=new Te}function Ga(a){this.i=a.Sb||null,this.h=a.ab||!1}d(Ga,qe),Ga.prototype.g=function(){return new eo(this.i,this.h)};function eo(a,f){G.call(this),this.H=a,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(eo,G),e=eo.prototype,e.open=function(a,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=f,this.readyState=1,js(this)},e.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const f={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(f.body=a),(this.H||o).fetch(new Request(this.D,f)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,$s(this)),this.readyState=0},e.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,js(this)),this.g&&(this.readyState=3,js(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Xu(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function Xu(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}e.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var f=a.value?a.value:new Uint8Array(0);(f=this.B.decode(f,{stream:!a.done}))&&(this.response=this.responseText+=f)}a.done?$s(this):js(this),this.readyState==3&&Xu(this)}},e.Oa=function(a){this.g&&(this.response=this.responseText=a,$s(this))},e.Na=function(a){this.g&&(this.response=a,$s(this))},e.ga=function(){this.g&&$s(this)};function $s(a){a.readyState=4,a.l=null,a.j=null,a.B=null,js(a)}e.setRequestHeader=function(a,f){this.A.append(a,f)},e.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],f=this.h.entries();for(var p=f.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=f.next();return a.join(`\r
`)};function js(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(eo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Yu(a){let f="";return Be(a,function(p,y){f+=y,f+=":",f+=p,f+=`\r
`}),f}function Ka(a,f,p){t:{for(y in p){var y=!1;break t}y=!0}y||(p=Yu(p),typeof a=="string"?p!=null&&Ns(p):Bt(a,f,p))}function qt(a){G.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(qt,G);var Q_=/^https?$/i,X_=["POST","PUT"];e=qt.prototype,e.Fa=function(a){this.H=a},e.ea=function(a,f,p,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);f=f?f.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Du.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(f,String(a),!0),this.B=!1}catch(k){Ju(this,k);return}if(a=p||"",p=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var V in y)p.set(V,y[V]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const k of y.keys())p.set(k,y.get(k));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(p.keys()).find(k=>k.toLowerCase()=="content-type"),V=o.FormData&&a instanceof o.FormData,!(Array.prototype.indexOf.call(X_,f,void 0)>=0)||y||V||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,K]of p)this.g.setRequestHeader(k,K);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch(k){Ju(this,k)}};function Ju(a,f){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=f,a.o=5,Zu(a),no(a)}function Zu(a){a.A||(a.A=!0,H(a,"complete"),H(a,"error"))}e.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,H(this,"complete"),H(this,"abort"),no(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),no(this,!0)),qt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?th(this):this.Xa())},e.Xa=function(){th(this)};function th(a){if(a.h&&typeof i<"u"){if(a.v&&zn(a)==4)setTimeout(a.Ca.bind(a),0);else if(H(a,"readystatechange"),zn(a)==4){a.h=!1;try{const k=a.ca();t:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break t;default:f=!1}var p;if(!(p=f)){var y;if(y=k===0){let K=String(a.D).match(zu)[1]||null;!K&&o.self&&o.self.location&&(K=o.self.location.protocol.slice(0,-1)),y=!Q_.test(K?K.toLowerCase():"")}p=y}if(p)H(a,"complete"),H(a,"success");else{a.o=6;try{var V=zn(a)>2?a.g.statusText:""}catch{V=""}a.l=V+" ["+a.ca()+"]",Zu(a)}}finally{no(a)}}}}function no(a,f){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);const p=a.g;a.g=null,f||H(a,"ready");try{p.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function zn(a){return a.g?a.g.readyState:0}e.ca=function(){try{return zn(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(a){if(this.g){var f=this.g.responseText;return a&&f.indexOf(a)==0&&(f=f.substring(a.length)),we(f)}};function eh(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Y_(a){const f={};a=(a.g&&zn(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<a.length;y++){if(E(a[y]))continue;var p=O_(a[y]);const V=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const k=f[V]||[];f[V]=k,k.push(p)}un(f,function(y){return y.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function zs(a,f,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||f}function nh(a){this.za=0,this.i=[],this.j=new ks,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=zs("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=zs("baseRetryDelayMs",5e3,a),this.Za=zs("retryDelaySeedMs",1e4,a),this.Ta=zs("forwardChannelMaxRetries",2,a),this.va=zs("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new Fu(a&&a.concurrentRequestLimit),this.Ba=new W_,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=nh.prototype,e.ka=8,e.I=1,e.connect=function(a,f,p,y){Pe(0),this.W=a,this.H=f||{},p&&y!==void 0&&(this.H.OSID=p,this.H.OAID=y),this.F=this.X,this.J=hh(this,null,this.W),so(this)};function Wa(a){if(rh(a),a.I==3){var f=a.V++,p=hn(a.J);if(Bt(p,"SID",a.M),Bt(p,"RID",f),Bt(p,"TYPE","terminate"),qs(a,p),f=new Bn(a,a.j,f),f.M=2,f.A=to(hn(p)),p=!1,o.navigator&&o.navigator.sendBeacon)try{p=o.navigator.sendBeacon(f.A.toString(),"")}catch{}!p&&o.Image&&(new Image().src=f.A,p=!0),p||(f.g=fh(f.j,null),f.g.ea(f.A)),f.F=Date.now(),Zi(f)}uh(a)}function ro(a){a.g&&(Xa(a),a.g.cancel(),a.g=null)}function rh(a){ro(a),a.v&&(o.clearTimeout(a.v),a.v=null),io(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&o.clearTimeout(a.m),a.m=null)}function so(a){if(!Uu(a.h)&&!a.m){a.m=!0;var f=a.Ea;nt||v(),rt||(nt(),rt=!0),R.add(f,a),a.D=0}}function J_(a,f){return Bu(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=f.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=Ds(u(a.Ea,a,f),ch(a,a.D)),a.D++,!0)}e.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;const V=new Bn(this,this.j,a);let k=this.o;if(this.U&&(k?(k=ze(k),bn(k,this.U)):k=this.U),this.u!==null||this.R||(V.J=k,k=null),this.S)t:{for(var f=0,p=0;p<this.i.length;p++){e:{var y=this.i[p];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break e}y=void 0}if(y===void 0)break;if(f+=y,f>4096){f=p;break t}if(f===4096||p===this.i.length-1){f=p+1;break t}}f=1e3}else f=1e3;f=ih(this,V,f),p=hn(this.J),Bt(p,"RID",a),Bt(p,"CVER",22),this.G&&Bt(p,"X-HTTP-Session-Id",this.G),qs(this,p),k&&(this.R?f="headers="+Ns(Yu(k))+"&"+f:this.u&&Ka(p,this.u,k)),qa(this.h,V),this.Ra&&Bt(p,"TYPE","init"),this.S?(Bt(p,"$req",f),Bt(p,"SID","null"),V.U=!0,Ba(V,p,null)):Ba(V,p,f),this.I=2}}else this.I==3&&(a?sh(this,a):this.i.length==0||Uu(this.h)||sh(this))};function sh(a,f){var p;f?p=f.l:p=a.V++;const y=hn(a.J);Bt(y,"SID",a.M),Bt(y,"RID",p),Bt(y,"AID",a.K),qs(a,y),a.u&&a.o&&Ka(y,a.u,a.o),p=new Bn(a,a.j,p,a.D+1),a.u===null&&(p.J=a.o),f&&(a.i=f.G.concat(a.i)),f=ih(a,p,1e3),p.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),qa(a.h,p),Ba(p,y,f)}function qs(a,f){a.H&&Be(a.H,function(p,y){Bt(f,y,p)}),a.l&&Be({},function(p,y){Bt(f,y,p)})}function ih(a,f,p){p=Math.min(a.i.length,p);const y=a.l?u(a.l.Ka,a.l,a):null;t:{var V=a.i;let gt=-1;for(;;){const ee=["count="+p];gt==-1?p>0?(gt=V[0].g,ee.push("ofs="+gt)):gt=0:ee.push("ofs="+gt);let Ot=!0;for(let oe=0;oe<p;oe++){var k=V[oe].g;const fn=V[oe].map;if(k-=gt,k<0)gt=Math.max(0,V[oe].g-100),Ot=!1;else try{k="req"+k+"_"||"";try{var K=fn instanceof Map?fn:Object.entries(fn);for(const[Ar,qn]of K){let Hn=qn;l(qn)&&(Hn=St(qn)),ee.push(k+Ar+"="+encodeURIComponent(Hn))}}catch(Ar){throw ee.push(k+"type="+encodeURIComponent("_badmap")),Ar}}catch{y&&y(fn)}}if(Ot){K=ee.join("&");break t}}K=void 0}return a=a.i.splice(0,p),f.G=a,K}function oh(a){if(!a.g&&!a.v){a.Y=1;var f=a.Da;nt||v(),rt||(nt(),rt=!0),R.add(f,a),a.A=0}}function Qa(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=Ds(u(a.Da,a),ch(a,a.A)),a.A++,!0)}e.Da=function(){if(this.v=null,ah(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=Ds(u(this.Wa,this),a)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Pe(10),ro(this),ah(this))};function Xa(a){a.B!=null&&(o.clearTimeout(a.B),a.B=null)}function ah(a){a.g=new Bn(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var f=hn(a.na);Bt(f,"RID","rpc"),Bt(f,"SID",a.M),Bt(f,"AID",a.K),Bt(f,"CI",a.F?"0":"1"),!a.F&&a.ia&&Bt(f,"TO",a.ia),Bt(f,"TYPE","xmlhttp"),qs(a,f),a.u&&a.o&&Ka(f,a.u,a.o),a.O&&(a.g.H=a.O);var p=a.g;a=a.ba,p.M=1,p.A=to(hn(f)),p.u=null,p.R=!0,Ou(p,a)}e.Va=function(){this.C!=null&&(this.C=null,ro(this),Qa(this),Pe(19))};function io(a){a.C!=null&&(o.clearTimeout(a.C),a.C=null)}function lh(a,f){var p=null;if(a.g==f){io(a),Xa(a),a.g=null;var y=2}else if(za(a.h,f))p=f.G,$u(a.h,f),y=1;else return;if(a.I!=0){if(f.o)if(y==1){p=f.u?f.u.length:0,f=Date.now()-f.F;var V=a.D;y=Er(),H(y,new Pu(y,p)),so(a)}else oh(a);else if(V=f.m,V==3||V==0&&f.X>0||!(y==1&&J_(a,f)||y==2&&Qa(a)))switch(p&&p.length>0&&(f=a.h,f.i=f.i.concat(p)),V){case 1:br(a,5);break;case 4:br(a,10);break;case 3:br(a,6);break;default:br(a,2)}}}function ch(a,f){let p=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(p*=2),p*f}function br(a,f){if(a.j.info("Error code "+f),f==2){var p=u(a.bb,a),y=a.Ua;const V=!y;y=new $n(y||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Ms(y,"https"),to(y),V?G_(y.toString(),p):K_(y.toString(),p)}else Pe(2);a.I=0,a.l&&a.l.pa(f),uh(a),rh(a)}e.bb=function(a){a?(this.j.info("Successfully pinged google.com"),Pe(2)):(this.j.info("Failed to ping google.com"),Pe(1))};function uh(a){if(a.I=0,a.ja=[],a.l){const f=ju(a.h);(f.length!=0||a.i.length!=0)&&(C(a.ja,f),C(a.ja,a.i),a.h.i.length=0,g(a.i),a.i.length=0),a.l.oa()}}function hh(a,f,p){var y=p instanceof $n?hn(p):new $n(p);if(y.g!="")f&&(y.g=f+"."+y.g),Ls(y,y.u);else{var V=o.location;y=V.protocol,f=f?f+"."+V.hostname:V.hostname,V=+V.port;const k=new $n(null);y&&Ms(k,y),f&&(k.g=f),V&&Ls(k,V),p&&(k.h=p),y=k}return p=a.G,f=a.wa,p&&f&&Bt(y,p,f),Bt(y,"VER",a.ka),qs(a,y),y}function fh(a,f,p){if(f&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return f=a.Aa&&!a.ma?new qt(new Ga({ab:p})):new qt(a.ma),f.Fa(a.L),f}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function dh(){}e=dh.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function oo(){}oo.prototype.g=function(a,f){return new Ge(a,f)};function Ge(a,f){G.call(this),this.g=new nh(f),this.l=a,this.h=f&&f.messageUrlParams||null,a=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(a?a["X-WebChannel-Content-Type"]=f.messageContentType:a={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.sa&&(a?a["X-WebChannel-Client-Profile"]=f.sa:a={"X-WebChannel-Client-Profile":f.sa}),this.g.U=a,(a=f&&f.Qb)&&!E(a)&&(this.g.u=a),this.A=f&&f.supportsCrossDomainXhr||!1,this.v=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!E(f)&&(this.g.G=f,a=this.h,a!==null&&f in a&&(a=this.h,f in a&&delete a[f])),this.j=new Wr(this)}d(Ge,G),Ge.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ge.prototype.close=function(){Wa(this.g)},Ge.prototype.o=function(a){var f=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.v&&(p={},p.__data__=St(a),a=p);f.i.push(new F_(f.Ya++,a)),f.I==3&&so(f)},Ge.prototype.N=function(){this.g.l=null,delete this.j,Wa(this.g),delete this.g,Ge.Z.N.call(this)};function ph(a){Hr.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var f=a.__sm__;if(f){t:{for(const p in f){a=p;break t}a=void 0}(this.i=a)&&(a=this.i,f=f!==null&&a in f?f[a]:void 0),this.data=f}else this.data=a}d(ph,Hr);function mh(){pe.call(this),this.status=1}d(mh,pe);function Wr(a){this.g=a}d(Wr,dh),Wr.prototype.ra=function(){H(this.g,"a")},Wr.prototype.qa=function(a){H(this.g,new ph(a))},Wr.prototype.pa=function(a){H(this.g,new mh)},Wr.prototype.oa=function(){H(this.g,"b")},oo.prototype.createWebChannel=oo.prototype.g,Ge.prototype.send=Ge.prototype.o,Ge.prototype.open=Ge.prototype.m,Ge.prototype.close=Ge.prototype.close,Sm=function(){return new oo},Rm=function(){return Er()},Im=ie,Hl={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ji.NO_ERROR=0,Ji.TIMEOUT=8,Ji.HTTP_ERROR=6,Co=Ji,Vu.COMPLETE="complete",Am=Vu,He.EventType=nn,nn.OPEN="a",nn.CLOSE="b",nn.ERROR="c",nn.MESSAGE="d",G.prototype.listen=G.prototype.J,Js=He,qt.prototype.listenOnce=qt.prototype.K,qt.prototype.getLastError=qt.prototype.Ha,qt.prototype.getLastErrorCode=qt.prototype.ya,qt.prototype.getStatus=qt.prototype.ca,qt.prototype.getResponseJson=qt.prototype.La,qt.prototype.getResponseText=qt.prototype.la,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Fa,bm=qt}).apply(typeof po<"u"?po:typeof self<"u"?self:typeof window<"u"?window:{});const _f="@firebase/firestore",yf="4.9.2";class Ae{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ae.UNAUTHENTICATED=new Ae(null),Ae.GOOGLE_CREDENTIALS=new Ae("google-credentials-uid"),Ae.FIRST_PARTY=new Ae("first-party-uid"),Ae.MOCK_USER=new Ae("mock-user");let bs="12.3.0";const Ur=new fm("@firebase/firestore");function Jr(){return Ur.logLevel}function tt(e,...t){if(Ur.logLevel<=bt.DEBUG){const n=t.map(Lc);Ur.debug(`Firestore (${bs}): ${e}`,...n)}}function Mn(e,...t){if(Ur.logLevel<=bt.ERROR){const n=t.map(Lc);Ur.error(`Firestore (${bs}): ${e}`,...n)}}function ps(e,...t){if(Ur.logLevel<=bt.WARN){const n=t.map(Lc);Ur.warn(`Firestore (${bs}): ${e}`,...n)}}function Lc(e){if(typeof e=="string")return e;try{return(function(n){return JSON.stringify(n)})(e)}catch{return e}}function lt(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,Cm(e,r,n)}function Cm(e,t,n){let r=`FIRESTORE (${bs}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Mn(r),new Error(r)}function It(e,t,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,e||Cm(t,s,r)}function pt(e,t){return e}const N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class W extends jr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yn{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class xm{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class nE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Ae.UNAUTHENTICATED)))}shutdown(){}}class rE{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class sE{constructor(t){this.t=t,this.currentUser=Ae.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){It(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new yn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new yn,t.enqueueRetryable((()=>s(this.currentUser)))};const o=()=>{const c=i;t.enqueueRetryable((async()=>{await c.promise,await s(this.currentUser)}))},l=c=>{tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new yn)}}),0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(It(typeof r.accessToken=="string",31837,{l:r}),new xm(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return It(t===null||typeof t=="string",2055,{h:t}),new Ae(t)}}class iE{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=Ae.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class oE{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new iE(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Ae.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vf{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aE{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gm(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){It(this.o===void 0,3512);const r=i=>{i.error!=null&&tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,tt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable((()=>r(i)))};const s=i=>{tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vf(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(It(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new vf(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function lE(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Fc{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=lE(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=t.charAt(s[i]%62))}return r}}function vt(e,t){return e<t?-1:e>t?1:0}function Gl(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const s=e.charAt(r),i=t.charAt(r);if(s!==i)return ml(s)===ml(i)?vt(s,i):ml(s)?1:-1}return vt(e.length,t.length)}const cE=55296,uE=57343;function ml(e){const t=e.charCodeAt(0);return t>=cE&&t<=uE}function ms(e,t,n){return e.length===t.length&&e.every(((r,s)=>n(r,t[s])))}const Ef="__name__";class mn{constructor(t,n,r){n===void 0?n=0:n>t.length&&lt(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&lt(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return mn.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof mn?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let s=0;s<r;s++){const i=mn.compareSegments(t.get(s),n.get(s));if(i!==0)return i}return vt(t.length,n.length)}static compareSegments(t,n){const r=mn.isNumericId(t),s=mn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?mn.extractNumericId(t).compare(mn.extractNumericId(n)):Gl(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return rr.fromString(t.substring(4,t.length-2))}}class Nt extends mn{construct(t,n,r){return new Nt(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new W(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new Nt(n)}static emptyPath(){return new Nt([])}}const hE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _e extends mn{construct(t,n,r){return new _e(t,n,r)}static isValidIdentifier(t){return hE.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_e.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ef}static keyField(){return new _e([Ef])}static fromServerFormat(t){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new W(N.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<t.length;){const l=t[s];if(l==="\\"){if(s+1===t.length)throw new W(N.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new W(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new W(N.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new _e(n)}static emptyPath(){return new _e([])}}class st{constructor(t){this.path=t}static fromPath(t){return new st(Nt.fromString(t))}static fromName(t){return new st(Nt.fromString(t).popFirst(5))}static empty(){return new st(Nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Nt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Nt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new st(new Nt(t.slice()))}}function Pm(e,t,n){if(!n)throw new W(N.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function fE(e,t,n,r){if(t===!0&&r===!0)throw new W(N.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function wf(e){if(!st.isDocumentKey(e))throw new W(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Tf(e){if(st.isDocumentKey(e))throw new W(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Vm(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function _a(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":lt(12329,{type:typeof e})}function Ze(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new W(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_a(e);throw new W(N.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function te(e,t){const n={typeString:e};return t&&(n.value=t),n}function zi(e,t){if(!Vm(e))throw new W(N.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const s=t[r].typeString,i="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const o=e[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new W(N.INVALID_ARGUMENT,n);return!0}const bf=-62135596800,Af=1e6;class $t{static now(){return $t.fromMillis(Date.now())}static fromDate(t){return $t.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*Af);return new $t(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new W(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<bf)throw new W(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new W(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Af}_compareTo(t){return this.seconds===t.seconds?vt(this.nanoseconds,t.nanoseconds):vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:$t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(zi(t,$t._jsonSchema))return new $t(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-bf;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}$t._jsonSchemaVersion="firestore/timestamp/1.0",$t._jsonSchema={type:te("string",$t._jsonSchemaVersion),seconds:te("number"),nanoseconds:te("number")};class ft{static fromTimestamp(t){return new ft(t)}static min(){return new ft(new $t(0,0))}static max(){return new ft(new $t(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Pi=-1;function dE(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=ft.fromTimestamp(r===1e9?new $t(n+1,0):new $t(n,r));return new cr(s,st.empty(),t)}function pE(e){return new cr(e.readTime,e.key,Pi)}class cr{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new cr(ft.min(),st.empty(),Pi)}static max(){return new cr(ft.max(),st.empty(),Pi)}}function mE(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=st.comparator(e.documentKey,t.documentKey),n!==0?n:vt(e.largestBatchId,t.largestBatchId))}const gE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _E{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function As(e){if(e.code!==N.FAILED_PRECONDITION||e.message!==gE)throw e;tt("LocalStore","Unexpectedly lost primary lease")}class F{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&lt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new F(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):F.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):F.reject(n)}static resolve(t){return new F(((n,r)=>{n(t)}))}static reject(t){return new F(((n,r)=>{r(t)}))}static waitFor(t){return new F(((n,r)=>{let s=0,i=0,o=!1;t.forEach((l=>{++s,l.next((()=>{++i,o&&i===s&&n()}),(c=>r(c)))})),o=!0,i===s&&n()}))}static or(t){let n=F.resolve(!1);for(const r of t)n=n.next((s=>s?F.resolve(s):r()));return n}static forEach(t,n){const r=[];return t.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(t,n){return new F(((r,s)=>{const i=t.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;n(t[u]).next((h=>{o[u]=h,++l,l===i&&r(o)}),(h=>s(h)))}}))}static doWhile(t,n){return new F(((r,s)=>{const i=()=>{t()===!0?n().next((()=>{i()}),s):r()};i()}))}}function yE(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Is(e){return e.name==="IndexedDbTransactionError"}class ya{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ya.ce=-1;const Uc=-1;function qi(e){return e==null}function Go(e){return e===0&&1/e==-1/0}function vE(e){return typeof e=="number"&&Number.isInteger(e)&&!Go(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Dm="";function EE(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=If(t)),t=wE(e.get(n),t);return If(t)}function wE(e,t){let n=t;const r=e.length;for(let s=0;s<r;s++){const i=e.charAt(s);switch(i){case"\0":n+="";break;case Dm:n+="";break;default:n+=i}}return n}function If(e){return e+Dm+""}function Rf(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function _r(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function km(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class zt{constructor(t,n){this.comparator=t,this.root=n||me.EMPTY}insert(t,n){return new zt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,me.BLACK,null,null))}remove(t){return new zt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,me.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new mo(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new mo(this.root,t,this.comparator,!1)}getReverseIterator(){return new mo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new mo(this.root,t,this.comparator,!0)}}class mo{constructor(t,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=n?r(t.key,n):1,n&&s&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class me{constructor(t,n,r,s,i){this.key=t,this.value=n,this.color=r??me.RED,this.left=s??me.EMPTY,this.right=i??me.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,s,i){return new me(t??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let s=this;const i=r(t,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(t,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return me.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return me.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,me.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,me.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw lt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw lt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw lt(27949);return t+(this.isRed()?0:1)}}me.EMPTY=null,me.RED=!0,me.BLACK=!1;me.EMPTY=new class{constructor(){this.size=0}get key(){throw lt(57766)}get value(){throw lt(16141)}get color(){throw lt(16727)}get left(){throw lt(29726)}get right(){throw lt(36894)}copy(t,n,r,s,i){return this}insert(t,n,r){return new me(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class se{constructor(t){this.comparator=t,this.data=new zt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Sf(this.data.getIterator())}getIteratorFrom(t){return new Sf(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof se)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new se(this.comparator);return n.data=t,n}}class Sf{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Qe{constructor(t){this.fields=t,t.sort(_e.comparator)}static empty(){return new Qe([])}unionWith(t){let n=new se(_e.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Qe(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ms(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}class Nm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ve{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Nm("Invalid base64 string: "+i):i}})(t);return new ve(n)}static fromUint8Array(t){const n=(function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i})(t);return new ve(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ve.EMPTY_BYTE_STRING=new ve("");const TE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ur(e){if(It(!!e,39018),typeof e=="string"){let t=0;const n=TE.exec(e);if(It(!!n,46558,{timestamp:e}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Qt(e.seconds),nanos:Qt(e.nanos)}}function Qt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function hr(e){return typeof e=="string"?ve.fromBase64String(e):ve.fromUint8Array(e)}const Om="server_timestamp",Mm="__type__",Lm="__previous_value__",Fm="__local_write_time__";function Bc(e){return(e?.mapValue?.fields||{})[Mm]?.stringValue===Om}function va(e){const t=e.mapValue.fields[Lm];return Bc(t)?va(t):t}function Vi(e){const t=ur(e.mapValue.fields[Fm].timestampValue);return new $t(t.seconds,t.nanos)}class bE{constructor(t,n,r,s,i,o,l,c,u,h){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=h}}const Ko="(default)";class Di{constructor(t,n){this.projectId=t,this.database=n||Ko}static empty(){return new Di("","")}get isDefaultDatabase(){return this.database===Ko}isEqual(t){return t instanceof Di&&t.projectId===this.projectId&&t.database===this.database}}const Um="__type__",AE="__max__",go={mapValue:{}},Bm="__vector__",Wo="value";function fr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Bc(e)?4:RE(e)?9007199254740991:IE(e)?10:11:lt(28295,{value:e})}function Tn(e,t){if(e===t)return!0;const n=fr(e);if(n!==fr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Vi(e).isEqual(Vi(t));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ur(s.timestampValue),l=ur(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(s,i){return hr(s.bytesValue).isEqual(hr(i.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(s,i){return Qt(s.geoPointValue.latitude)===Qt(i.geoPointValue.latitude)&&Qt(s.geoPointValue.longitude)===Qt(i.geoPointValue.longitude)})(e,t);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return Qt(s.integerValue)===Qt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Qt(s.doubleValue),l=Qt(i.doubleValue);return o===l?Go(o)===Go(l):isNaN(o)&&isNaN(l)}return!1})(e,t);case 9:return ms(e.arrayValue.values||[],t.arrayValue.values||[],Tn);case 10:case 11:return(function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(Rf(o)!==Rf(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Tn(o[c],l[c])))return!1;return!0})(e,t);default:return lt(52216,{left:e})}}function ki(e,t){return(e.values||[]).find((n=>Tn(n,t)))!==void 0}function gs(e,t){if(e===t)return 0;const n=fr(e),r=fr(t);if(n!==r)return vt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return vt(e.booleanValue,t.booleanValue);case 2:return(function(i,o){const l=Qt(i.integerValue||i.doubleValue),c=Qt(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(e,t);case 3:return Cf(e.timestampValue,t.timestampValue);case 4:return Cf(Vi(e),Vi(t));case 5:return Gl(e.stringValue,t.stringValue);case 6:return(function(i,o){const l=hr(i),c=hr(o);return l.compareTo(c)})(e.bytesValue,t.bytesValue);case 7:return(function(i,o){const l=i.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const h=vt(l[u],c[u]);if(h!==0)return h}return vt(l.length,c.length)})(e.referenceValue,t.referenceValue);case 8:return(function(i,o){const l=vt(Qt(i.latitude),Qt(o.latitude));return l!==0?l:vt(Qt(i.longitude),Qt(o.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return xf(e.arrayValue,t.arrayValue);case 10:return(function(i,o){const l=i.fields||{},c=o.fields||{},u=l[Wo]?.arrayValue,h=c[Wo]?.arrayValue,d=vt(u?.values?.length||0,h?.values?.length||0);return d!==0?d:xf(u,h)})(e.mapValue,t.mapValue);case 11:return(function(i,o){if(i===go.mapValue&&o===go.mapValue)return 0;if(i===go.mapValue)return 1;if(o===go.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=o.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let d=0;d<c.length&&d<h.length;++d){const m=Gl(c[d],h[d]);if(m!==0)return m;const g=gs(l[c[d]],u[h[d]]);if(g!==0)return g}return vt(c.length,h.length)})(e.mapValue,t.mapValue);default:throw lt(23264,{he:n})}}function Cf(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return vt(e,t);const n=ur(e),r=ur(t),s=vt(n.seconds,r.seconds);return s!==0?s:vt(n.nanos,r.nanos)}function xf(e,t){const n=e.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=gs(n[s],r[s]);if(i)return i}return vt(n.length,r.length)}function _s(e){return Kl(e)}function Kl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const r=ur(n);return`time(${r.seconds},${r.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return hr(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return st.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Kl(i);return r+"]"})(e.arrayValue):"mapValue"in e?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Kl(n.fields[o])}`;return s+"}"})(e.mapValue):lt(61005,{value:e})}function xo(e){switch(fr(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=va(e);return t?16+xo(t):16;case 5:return 2*e.stringValue.length;case 6:return hr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+xo(i)),0)})(e.arrayValue);case 10:case 11:return(function(r){let s=0;return _r(r.fields,((i,o)=>{s+=i.length+xo(o)})),s})(e.mapValue);default:throw lt(13486,{value:e})}}function Pf(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Wl(e){return!!e&&"integerValue"in e}function $c(e){return!!e&&"arrayValue"in e}function Vf(e){return!!e&&"nullValue"in e}function Df(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Po(e){return!!e&&"mapValue"in e}function IE(e){return(e?.mapValue?.fields||{})[Um]?.stringValue===Bm}function ui(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return _r(e.mapValue.fields,((n,r)=>t.mapValue.fields[n]=ui(r))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ui(e.arrayValue.values[n]);return t}return{...e}}function RE(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===AE}class Fe{constructor(t){this.value=t}static empty(){return new Fe({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Po(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ui(n)}setAll(t){let n=_e.emptyPath(),r={},s=[];t.forEach(((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=ui(o):s.push(l.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(t){const n=this.field(t.popLast());Po(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Tn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let s=n.mapValue.fields[t.get(r)];Po(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,r){_r(n,((s,i)=>t[s]=i));for(const s of r)delete t[s]}clone(){return new Fe(ui(this.value))}}function $m(e){const t=[];return _r(e.fields,((n,r)=>{const s=new _e([n]);if(Po(r)){const i=$m(r.mapValue).fields;if(i.length===0)t.push(s);else for(const o of i)t.push(s.child(o))}else t.push(s)})),new Qe(t)}class le{constructor(t,n,r,s,i,o,l){this.key=t,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(t){return new le(t,0,ft.min(),ft.min(),ft.min(),Fe.empty(),0)}static newFoundDocument(t,n,r,s){return new le(t,1,n,ft.min(),r,s,0)}static newNoDocument(t,n){return new le(t,2,n,ft.min(),ft.min(),Fe.empty(),0)}static newUnknownDocument(t,n){return new le(t,3,n,ft.min(),ft.min(),Fe.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ft.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Fe.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Fe.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ft.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof le&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new le(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qo{constructor(t,n){this.position=t,this.inclusive=n}}function kf(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],o=e.position[s];if(i.field.isKeyField()?r=st.comparator(st.fromName(o.referenceValue),n.key):r=gs(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Nf(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Tn(e.position[n],t.position[n]))return!1;return!0}class Ni{constructor(t,n="asc"){this.field=t,this.dir=n}}function SE(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class jm{}class Zt extends jm{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new xE(t,n,r):n==="array-contains"?new DE(t,r):n==="in"?new kE(t,r):n==="not-in"?new NE(t,r):n==="array-contains-any"?new OE(t,r):new Zt(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new PE(t,r):new VE(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(gs(n,this.value)):n!==null&&fr(this.value)===fr(n)&&this.matchesComparison(gs(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return lt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class an extends jm{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new an(t,n)}matches(t){return zm(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function zm(e){return e.op==="and"}function qm(e){return CE(e)&&zm(e)}function CE(e){for(const t of e.filters)if(t instanceof an)return!1;return!0}function Ql(e){if(e instanceof Zt)return e.field.canonicalString()+e.op.toString()+_s(e.value);if(qm(e))return e.filters.map((t=>Ql(t))).join(",");{const t=e.filters.map((n=>Ql(n))).join(",");return`${e.op}(${t})`}}function Hm(e,t){return e instanceof Zt?(function(r,s){return s instanceof Zt&&r.op===s.op&&r.field.isEqual(s.field)&&Tn(r.value,s.value)})(e,t):e instanceof an?(function(r,s){return s instanceof an&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,o,l)=>i&&Hm(o,s.filters[l])),!0):!1})(e,t):void lt(19439)}function Gm(e){return e instanceof Zt?(function(n){return`${n.field.canonicalString()} ${n.op} ${_s(n.value)}`})(e):e instanceof an?(function(n){return n.op.toString()+" {"+n.getFilters().map(Gm).join(" ,")+"}"})(e):"Filter"}class xE extends Zt{constructor(t,n,r){super(t,n,r),this.key=st.fromName(r.referenceValue)}matches(t){const n=st.comparator(t.key,this.key);return this.matchesComparison(n)}}class PE extends Zt{constructor(t,n){super(t,"in",n),this.keys=Km("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class VE extends Zt{constructor(t,n){super(t,"not-in",n),this.keys=Km("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function Km(e,t){return(t.arrayValue?.values||[]).map((n=>st.fromName(n.referenceValue)))}class DE extends Zt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return $c(n)&&ki(n.arrayValue,this.value)}}class kE extends Zt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&ki(this.value.arrayValue,n)}}class NE extends Zt{constructor(t,n){super(t,"not-in",n)}matches(t){if(ki(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ki(this.value.arrayValue,n)}}class OE extends Zt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!$c(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>ki(this.value.arrayValue,r)))}}class ME{constructor(t,n=null,r=[],s=[],i=null,o=null,l=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.Te=null}}function Of(e,t=null,n=[],r=[],s=null,i=null,o=null){return new ME(e,t,n,r,s,i,o)}function jc(e){const t=pt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>Ql(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),qi(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>_s(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>_s(r))).join(",")),t.Te=n}return t.Te}function zc(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!SE(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Hm(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Nf(e.startAt,t.startAt)&&Nf(e.endAt,t.endAt)}function Xl(e){return st.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class Rs{constructor(t,n=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function LE(e,t,n,r,s,i,o,l){return new Rs(e,t,n,r,s,i,o,l)}function Ea(e){return new Rs(e)}function Mf(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Wm(e){return e.collectionGroup!==null}function hi(e){const t=pt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),n.add(i.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new se(_e.comparator);return o.filters.forEach((c=>{c.getFlattenedFilters().forEach((u=>{u.isInequality()&&(l=l.add(u.field))}))})),l})(t).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||t.Ie.push(new Ni(i,r))})),n.has(_e.keyField().canonicalString())||t.Ie.push(new Ni(_e.keyField(),r))}return t.Ie}function vn(e){const t=pt(e);return t.Ee||(t.Ee=FE(t,hi(e))),t.Ee}function FE(e,t){if(e.limitType==="F")return Of(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new Ni(s.field,i)}));const n=e.endAt?new Qo(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Qo(e.startAt.position,e.startAt.inclusive):null;return Of(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Yl(e,t){const n=e.filters.concat([t]);return new Rs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Jl(e,t,n){return new Rs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function wa(e,t){return zc(vn(e),vn(t))&&e.limitType===t.limitType}function Qm(e){return`${jc(vn(e))}|lt:${e.limitType}`}function Zr(e){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>Gm(s))).join(", ")}]`),qi(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>_s(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>_s(s))).join(",")),`Target(${r})`})(vn(e))}; limitType=${e.limitType})`}function Ta(e,t){return t.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):st.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(e,t)&&(function(r,s){for(const i of hi(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(e,t)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(e,t)&&(function(r,s){return!(r.startAt&&!(function(o,l,c){const u=kf(o,l,c);return o.inclusive?u<=0:u<0})(r.startAt,hi(r),s)||r.endAt&&!(function(o,l,c){const u=kf(o,l,c);return o.inclusive?u>=0:u>0})(r.endAt,hi(r),s))})(e,t)}function UE(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Xm(e){return(t,n)=>{let r=!1;for(const s of hi(e)){const i=BE(s,t,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function BE(e,t,n){const r=e.field.isKeyField()?st.comparator(t.key,n.key):(function(i,o,l){const c=o.data.field(i),u=l.data.field(i);return c!==null&&u!==null?gs(c,u):lt(42886)})(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return lt(19790,{direction:e.dir})}}class zr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,t))return i}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],t))return void(s[i]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(t){_r(this.inner,((n,r)=>{for(const[s,i]of r)t(s,i)}))}isEmpty(){return km(this.inner)}size(){return this.innerSize}}const $E=new zt(st.comparator);function Ln(){return $E}const Ym=new zt(st.comparator);function Zs(...e){let t=Ym;for(const n of e)t=t.insert(n.key,n);return t}function Jm(e){let t=Ym;return e.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function Dr(){return fi()}function Zm(){return fi()}function fi(){return new zr((e=>e.toString()),((e,t)=>e.isEqual(t)))}const jE=new zt(st.comparator),zE=new se(st.comparator);function Et(...e){let t=zE;for(const n of e)t=t.add(n);return t}const qE=new se(vt);function HE(){return qE}function qc(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Go(t)?"-0":t}}function tg(e){return{integerValue:""+e}}function GE(e,t){return vE(t)?tg(t):qc(e,t)}class ba{constructor(){this._=void 0}}function KE(e,t,n){return e instanceof Oi?(function(s,i){const o={fields:{[Mm]:{stringValue:Om},[Fm]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Bc(i)&&(i=va(i)),i&&(o.fields[Lm]=i),{mapValue:o}})(n,t):e instanceof Mi?ng(e,t):e instanceof Li?rg(e,t):(function(s,i){const o=eg(s,i),l=Lf(o)+Lf(s.Ae);return Wl(o)&&Wl(s.Ae)?tg(l):qc(s.serializer,l)})(e,t)}function WE(e,t,n){return e instanceof Mi?ng(e,t):e instanceof Li?rg(e,t):n}function eg(e,t){return e instanceof Xo?(function(r){return Wl(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(t)?t:{integerValue:0}:null}class Oi extends ba{}class Mi extends ba{constructor(t){super(),this.elements=t}}function ng(e,t){const n=sg(t);for(const r of e.elements)n.some((s=>Tn(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Li extends ba{constructor(t){super(),this.elements=t}}function rg(e,t){let n=sg(t);for(const r of e.elements)n=n.filter((s=>!Tn(s,r)));return{arrayValue:{values:n}}}class Xo extends ba{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function Lf(e){return Qt(e.integerValue||e.doubleValue)}function sg(e){return $c(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class QE{constructor(t,n){this.field=t,this.transform=n}}function XE(e,t){return e.field.isEqual(t.field)&&(function(r,s){return r instanceof Mi&&s instanceof Mi||r instanceof Li&&s instanceof Li?ms(r.elements,s.elements,Tn):r instanceof Xo&&s instanceof Xo?Tn(r.Ae,s.Ae):r instanceof Oi&&s instanceof Oi})(e.transform,t.transform)}class YE{constructor(t,n){this.version=t,this.transformResults=n}}class ye{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ye}static exists(t){return new ye(void 0,t)}static updateTime(t){return new ye(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Vo(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Aa{}function ig(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Ia(e.key,ye.none()):new Hi(e.key,e.data,ye.none());{const n=e.data,r=Fe.empty();let s=new se(_e.comparator);for(let i of t.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new yr(e.key,r,new Qe(s.toArray()),ye.none())}}function JE(e,t,n){e instanceof Hi?(function(s,i,o){const l=s.value.clone(),c=Uf(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(e,t,n):e instanceof yr?(function(s,i,o){if(!Vo(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=Uf(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(og(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(e,t,n):(function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()})(0,t,n)}function di(e,t,n,r){return e instanceof Hi?(function(i,o,l,c){if(!Vo(i.precondition,o))return l;const u=i.value.clone(),h=Bf(i.fieldTransforms,c,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null})(e,t,n,r):e instanceof yr?(function(i,o,l,c){if(!Vo(i.precondition,o))return l;const u=Bf(i.fieldTransforms,c,o),h=o.data;return h.setAll(og(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((d=>d.field)))})(e,t,n,r):(function(i,o,l){return Vo(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l})(e,t,n)}function ZE(e,t){let n=null;for(const r of e.fieldTransforms){const s=t.data.field(r.field),i=eg(r.transform,s||null);i!=null&&(n===null&&(n=Fe.empty()),n.set(r.field,i))}return n||null}function Ff(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ms(r,s,((i,o)=>XE(i,o)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Hi extends Aa{constructor(t,n,r,s=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class yr extends Aa{constructor(t,n,r,s,i=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function og(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Uf(e,t,n){const r=new Map;It(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let s=0;s<n.length;s++){const i=e[s],o=i.transform,l=t.data.field(i.field);r.set(i.field,WE(o,l,n[s]))}return r}function Bf(e,t,n){const r=new Map;for(const s of e){const i=s.transform,o=n.data.field(s.field);r.set(s.field,KE(i,o,t))}return r}class Ia extends Aa{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ag extends Aa{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class tw{constructor(t,n,r,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(t.key)&&JE(i,t,r[s])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=di(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=di(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=Zm();return this.mutations.forEach((s=>{const i=t.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const c=ig(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(ft.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Et())}isEqual(t){return this.batchId===t.batchId&&ms(this.mutations,t.mutations,((n,r)=>Ff(n,r)))&&ms(this.baseMutations,t.baseMutations,((n,r)=>Ff(n,r)))}}class Hc{constructor(t,n,r,s){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(t,n,r){It(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let s=(function(){return jE})();const i=t.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Hc(t,n,r,s)}}class ew{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class nw{constructor(t,n){this.count=t,this.unchangedNames=n}}var Xt,Tt;function lg(e){switch(e){case N.OK:return lt(64938);case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0;default:return lt(15467,{code:e})}}function cg(e){if(e===void 0)return Mn("GRPC error has no .code"),N.UNKNOWN;switch(e){case Xt.OK:return N.OK;case Xt.CANCELLED:return N.CANCELLED;case Xt.UNKNOWN:return N.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return N.INTERNAL;case Xt.UNAVAILABLE:return N.UNAVAILABLE;case Xt.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Xt.NOT_FOUND:return N.NOT_FOUND;case Xt.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Xt.ABORTED:return N.ABORTED;case Xt.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Xt.DATA_LOSS:return N.DATA_LOSS;default:return lt(39323,{code:e})}}(Tt=Xt||(Xt={}))[Tt.OK=0]="OK",Tt[Tt.CANCELLED=1]="CANCELLED",Tt[Tt.UNKNOWN=2]="UNKNOWN",Tt[Tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tt[Tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tt[Tt.NOT_FOUND=5]="NOT_FOUND",Tt[Tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tt[Tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tt[Tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tt[Tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tt[Tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tt[Tt.ABORTED=10]="ABORTED",Tt[Tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tt[Tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tt[Tt.INTERNAL=13]="INTERNAL",Tt[Tt.UNAVAILABLE=14]="UNAVAILABLE",Tt[Tt.DATA_LOSS=15]="DATA_LOSS";function rw(){return new TextEncoder}const sw=new rr([4294967295,4294967295],0);function $f(e){const t=rw().encode(e),n=new Tm;return n.update(t),new Uint8Array(n.digest())}function jf(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new rr([n,r],0),new rr([s,i],0)]}class Gc{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ti(`Invalid padding: ${n}`);if(r<0)throw new ti(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new ti(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new ti(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=rr.fromNumber(this.ge)}ye(t,n,r){let s=t.add(n.multiply(rr.fromNumber(r)));return s.compare(sw)===1&&(s=new rr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=$f(t),[r,s]=jf(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(t,n,r){const s=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),o=new Gc(i,s,n);return r.forEach((l=>o.insert(l))),o}insert(t){if(this.ge===0)return;const n=$f(t),[r,s]=jf(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class ti extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ra{constructor(t,n,r,s,i){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const s=new Map;return s.set(t,Gi.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Ra(ft.min(),s,new zt(vt),Ln(),Et())}}class Gi{constructor(t,n,r,s,i){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Gi(r,n,Et(),Et(),Et())}}class Do{constructor(t,n,r,s){this.be=t,this.removedTargetIds=n,this.key=r,this.De=s}}class ug{constructor(t,n){this.targetId=t,this.Ce=n}}class hg{constructor(t,n,r=ve.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=s}}class zf{constructor(){this.ve=0,this.Fe=qf(),this.Me=ve.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Et(),n=Et(),r=Et();return this.Fe.forEach(((s,i)=>{switch(i){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:lt(38017,{changeType:i})}})),new Gi(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=qf()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,It(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class iw{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ln(),this.Je=_o(),this.He=_o(),this.Ye=new zt(vt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:lt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(t){const n=t.targetId,r=t.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Xl(i))if(r===0){const o=new st(i.path);this.et(n,o,le.newNoDocument(o,ft.min()))}else It(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(t),c=l?this.ct(l,t,o):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=hr(r).toUint8Array()}catch(c){if(c instanceof Nm)return ps("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Gc(o,s,i)}catch(c){return ps(c instanceof ti?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;t.mightContain(l)||(this.et(n,i,null),s++)})),s}Tt(t){const n=new Map;this.ze.forEach(((i,o)=>{const l=this.ot(o);if(l){if(i.current&&Xl(l.target)){const c=new st(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,le.newNoDocument(c,t))}i.Be&&(n.set(o,i.ke()),i.qe())}}));let r=Et();this.He.forEach(((i,o)=>{let l=!0;o.forEachWhile((c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(i))})),this.je.forEach(((i,o)=>o.setReadTime(t)));const s=new Ra(t,n,this.Ye,this.je,r);return this.je=Ln(),this.Je=_o(),this.He=_o(),this.Ye=new zt(vt),s}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new zf,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new se(vt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new se(vt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||tt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new zf),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function _o(){return new zt(st.comparator)}function qf(){return new zt(st.comparator)}const ow={asc:"ASCENDING",desc:"DESCENDING"},aw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lw={and:"AND",or:"OR"};class cw{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Zl(e,t){return e.useProto3Json||qi(t)?t:{value:t}}function Yo(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function fg(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function uw(e,t){return Yo(e,t.toTimestamp())}function Xe(e){return It(!!e,49232),ft.fromTimestamp((function(n){const r=ur(n);return new $t(r.seconds,r.nanos)})(e))}function Kc(e,t){return tc(e,t).canonicalString()}function tc(e,t){const n=(function(s){return new Nt(["projects",s.projectId,"databases",s.database])})(e).child("documents");return t===void 0?n:n.child(t)}function dg(e){const t=Nt.fromString(e);return It(vg(t),10190,{key:t.toString()}),t}function Jo(e,t){return Kc(e.databaseId,t.path)}function pi(e,t){const n=dg(t);if(n.get(1)!==e.databaseId.projectId)throw new W(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new W(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new st(mg(n))}function pg(e,t){return Kc(e.databaseId,t)}function hw(e){const t=dg(e);return t.length===4?Nt.emptyPath():mg(t)}function ec(e){return new Nt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function mg(e){return It(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function Hf(e,t,n){return{name:Jo(e,t),fields:n.value.mapValue.fields}}function fw(e,t){return"found"in t?(function(r,s){It(!!s.found,43571),s.found.name,s.found.updateTime;const i=pi(r,s.found.name),o=Xe(s.found.updateTime),l=s.found.createTime?Xe(s.found.createTime):ft.min(),c=new Fe({mapValue:{fields:s.found.fields}});return le.newFoundDocument(i,o,l,c)})(e,t):"missing"in t?(function(r,s){It(!!s.missing,3894),It(!!s.readTime,22933);const i=pi(r,s.missing),o=Xe(s.readTime);return le.newNoDocument(i,o)})(e,t):lt(7234,{result:t})}function dw(e,t){let n;if("targetChange"in t){t.targetChange;const r=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:lt(39313,{state:u})})(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=(function(u,h){return u.useProto3Json?(It(h===void 0||typeof h=="string",58123),ve.fromBase64String(h||"")):(It(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),ve.fromUint8Array(h||new Uint8Array))})(e,t.targetChange.resumeToken),o=t.targetChange.cause,l=o&&(function(u){const h=u.code===void 0?N.UNKNOWN:cg(u.code);return new W(h,u.message||"")})(o);n=new hg(r,s,i,l||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=pi(e,r.document.name),i=Xe(r.document.updateTime),o=r.document.createTime?Xe(r.document.createTime):ft.min(),l=new Fe({mapValue:{fields:r.document.fields}}),c=le.newFoundDocument(s,i,o,l),u=r.targetIds||[],h=r.removedTargetIds||[];n=new Do(u,h,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=pi(e,r.document),i=r.readTime?Xe(r.readTime):ft.min(),o=le.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Do([],l,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=pi(e,r.document),i=r.removedTargetIds||[];n=new Do([],i,s,null)}else{if(!("filter"in t))return lt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new nw(s,i),l=r.targetId;n=new ug(l,o)}}return n}function gg(e,t){let n;if(t instanceof Hi)n={update:Hf(e,t.key,t.value)};else if(t instanceof Ia)n={delete:Jo(e,t.key)};else if(t instanceof yr)n={update:Hf(e,t.key,t.data),updateMask:Tw(t.fieldMask)};else{if(!(t instanceof ag))return lt(16599,{Vt:t.type});n={verify:Jo(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(i,o){const l=o.transform;if(l instanceof Oi)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Mi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Li)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Xo)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw lt(20930,{transform:o.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:uw(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:lt(27497)})(e,t.precondition)),n}function pw(e,t){return e&&e.length>0?(It(t!==void 0,14353),e.map((n=>(function(s,i){let o=s.updateTime?Xe(s.updateTime):Xe(i);return o.isEqual(ft.min())&&(o=Xe(i)),new YE(o,s.transformResults||[])})(n,t)))):[]}function mw(e,t){return{documents:[pg(e,t.path)]}}function gw(e,t){const n={structuredQuery:{}},r=t.path;let s;t.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=pg(e,s);const i=(function(u){if(u.length!==0)return yg(an.create(u,"and"))})(t.filters);i&&(n.structuredQuery.where=i);const o=(function(u){if(u.length!==0)return u.map((h=>(function(m){return{field:ts(m.field),direction:vw(m.dir)}})(h)))})(t.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Zl(e,t.limit);return l!==null&&(n.structuredQuery.limit=l),t.startAt&&(n.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(t.endAt)),{ft:n,parent:s}}function _w(e){let t=hw(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){It(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:t=t.child(h.collectionId)}let i=[];n.where&&(i=(function(d){const m=_g(d);return m instanceof an&&qm(m)?m.getFilters():[m]})(n.where));let o=[];n.orderBy&&(o=(function(d){return d.map((m=>(function(C){return new Ni(es(C.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(m)))})(n.orderBy));let l=null;n.limit&&(l=(function(d){let m;return m=typeof d=="object"?d.value:d,qi(m)?null:m})(n.limit));let c=null;n.startAt&&(c=(function(d){const m=!!d.before,g=d.values||[];return new Qo(g,m)})(n.startAt));let u=null;return n.endAt&&(u=(function(d){const m=!d.before,g=d.values||[];return new Qo(g,m)})(n.endAt)),LE(t,s,o,i,l,"F",c,u)}function yw(e,t){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return lt(28987,{purpose:s})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function _g(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=es(n.unaryFilter.field);return Zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=es(n.unaryFilter.field);return Zt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=es(n.unaryFilter.field);return Zt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=es(n.unaryFilter.field);return Zt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return lt(61313);default:return lt(60726)}})(e):e.fieldFilter!==void 0?(function(n){return Zt.create(es(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return lt(58110);default:return lt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return an.create(n.compositeFilter.filters.map((r=>_g(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return lt(1026)}})(n.compositeFilter.op))})(e):lt(30097,{filter:e})}function vw(e){return ow[e]}function Ew(e){return aw[e]}function ww(e){return lw[e]}function ts(e){return{fieldPath:e.canonicalString()}}function es(e){return _e.fromServerFormat(e.fieldPath)}function yg(e){return e instanceof Zt?(function(n){if(n.op==="=="){if(Df(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NAN"}};if(Vf(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Df(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NOT_NAN"}};if(Vf(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ts(n.field),op:Ew(n.op),value:n.value}}})(e):e instanceof an?(function(n){const r=n.getFilters().map((s=>yg(s)));return r.length===1?r[0]:{compositeFilter:{op:ww(n.op),filters:r}}})(e):lt(54877,{filter:e})}function Tw(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function vg(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}class Yn{constructor(t,n,r,s,i=ft.min(),o=ft.min(),l=ve.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(t){return new Yn(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Yn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Yn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Yn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class bw{constructor(t){this.yt=t}}function Aw(e){const t=_w({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Jl(t,t.limit,"L"):t}class Iw{constructor(){this.Cn=new Rw}addToCollectionParentIndex(t,n){return this.Cn.add(n),F.resolve()}getCollectionParents(t,n){return F.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return F.resolve()}deleteFieldIndex(t,n){return F.resolve()}deleteAllFieldIndexes(t){return F.resolve()}createTargetIndexes(t,n){return F.resolve()}getDocumentsMatchingTarget(t,n){return F.resolve(null)}getIndexType(t,n){return F.resolve(0)}getFieldIndexes(t,n){return F.resolve([])}getNextCollectionGroupToUpdate(t){return F.resolve(null)}getMinOffset(t,n){return F.resolve(cr.min())}getMinOffsetFromCollectionGroup(t,n){return F.resolve(cr.min())}updateCollectionGroup(t,n,r){return F.resolve()}updateIndexEntries(t,n){return F.resolve()}}class Rw{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n]||new se(Nt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(t){return(this.index[t]||new se(Nt.comparator)).toArray()}}const Gf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Eg=41943040;class je{static withCacheSize(t){return new je(t,je.DEFAULT_COLLECTION_PERCENTILE,je.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}je.DEFAULT_COLLECTION_PERCENTILE=10,je.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,je.DEFAULT=new je(Eg,je.DEFAULT_COLLECTION_PERCENTILE,je.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),je.DISABLED=new je(-1,0,0);class ys{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ys(0)}static cr(){return new ys(-1)}}const Kf="LruGarbageCollector",Sw=1048576;function Wf([e,t],[n,r]){const s=vt(e,n);return s===0?vt(t,r):s}class Cw{constructor(t){this.Ir=t,this.buffer=new se(Wf),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Wf(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xw{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){tt(Kf,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Is(n)?tt(Kf,"Ignoring IndexedDB error during garbage collection: ",n):await As(n)}await this.Vr(3e5)}))}}class Pw{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return F.resolve(ya.ce);const r=new Cw(n);return this.mr.forEachTarget(t,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(t,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(tt("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(Gf)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(tt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gf):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,s,i,o,l,c,u;const h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((d=>(d>this.params.maximumSequenceNumbersToCollect?(tt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),s=this.params.maximumSequenceNumbersToCollect):s=d,o=Date.now(),this.nthSequenceNumber(t,s)))).next((d=>(r=d,l=Date.now(),this.removeTargets(t,r,n)))).next((d=>(i=d,c=Date.now(),this.removeOrphanedDocuments(t,r)))).next((d=>(u=Date.now(),Jr()<=bt.DEBUG&&tt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${d} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:d}))))}}function Vw(e,t){return new Pw(e,t)}class Dw{constructor(){this.changes=new zr((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,le.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class kw{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class Nw{constructor(t,n,r,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(t,n)))).next((s=>(r!==null&&di(r.mutation,s,Qe.empty(),$t.now()),s)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,Et()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=Et()){const s=Dr();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,r).next((i=>{let o=Zs();return i.forEach(((l,c)=>{o=o.insert(l,c.overlayedDocument)})),o}))))}getOverlayedDocuments(t,n){const r=Dr();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,Et())))}populateOverlays(t,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(t,s).next((i=>{i.forEach(((o,l)=>{n.set(o,l)}))}))}computeViews(t,n,r,s){let i=Ln();const o=fi(),l=(function(){return fi()})();return n.forEach(((c,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof yr)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),di(h.mutation,u,h.mutation.getFieldMask(),$t.now())):o.set(u.key,Qe.empty())})),this.recalculateAndSaveOverlays(t,i).next((c=>(c.forEach(((u,h)=>o.set(u,h))),n.forEach(((u,h)=>l.set(u,new kw(h,o.get(u)??null)))),l)))}recalculateAndSaveOverlays(t,n){const r=fi();let s=new zt(((o,l)=>o-l)),i=Et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((o=>{for(const l of o)l.keys().forEach((c=>{const u=n.get(c);if(u===null)return;let h=r.get(c)||Qe.empty();h=l.applyToLocalView(u,h),r.set(c,h);const d=(s.get(l.batchId)||Et()).add(c);s=s.insert(l.batchId,d)}))})).next((()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,h=c.value,d=Zm();h.forEach((m=>{if(!i.has(m)){const g=ig(n.get(m),r.get(m));g!==null&&d.set(m,g),i=i.add(m)}})),o.push(this.documentOverlayCache.saveOverlays(t,u,d))}return F.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,s){return(function(o){return st.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Wm(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,s):this.getDocumentsMatchingCollectionQuery(t,n,r,s)}getNextDocuments(t,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,s).next((i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,s-i.size):F.resolve(Dr());let l=Pi,c=i;return o.next((u=>F.forEach(u,((h,d)=>(l<d.largestBatchId&&(l=d.largestBatchId),i.get(h)?F.resolve():this.remoteDocumentCache.getEntry(t,h).next((m=>{c=c.insert(h,m)}))))).next((()=>this.populateOverlays(t,u,i))).next((()=>this.computeViews(t,c,u,Et()))).next((h=>({batchId:l,changes:Jm(h)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new st(n)).next((r=>{let s=Zs();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,s){const i=n.collectionGroup;let o=Zs();return this.indexManager.getCollectionParents(t,i).next((l=>F.forEach(l,(c=>{const u=(function(d,m){return new Rs(m,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)})(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(t,u,r,s).next((h=>{h.forEach(((d,m)=>{o=o.insert(d,m)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(t,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,i,s)))).next((o=>{i.forEach(((c,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,le.newInvalidDocument(h)))}));let l=Zs();return o.forEach(((c,u)=>{const h=i.get(c);h!==void 0&&di(h.mutation,u,Qe.empty(),$t.now()),Ta(n,u)&&(l=l.insert(c,u))})),l}))}}class Ow{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return F.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Xe(s.createTime)}})(n)),F.resolve()}getNamedQuery(t,n){return F.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:Aw(s.bundledQuery),readTime:Xe(s.readTime)}})(n)),F.resolve()}}class Mw{constructor(){this.overlays=new zt(st.comparator),this.qr=new Map}getOverlay(t,n){return F.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Dr();return F.forEach(n,(s=>this.getOverlay(t,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((s,i)=>{this.St(t,n,i)})),F.resolve()}removeOverlaysForBatchId(t,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),F.resolve()}getOverlaysForCollection(t,n,r){const s=Dr(),i=n.length+1,o=new st(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return F.resolve(s)}getOverlaysForCollectionGroup(t,n,r,s){let i=new zt(((u,h)=>u-h));const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=Dr(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const l=Dr(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((u,h)=>l.set(u,h))),!(l.size()>=s)););return F.resolve(l)}St(t,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ew(n,r));let i=this.qr.get(n);i===void 0&&(i=Et(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}class Lw{constructor(){this.sessionToken=ve.EMPTY_BYTE_STRING}getSessionToken(t){return F.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,F.resolve()}}class Wc{constructor(){this.Qr=new se(ae.$r),this.Ur=new se(ae.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new ae(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Gr(new ae(t,n))}zr(t,n){t.forEach((r=>this.removeReference(r,n)))}jr(t){const n=new st(new Nt([])),r=new ae(n,t),s=new ae(n,t+1),i=[];return this.Ur.forEachInRange([r,s],(o=>{this.Gr(o),i.push(o.key)})),i}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new st(new Nt([])),r=new ae(n,t),s=new ae(n,t+1);let i=Et();return this.Ur.forEachInRange([r,s],(o=>{i=i.add(o.key)})),i}containsKey(t){const n=new ae(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class ae{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return st.comparator(t.key,n.key)||vt(t.Yr,n.Yr)}static Kr(t,n){return vt(t.Yr,n.Yr)||st.comparator(t.key,n.key)}}class Fw{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new se(ae.$r)}checkEmpty(t){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new tw(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.Zr=this.Zr.add(new ae(l.key,i)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return F.resolve(o)}lookupMutationBatch(t,n){return F.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return F.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?Uc:this.tr-1)}getAllMutationBatches(t){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new ae(n,0),s=new ae(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(o=>{const l=this.Xr(o.Yr);i.push(l)})),F.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new se(vt);return n.forEach((s=>{const i=new ae(s,0),o=new ae(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],(l=>{r=r.add(l.Yr)}))})),F.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,s=r.length+1;let i=r;st.isDocumentKey(i)||(i=i.child(""));const o=new ae(new st(i),0);let l=new se(vt);return this.Zr.forEachWhile((c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.Yr)),!0)}),o),F.resolve(this.ti(l))}ti(t){const n=[];return t.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(t,n){It(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return F.forEach(n.mutations,(s=>{const i=new ae(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,n){const r=new ae(n,0),s=this.Zr.firstAfterOrEqual(r);return F.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,F.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Uw{constructor(t){this.ri=t,this.docs=(function(){return new zt(st.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():le.newInvalidDocument(n))}getEntries(t,n){let r=Ln();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():le.newInvalidDocument(s))})),F.resolve(r)}getDocumentsMatchingQuery(t,n,r,s){let i=Ln();const o=n.path,l=new st(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||mE(pE(h),r)<=0||(s.has(h.key)||Ta(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return F.resolve(i)}getAllFromCollectionGroup(t,n,r,s){lt(9500)}ii(t,n){return F.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new Bw(this)}getSize(t){return F.resolve(this.size)}}class Bw extends Dw{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(t,s)):this.Nr.removeEntry(r)})),F.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class $w{constructor(t){this.persistence=t,this.si=new zr((n=>jc(n)),zc),this.lastRemoteSnapshotVersion=ft.min(),this.highestTargetId=0,this.oi=0,this._i=new Wc,this.targetCount=0,this.ai=ys.ur()}forEachTarget(t,n){return this.si.forEach(((r,s)=>n(s))),F.resolve()}getLastRemoteSnapshotVersion(t){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return F.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),F.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new ys(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,F.resolve()}updateTargetData(t,n){return this.Pr(n),F.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(t,n,r){let s=0;const i=[];return this.si.forEach(((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(t,l.targetId)),s++)})),F.waitFor(i).next((()=>s))}getTargetCount(t){return F.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return F.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),F.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((o=>{i.push(s.markPotentiallyOrphaned(t,o))})),F.waitFor(i)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),F.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return F.resolve(r)}containsKey(t,n){return F.resolve(this._i.containsKey(n))}}class wg{constructor(t,n){this.ui={},this.overlays={},this.ci=new ya(0),this.li=!1,this.li=!0,this.hi=new Lw,this.referenceDelegate=t(this),this.Pi=new $w(this),this.indexManager=new Iw,this.remoteDocumentCache=(function(s){return new Uw(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new bw(n),this.Ii=new Ow(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Mw,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new Fw(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){tt("MemoryPersistence","Starting transaction:",t);const s=new jw(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(t,n){return F.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,n))))}}class jw extends _E{constructor(t){super(),this.currentSequenceNumber=t}}class Qc{constructor(t){this.persistence=t,this.Ri=new Wc,this.Vi=null}static mi(t){return new Qc(t)}get fi(){if(this.Vi)return this.Vi;throw lt(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),F.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),F.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),F.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.fi,(r=>{const s=st.fromPath(r);return this.gi(t,s).next((i=>{i||n.removeEntry(s,ft.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return F.or([()=>F.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Zo{constructor(t,n){this.persistence=t,this.pi=new zr((r=>EE(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=Vw(this,n)}static mi(t,n){return new Zo(t,n)}Ei(){}di(t){return F.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((s=>r+s))))}wr(t){let n=0;return this.pr(t,(r=>{n++})).next((()=>n))}pr(t,n){return F.forEach(this.pi,((r,s)=>this.br(t,r,s).next((i=>i?F.resolve():n(s)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(t,(o=>this.br(t,o,n).next((l=>{l||(r++,i.removeEntry(o,ft.min()))})))).next((()=>i.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),F.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),F.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),F.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),F.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=xo(t.data.value)),n}br(t,n,r){return F.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const s=this.pi.get(n);return F.resolve(s!==void 0&&s>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Xc{constructor(t,n,r,s){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=s}static As(t,n){let r=Et(),s=Et();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Xc(t,n.fromCache,r,s)}}class zw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class qw{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Bv()?8:yE(Fv())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,s){const i={result:null};return this.ys(t,n).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ws(t,n,s,r).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new zw;return this.Ss(t,n,o).next((l=>{if(i.result=l,this.Vs)return this.bs(t,n,o,l.size)}))})).next((()=>i.result))}bs(t,n,r,s){return r.documentReadCount<this.fs?(Jr()<=bt.DEBUG&&tt("QueryEngine","SDK will not create cache indexes for query:",Zr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),F.resolve()):(Jr()<=bt.DEBUG&&tt("QueryEngine","Query:",Zr(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Jr()<=bt.DEBUG&&tt("QueryEngine","The SDK decides to create cache indexes for query:",Zr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,vn(n))):F.resolve())}ys(t,n){if(Mf(n))return F.resolve(null);let r=vn(n);return this.indexManager.getIndexType(t,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=Jl(n,null,"F"),r=vn(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((i=>{const o=Et(...i);return this.ps.getDocuments(t,o).next((l=>this.indexManager.getMinOffset(t,r).next((c=>{const u=this.Ds(n,l);return this.Cs(n,u,o,c.readTime)?this.ys(t,Jl(n,null,"F")):this.vs(t,u,n,c)}))))})))))}ws(t,n,r,s){return Mf(n)||s.isEqual(ft.min())?F.resolve(null):this.ps.getDocuments(t,r).next((i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?F.resolve(null):(Jr()<=bt.DEBUG&&tt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Zr(n)),this.vs(t,o,n,dE(s,Pi)).next((l=>l)))}))}Ds(t,n){let r=new se(Xm(t));return n.forEach(((s,i)=>{Ta(t,i)&&(r=r.add(i))})),r}Cs(t,n,r,s){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const i=t.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(t,n,r){return Jr()<=bt.DEBUG&&tt("QueryEngine","Using full collection scan to execute query:",Zr(n)),this.ps.getDocumentsMatchingQuery(t,n,cr.min(),r)}vs(t,n,r,s){return this.ps.getDocumentsMatchingQuery(t,r,s).next((i=>(n.forEach((o=>{i=i.insert(o.key,o)})),i)))}}const Yc="LocalStore",Hw=3e8;class Gw{constructor(t,n,r,s){this.persistence=t,this.Fs=n,this.serializer=s,this.Ms=new zt(vt),this.xs=new zr((i=>jc(i)),zc),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Nw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function Kw(e,t,n,r){return new Gw(e,t,n,r)}async function Tg(e,t){const n=pt(e);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const o=[],l=[];let c=Et();for(const u of s){o.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of i){l.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next((u=>({Ls:u,removedBatchIds:o,addedBatchIds:l})))}))}))}function Ww(e,t){const n=pt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,c,u,h){const d=u.batch,m=d.keys();let g=F.resolve();return m.forEach((C=>{g=g.next((()=>h.getEntry(c,C))).next((x=>{const D=u.docVersions.get(C);It(D!==null,48541),x.version.compareTo(D)<0&&(d.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),h.addEntry(x)))}))})),g.next((()=>l.mutationQueue.removeMutationBatch(c,d)))})(n,r,t,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let c=Et();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c})(t)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function bg(e){const t=pt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function Qw(e,t){const n=pt(e),r=t.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const l=[];t.targetChanges.forEach(((h,d)=>{const m=s.get(d);if(!m)return;l.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,d).next((()=>n.Pi.addMatchingKeys(i,h.addedDocuments,d))));let g=m.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(d)!==null?g=g.withResumeToken(ve.EMPTY_BYTE_STRING,ft.min()).withLastLimboFreeSnapshotVersion(ft.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(d,g),(function(x,D,U){return x.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=Hw?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(m,g,h)&&l.push(n.Pi.updateTargetData(i,g))}));let c=Ln(),u=Et();if(t.documentUpdates.forEach((h=>{t.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))})),l.push(Xw(i,o,t.documentUpdates).next((h=>{c=h.ks,u=h.qs}))),!r.isEqual(ft.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next((d=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));l.push(h)}return F.waitFor(l).next((()=>o.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,c,u))).next((()=>c))})).then((i=>(n.Ms=s,i)))}function Xw(e,t,n){let r=Et(),s=Et();return n.forEach((i=>r=r.add(i))),t.getEntries(e,r).next((i=>{let o=Ln();return n.forEach(((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(ft.min())?(t.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(c),o=o.insert(l,c)):tt(Yc,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)})),{ks:o,qs:s}}))}function Yw(e,t){const n=pt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Uc),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function Jw(e,t){const n=pt(e);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,t).next((i=>i?(s=i,F.resolve(s)):n.Pi.allocateTargetId(r).next((o=>(s=new Yn(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r}))}async function nc(e,t,n){const r=pt(e),s=r.Ms.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(o=>r.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!Is(o))throw o;tt(Yc,`Failed to update sequence numbers for target ${t}: ${o}`)}r.Ms=r.Ms.remove(t),r.xs.delete(s.target)}function Qf(e,t,n){const r=pt(e);let s=ft.min(),i=Et();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(c,u,h){const d=pt(c),m=d.xs.get(h);return m!==void 0?F.resolve(d.Ms.get(m)):d.Pi.getTargetData(u,h)})(r,o,vn(t)).next((l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next((c=>{i=c}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,t,n?s:ft.min(),n?i:Et()))).next((l=>(Zw(r,UE(t),l),{documents:l,Qs:i})))))}function Zw(e,t,n){let r=e.Os.get(t)||ft.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),e.Os.set(t,r)}class Xf{constructor(){this.activeTargetIds=HE()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class tT{constructor(){this.Mo=new Xf,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Xf,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class eT{Oo(t){}shutdown(){}}const Yf="ConnectivityMonitor";class Jf{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){tt(Yf,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){tt(Yf,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let yo=null;function rc(){return yo===null?yo=(function(){return 268435456+Math.round(2147483648*Math.random())})():yo++,"0x"+yo.toString(16)}const gl="RestConnection",nT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rT{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Ko?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(t,n,r,s,i){const o=rc(),l=this.zo(t,n.toUriEncodedString());tt(gl,`Sending RPC '${t}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:u}=new URL(l),h=ji(u);return this.Jo(t,l,c,r,h).then((d=>(tt(gl,`Received RPC '${t}' ${o}: `,d),d)),(d=>{throw ps(gl,`RPC '${t}' ${o} failed with error: `,d,"url: ",l,"request:",r),d}))}Ho(t,n,r,s,i,o){return this.Go(t,n,r,s,i)}jo(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bs})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>t[i]=s)),r&&r.headers.forEach(((s,i)=>t[i]=s))}zo(t,n){const r=nT[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class sT{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const be="WebChannelConnection";class iT extends rT{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,s,i){const o=rc();return new Promise(((l,c)=>{const u=new bm;u.setWithCredentials(!0),u.listenOnce(Am.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case Co.NO_ERROR:const d=u.getResponseJson();tt(be,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(d)),l(d);break;case Co.TIMEOUT:tt(be,`RPC '${t}' ${o} timed out`),c(new W(N.DEADLINE_EXCEEDED,"Request time out"));break;case Co.HTTP_ERROR:const m=u.getStatus();if(tt(be,`RPC '${t}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const C=g?.error;if(C&&C.status&&C.message){const x=(function(U){const $=U.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf($)>=0?$:N.UNKNOWN})(C.status);c(new W(x,C.message))}else c(new W(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new W(N.UNAVAILABLE,"Connection failed."));break;default:lt(9055,{l_:t,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{tt(be,`RPC '${t}' ${o} completed.`)}}));const h=JSON.stringify(s);tt(be,`RPC '${t}' ${o} sending request:`,s),u.send(n,"POST",h,r,15)}))}T_(t,n,r){const s=rc(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=Sm(),l=Rm(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");tt(be,`Creating RPC '${t}' stream ${s}: ${h}`,c);const d=o.createWebChannel(h,c);this.I_(d);let m=!1,g=!1;const C=new sT({Yo:D=>{g?tt(be,`Not sending because RPC '${t}' stream ${s} is closed:`,D):(m||(tt(be,`Opening RPC '${t}' stream ${s} transport.`),d.open(),m=!0),tt(be,`RPC '${t}' stream ${s} sending:`,D),d.send(D))},Zo:()=>d.close()}),x=(D,U,$)=>{D.listen(U,(j=>{try{$(j)}catch(q){setTimeout((()=>{throw q}),0)}}))};return x(d,Js.EventType.OPEN,(()=>{g||(tt(be,`RPC '${t}' stream ${s} transport opened.`),C.o_())})),x(d,Js.EventType.CLOSE,(()=>{g||(g=!0,tt(be,`RPC '${t}' stream ${s} transport closed`),C.a_(),this.E_(d))})),x(d,Js.EventType.ERROR,(D=>{g||(g=!0,ps(be,`RPC '${t}' stream ${s} transport errored. Name:`,D.name,"Message:",D.message),C.a_(new W(N.UNAVAILABLE,"The operation could not be completed")))})),x(d,Js.EventType.MESSAGE,(D=>{if(!g){const U=D.data[0];It(!!U,16349);const $=U,j=$?.error||$[0]?.error;if(j){tt(be,`RPC '${t}' stream ${s} received error:`,j);const q=j.status;let nt=(function(v){const _=Xt[v];if(_!==void 0)return cg(_)})(q),rt=j.message;nt===void 0&&(nt=N.INTERNAL,rt="Unknown error status: "+q+" with message "+j.message),g=!0,C.a_(new W(nt,rt)),d.close()}else tt(be,`RPC '${t}' stream ${s} received:`,U),C.u_(U)}})),x(l,Im.STAT_EVENT,(D=>{D.stat===Hl.PROXY?tt(be,`RPC '${t}' stream ${s} detected buffering proxy`):D.stat===Hl.NOPROXY&&tt(be,`RPC '${t}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function _l(){return typeof document<"u"?document:null}function Sa(e){return new cw(e,!0)}class Jc{constructor(t,n,r=1e3,s=1.5,i=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&tt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Zf="PersistentStream";class Ag{constructor(t,n,r,s,i,o,l,c){this.Mi=t,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Jc(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(Mn(n.toString()),Mn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{t((()=>{const s=new W(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return tt(Zf,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(tt(Zf,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class oT extends Ag{constructor(t,n,r,s,i,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=dw(this.serializer,t),r=(function(i){if(!("targetChange"in i))return ft.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ft.min():o.readTime?Xe(o.readTime):ft.min()})(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=ec(this.serializer),n.addTarget=(function(i,o){let l;const c=o.target;if(l=Xl(c)?{documents:mw(i,c)}:{query:gw(i,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=fg(i,o.resumeToken);const u=Zl(i,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(ft.min())>0){l.readTime=Yo(i,o.snapshotVersion.toTimestamp());const u=Zl(i,o.expectedCount);u!==null&&(l.expectedCount=u)}return l})(this.serializer,t);const r=yw(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=ec(this.serializer),n.removeTarget=t,this.q_(n)}}class aT extends Ag{constructor(t,n,r,s,i,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return It(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,It(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){It(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=pw(t.writeResults,t.commitTime),r=Xe(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=ec(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>gg(this.serializer,r)))};this.q_(n)}}class lT{}class cT extends lT{constructor(t,n,r,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new W(N.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Go(t,tc(n,r),s,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new W(N.UNKNOWN,i.toString())}))}Ho(t,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Ho(t,tc(n,r),s,o,l,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(N.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class uT{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Mn(n),this.aa=!1):tt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Br="RemoteStore";class hT{constructor(t,n,r,s,i){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{qr(this)&&(tt(Br,"Restarting streams for network reachability change."),await(async function(c){const u=pt(c);u.Ea.add(4),await Ki(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Ca(u)})(this))}))})),this.Ra=new uT(r,s)}}async function Ca(e){if(qr(e))for(const t of e.da)await t(!0)}async function Ki(e){for(const t of e.da)await t(!1)}function Ig(e,t){const n=pt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),nu(n)?eu(n):Ss(n).O_()&&tu(n,t))}function Zc(e,t){const n=pt(e),r=Ss(n);n.Ia.delete(t),r.O_()&&Rg(n,t),n.Ia.size===0&&(r.O_()?r.L_():qr(n)&&n.Ra.set("Unknown"))}function tu(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ft.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ss(e).Y_(t)}function Rg(e,t){e.Va.Ue(t),Ss(e).Z_(t)}function eu(e){e.Va=new iw({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Ss(e).start(),e.Ra.ua()}function nu(e){return qr(e)&&!Ss(e).x_()&&e.Ia.size>0}function qr(e){return pt(e).Ea.size===0}function Sg(e){e.Va=void 0}async function fT(e){e.Ra.set("Online")}async function dT(e){e.Ia.forEach(((t,n)=>{tu(e,t)}))}async function pT(e,t){Sg(e),nu(e)?(e.Ra.ha(t),eu(e)):e.Ra.set("Unknown")}async function mT(e,t,n){if(e.Ra.set("Online"),t instanceof hg&&t.state===2&&t.cause)try{await(async function(s,i){const o=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.Ia.delete(l),s.Va.removeTarget(l))})(e,t)}catch(r){tt(Br,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await ta(e,r)}else if(t instanceof Do?e.Va.Ze(t):t instanceof ug?e.Va.st(t):e.Va.tt(t),!n.isEqual(ft.min()))try{const r=await bg(e.localStore);n.compareTo(r)>=0&&await(function(i,o){const l=i.Va.Tt(o);return l.targetChanges.forEach(((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ia.get(u);h&&i.Ia.set(u,h.withResumeToken(c.resumeToken,o))}})),l.targetMismatches.forEach(((c,u)=>{const h=i.Ia.get(c);if(!h)return;i.Ia.set(c,h.withResumeToken(ve.EMPTY_BYTE_STRING,h.snapshotVersion)),Rg(i,c);const d=new Yn(h.target,c,u,h.sequenceNumber);tu(i,d)})),i.remoteSyncer.applyRemoteEvent(l)})(e,n)}catch(r){tt(Br,"Failed to raise snapshot:",r),await ta(e,r)}}async function ta(e,t,n){if(!Is(t))throw t;e.Ea.add(1),await Ki(e),e.Ra.set("Offline"),n||(n=()=>bg(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{tt(Br,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Ca(e)}))}function Cg(e,t){return t().catch((n=>ta(e,n,t)))}async function xa(e){const t=pt(e),n=dr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Uc;for(;gT(t);)try{const s=await Yw(t.localStore,r);if(s===null){t.Ta.length===0&&n.L_();break}r=s.batchId,_T(t,s)}catch(s){await ta(t,s)}xg(t)&&Pg(t)}function gT(e){return qr(e)&&e.Ta.length<10}function _T(e,t){e.Ta.push(t);const n=dr(e);n.O_()&&n.X_&&n.ea(t.mutations)}function xg(e){return qr(e)&&!dr(e).x_()&&e.Ta.length>0}function Pg(e){dr(e).start()}async function yT(e){dr(e).ra()}async function vT(e){const t=dr(e);for(const n of e.Ta)t.ea(n.mutations)}async function ET(e,t,n){const r=e.Ta.shift(),s=Hc.from(r,t,n);await Cg(e,(()=>e.remoteSyncer.applySuccessfulWrite(s))),await xa(e)}async function wT(e,t){t&&dr(e).X_&&await(async function(r,s){if((function(o){return lg(o)&&o!==N.ABORTED})(s.code)){const i=r.Ta.shift();dr(r).B_(),await Cg(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await xa(r)}})(e,t),xg(e)&&Pg(e)}async function td(e,t){const n=pt(e);n.asyncQueue.verifyOperationInProgress(),tt(Br,"RemoteStore received new credentials");const r=qr(n);n.Ea.add(3),await Ki(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Ca(n)}async function TT(e,t){const n=pt(e);t?(n.Ea.delete(2),await Ca(n)):t||(n.Ea.add(2),await Ki(n),n.Ra.set("Unknown"))}function Ss(e){return e.ma||(e.ma=(function(n,r,s){const i=pt(n);return i.sa(),new oT(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(e.datastore,e.asyncQueue,{Xo:fT.bind(null,e),t_:dT.bind(null,e),r_:pT.bind(null,e),H_:mT.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),nu(e)?eu(e):e.Ra.set("Unknown")):(await e.ma.stop(),Sg(e))}))),e.ma}function dr(e){return e.fa||(e.fa=(function(n,r,s){const i=pt(n);return i.sa(),new aT(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:yT.bind(null,e),r_:wT.bind(null,e),ta:vT.bind(null,e),na:ET.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await xa(e)):(await e.fa.stop(),e.Ta.length>0&&(tt(Br,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}class ru{constructor(t,n,r,s,i){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new yn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,s,i){const o=Date.now()+r,l=new ru(t,n,o,s,i);return l.start(r),l}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(N.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function su(e,t){if(Mn("AsyncQueue",`${t}: ${e}`),Is(e))return new W(N.UNAVAILABLE,`${t}: ${e}`);throw e}class hs{static emptySet(t){return new hs(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||st.comparator(n.key,r.key):(n,r)=>st.comparator(n.key,r.key),this.keyedMap=Zs(),this.sortedSet=new zt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof hs)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new hs;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}class ed{constructor(){this.ga=new zt(st.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):lt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class vs{constructor(t,n,r,s,i,o,l,c,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,s,i){const o=[];return n.forEach((l=>{o.push({type:0,doc:l})})),new vs(t,n,hs.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&wa(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}class bT{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class AT{constructor(){this.queries=nd(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=pt(n),i=s.queries;s.queries=nd(),i.forEach(((o,l)=>{for(const c of l.Sa)c.onError(r)}))})(this,new W(N.ABORTED,"Firestore shutting down"))}}function nd(){return new zr((e=>Qm(e)),wa)}async function iu(e,t){const n=pt(e);let r=3;const s=t.query;let i=n.queries.get(s);i?!i.ba()&&t.Da()&&(r=2):(i=new bT,r=t.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=su(o,`Initialization of query '${Zr(t.query)}' failed`);return void t.onError(l)}n.queries.set(s,i),i.Sa.push(t),t.va(n.onlineState),i.wa&&t.Fa(i.wa)&&au(n)}async function ou(e,t){const n=pt(e),r=t.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(t);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=t.Da()?0:1:!i.ba()&&t.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function IT(e,t){const n=pt(e);let r=!1;for(const s of t){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.Sa)l.Fa(s)&&(r=!0);o.wa=s}}r&&au(n)}function RT(e,t,n){const r=pt(e),s=r.queries.get(t);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(t)}function au(e){e.Ca.forEach((t=>{t.next()}))}var sc,rd;(rd=sc||(sc={})).Ma="default",rd.Cache="cache";class lu{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const s of t.docChanges)s.type!==3&&r.push(s);t=new vs(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=vs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==sc.Cache}}class Vg{constructor(t){this.key=t}}class Dg{constructor(t){this.key=t}}class ST{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Et(),this.mutatedKeys=Et(),this.eu=Xm(t),this.tu=new hs(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new ed,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(((h,d)=>{const m=s.get(h),g=Ta(this.query,d)?d:null,C=!!m&&this.mutatedKeys.has(m.key),x=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let D=!1;m&&g?m.data.isEqual(g.data)?C!==x&&(r.track({type:3,doc:g}),D=!0):this.su(m,g)||(r.track({type:2,doc:g}),D=!0,(c&&this.eu(g,c)>0||u&&this.eu(g,u)<0)&&(l=!0)):!m&&g?(r.track({type:0,doc:g}),D=!0):m&&!g&&(r.track({type:1,doc:m}),D=!0,(c||u)&&(l=!0)),D&&(g?(o=o.add(g),i=x?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:l,mutatedKeys:i}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,s){const i=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const o=t.iu.ya();o.sort(((h,d)=>(function(g,C){const x=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lt(20277,{Rt:D})}};return x(g)-x(C)})(h.type,d.type)||this.eu(h.doc,d.doc))),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,u=c!==this.Za;return this.Za=c,o.length!==0||u?{snapshot:new vs(this.query,t.tu,i,o,t.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ed,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Et(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return t.forEach((r=>{this.Xa.has(r)||n.push(new Dg(r))})),this.Xa.forEach((r=>{t.has(r)||n.push(new Vg(r))})),n}cu(t){this.Ya=t.Qs,this.Xa=Et();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return vs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const cu="SyncEngine";class CT{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class xT{constructor(t){this.key=t,this.hu=!1}}class PT{constructor(t,n,r,s,i,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new zr((l=>Qm(l)),wa),this.Iu=new Map,this.Eu=new Set,this.du=new zt(st.comparator),this.Au=new Map,this.Ru=new Wc,this.Vu={},this.mu=new Map,this.fu=ys.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function VT(e,t,n=!0){const r=Fg(e);let s;const i=r.Tu.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await kg(r,t,n,!0),s}async function DT(e,t){const n=Fg(e);await kg(n,t,!0,!1)}async function kg(e,t,n,r){const s=await Jw(e.localStore,vn(t)),i=s.targetId,o=e.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await kT(e,t,i,o==="current",s.resumeToken)),e.isPrimaryClient&&n&&Ig(e.remoteStore,s),l}async function kT(e,t,n,r,s){e.pu=(d,m,g)=>(async function(x,D,U,$){let j=D.view.ru(U);j.Cs&&(j=await Qf(x.localStore,D.query,!1).then((({documents:R})=>D.view.ru(R,j))));const q=$&&$.targetChanges.get(D.targetId),nt=$&&$.targetMismatches.get(D.targetId)!=null,rt=D.view.applyChanges(j,x.isPrimaryClient,q,nt);return id(x,D.targetId,rt.au),rt.snapshot})(e,d,m,g);const i=await Qf(e.localStore,t,!0),o=new ST(t,i.Qs),l=o.ru(i.documents),c=Gi.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",s),u=o.applyChanges(l,e.isPrimaryClient,c);id(e,n,u.au);const h=new CT(t,n,o);return e.Tu.set(t,h),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),u.snapshot}async function NT(e,t,n){const r=pt(e),s=r.Tu.get(t),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((o=>!wa(o,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await nc(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Zc(r.remoteStore,s.targetId),ic(r,s.targetId)})).catch(As)):(ic(r,s.targetId),await nc(r.localStore,s.targetId,!0))}async function OT(e,t){const n=pt(e),r=n.Tu.get(t),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Zc(n.remoteStore,r.targetId))}async function MT(e,t,n){const r=zT(e);try{const s=await(function(o,l){const c=pt(o),u=$t.now(),h=l.reduce(((g,C)=>g.add(C.key)),Et());let d,m;return c.persistence.runTransaction("Locally write mutations","readwrite",(g=>{let C=Ln(),x=Et();return c.Ns.getEntries(g,h).next((D=>{C=D,C.forEach(((U,$)=>{$.isValidDocument()||(x=x.add(U))}))})).next((()=>c.localDocuments.getOverlayedDocuments(g,C))).next((D=>{d=D;const U=[];for(const $ of l){const j=ZE($,d.get($.key).overlayedDocument);j!=null&&U.push(new yr($.key,j,$m(j.value.mapValue),ye.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,U,l)})).next((D=>{m=D;const U=D.applyToLocalDocumentSet(d,x);return c.documentOverlayCache.saveOverlays(g,D.batchId,U)}))})).then((()=>({batchId:m.batchId,changes:Jm(d)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(s.batchId),(function(o,l,c){let u=o.Vu[o.currentUser.toKey()];u||(u=new zt(vt)),u=u.insert(l,c),o.Vu[o.currentUser.toKey()]=u})(r,s.batchId,n),await Wi(r,s.changes),await xa(r.remoteStore)}catch(s){const i=su(s,"Failed to persist write");n.reject(i)}}async function Ng(e,t){const n=pt(e);try{const r=await Qw(n.localStore,t);t.targetChanges.forEach(((s,i)=>{const o=n.Au.get(i);o&&(It(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?It(o.hu,14607):s.removedDocuments.size>0&&(It(o.hu,42227),o.hu=!1))})),await Wi(n,r,t)}catch(r){await As(r)}}function sd(e,t,n){const r=pt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,o)=>{const l=o.view.va(t);l.snapshot&&s.push(l.snapshot)})),(function(o,l){const c=pt(o);c.onlineState=l;let u=!1;c.queries.forEach(((h,d)=>{for(const m of d.Sa)m.va(l)&&(u=!0)})),u&&au(c)})(r.eventManager,t),s.length&&r.Pu.H_(s),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function LT(e,t,n){const r=pt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Au.get(t),i=s&&s.key;if(i){let o=new zt(st.comparator);o=o.insert(i,le.newNoDocument(i,ft.min()));const l=Et().add(i),c=new Ra(ft.min(),new Map,new zt(vt),o,l);await Ng(r,c),r.du=r.du.remove(i),r.Au.delete(t),uu(r)}else await nc(r.localStore,t,!1).then((()=>ic(r,t,n))).catch(As)}async function FT(e,t){const n=pt(e),r=t.batch.batchId;try{const s=await Ww(n.localStore,t);Mg(n,r,null),Og(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Wi(n,s)}catch(s){await As(s)}}async function UT(e,t,n){const r=pt(e);try{const s=await(function(o,l){const c=pt(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",(u=>{let h;return c.mutationQueue.lookupMutationBatch(u,l).next((d=>(It(d!==null,37113),h=d.keys(),c.mutationQueue.removeMutationBatch(u,d)))).next((()=>c.mutationQueue.performConsistencyCheck(u))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h))).next((()=>c.localDocuments.getDocuments(u,h)))}))})(r.localStore,t);Mg(r,t,n),Og(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Wi(r,s)}catch(s){await As(s)}}function Og(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function Mg(e,t,n){const r=pt(e);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(t);i&&(n?i.reject(n):i.resolve(),s=s.remove(t)),r.Vu[r.currentUser.toKey()]=s}}function ic(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((r=>{e.Ru.containsKey(r)||Lg(e,r)}))}function Lg(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(Zc(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),uu(e))}function id(e,t,n){for(const r of n)r instanceof Vg?(e.Ru.addReference(r.key,t),BT(e,r)):r instanceof Dg?(tt(cu,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||Lg(e,r.key)):lt(19791,{wu:r})}function BT(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(tt(cu,"New document in limbo: "+n),e.Eu.add(r),uu(e))}function uu(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new st(Nt.fromString(t)),r=e.fu.next();e.Au.set(r,new xT(n)),e.du=e.du.insert(n,r),Ig(e.remoteStore,new Yn(vn(Ea(n.path)),r,"TargetPurposeLimboResolution",ya.ce))}}async function Wi(e,t,n){const r=pt(e),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,c)=>{o.push(r.pu(c,t,n).then((u=>{if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:n?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(u){s.push(u);const h=Xc.As(c.targetId,u);i.push(h)}})))})),await Promise.all(o),r.Pu.H_(s),await(async function(c,u){const h=pt(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(d=>F.forEach(u,(m=>F.forEach(m.Es,(g=>h.persistence.referenceDelegate.addReference(d,m.targetId,g))).next((()=>F.forEach(m.ds,(g=>h.persistence.referenceDelegate.removeReference(d,m.targetId,g)))))))))}catch(d){if(!Is(d))throw d;tt(Yc,"Failed to update sequence numbers: "+d)}for(const d of u){const m=d.targetId;if(!d.fromCache){const g=h.Ms.get(m),C=g.snapshotVersion,x=g.withLastLimboFreeSnapshotVersion(C);h.Ms=h.Ms.insert(m,x)}}})(r.localStore,i))}async function $T(e,t){const n=pt(e);if(!n.currentUser.isEqual(t)){tt(cu,"User change. New user:",t.toKey());const r=await Tg(n.localStore,t);n.currentUser=t,(function(i,o){i.mu.forEach((l=>{l.forEach((c=>{c.reject(new W(N.CANCELLED,o))}))})),i.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Wi(n,r.Ls)}}function jT(e,t){const n=pt(e),r=n.Au.get(t);if(r&&r.hu)return Et().add(r.key);{let s=Et();const i=n.Iu.get(t);if(!i)return s;for(const o of i){const l=n.Tu.get(o);s=s.unionWith(l.view.nu)}return s}}function Fg(e){const t=pt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ng.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=jT.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=LT.bind(null,t),t.Pu.H_=IT.bind(null,t.eventManager),t.Pu.yu=RT.bind(null,t.eventManager),t}function zT(e){const t=pt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=FT.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=UT.bind(null,t),t}class ea{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Sa(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return Kw(this.persistence,new qw,t.initialUser,this.serializer)}Cu(t){return new wg(Qc.mi,this.serializer)}Du(t){return new tT}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ea.provider={build:()=>new ea};class qT extends ea{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){It(this.persistence.referenceDelegate instanceof Zo,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new xw(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?je.withCacheSize(this.cacheSizeBytes):je.DEFAULT;return new wg((r=>Zo.mi(r,n)),this.serializer)}}class oc{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sd(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$T.bind(null,this.syncEngine),await TT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new AT})()}createDatastore(t){const n=Sa(t.databaseInfo.databaseId),r=(function(i){return new iT(i)})(t.databaseInfo);return(function(i,o,l,c){return new cT(i,o,l,c)})(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,s,i,o,l){return new hT(r,s,i,o,l)})(this.localStore,this.datastore,t.asyncQueue,(n=>sd(this.syncEngine,n,0)),(function(){return Jf.v()?new Jf:new eT})())}createSyncEngine(t,n){return(function(s,i,o,l,c,u,h){const d=new PT(s,i,o,l,c,u);return h&&(d.gu=!0),d})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=pt(n);tt(Br,"RemoteStore shutting down."),r.Ea.add(5),await Ki(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}oc.provider={build:()=>new oc};class hu{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Mn("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}class HT{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new W(N.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(s,i){const o=pt(s),l={documents:i.map((d=>Jo(o.serializer,d)))},c=await o.Ho("BatchGetDocuments",o.serializer.databaseId,Nt.emptyPath(),l,i.length),u=new Map;c.forEach((d=>{const m=fw(o.serializer,d);u.set(m.key.toString(),m)}));const h=[];return i.forEach((d=>{const m=u.get(d.toString());It(!!m,55234,{key:d}),h.push(m)})),h})(this.datastore,t);return n.forEach((r=>this.recordVersion(r))),n}set(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new Ia(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((n=>{t.delete(n.key.toString())})),t.forEach(((n,r)=>{const s=st.fromPath(r);this.mutations.push(new ag(s,this.precondition(s)))})),await(async function(r,s){const i=pt(r),o={writes:s.map((l=>gg(i.serializer,l)))};await i.Go("Commit",i.serializer.databaseId,Nt.emptyPath(),o)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw lt(50498,{Gu:t.constructor.name});n=ft.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new W(N.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)}precondition(t){const n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?n.isEqual(ft.min())?ye.exists(!1):ye.updateTime(n):ye.none()}preconditionForUpdate(t){const n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(ft.min()))throw new W(N.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ye.updateTime(n)}return ye.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class GT{constructor(t,n,r,s,i){this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=s,this.deferred=i,this.zu=r.maxAttempts,this.M_=new Jc(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const t=new HT(this.datastore),n=this.Hu(t);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(r)})).catch((s=>{this.Yu(s)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(t){try{const n=this.updateFunction(t);return!qi(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(t){this.zu>0&&this.Zu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(t)}Zu(t){if(t?.name==="FirebaseError"){const n=t.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!lg(n)}return!1}}const pr="FirestoreClient";class KT{constructor(t,n,r,s,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ae.UNAUTHENTICATED,this.clientId=Fc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async o=>{tt(pr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(tt(pr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new yn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=su(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function yl(e,t){e.asyncQueue.verifyOperationInProgress(),tt(pr,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async s=>{r.isEqual(s)||(await Tg(t.localStore,s),r=s)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function od(e,t){e.asyncQueue.verifyOperationInProgress();const n=await WT(e);tt(pr,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((r=>td(t.remoteStore,r))),e.setAppCheckTokenChangeListener(((r,s)=>td(t.remoteStore,s))),e._onlineComponents=t}async function WT(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){tt(pr,"Using user provided OfflineComponentProvider");try{await yl(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(s){return s.name==="FirebaseError"?s.code===N.FAILED_PRECONDITION||s.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;ps("Error using user provided cache. Falling back to memory cache: "+n),await yl(e,new ea)}}else tt(pr,"Using default OfflineComponentProvider"),await yl(e,new qT(void 0));return e._offlineComponents}async function fu(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(tt(pr,"Using user provided OnlineComponentProvider"),await od(e,e._uninitializedComponentsProvider._online)):(tt(pr,"Using default OnlineComponentProvider"),await od(e,new oc))),e._onlineComponents}function QT(e){return fu(e).then((t=>t.syncEngine))}function XT(e){return fu(e).then((t=>t.datastore))}async function na(e){const t=await fu(e),n=t.eventManager;return n.onListen=VT.bind(null,t.syncEngine),n.onUnlisten=NT.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=DT.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=OT.bind(null,t.syncEngine),n}function YT(e,t,n={}){const r=new yn;return e.asyncQueue.enqueueAndForget((async()=>(function(i,o,l,c,u){const h=new hu({next:m=>{h.Nu(),o.enqueueAndForget((()=>ou(i,d)));const g=m.docs.has(l);!g&&m.fromCache?u.reject(new W(N.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&c&&c.source==="server"?u.reject(new W(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),d=new lu(Ea(l.path),h,{includeMetadataChanges:!0,qa:!0});return iu(i,d)})(await na(e),e.asyncQueue,t,n,r))),r.promise}function JT(e,t,n={}){const r=new yn;return e.asyncQueue.enqueueAndForget((async()=>(function(i,o,l,c,u){const h=new hu({next:m=>{h.Nu(),o.enqueueAndForget((()=>ou(i,d))),m.fromCache&&c.source==="server"?u.reject(new W(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),d=new lu(l,h,{includeMetadataChanges:!0,qa:!0});return iu(i,d)})(await na(e),e.asyncQueue,t,n,r))),r.promise}function Ug(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const ad=new Map;const Bg="firestore.googleapis.com",ld=!0;class cd{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new W(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Bg,this.ssl=ld}else this.host=t.host,this.ssl=t.ssl??ld;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Eg;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Sw)throw new W(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}fE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ug(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new W(N.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new W(N.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new W(N.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Pa{constructor(t,n,r,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cd({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new W(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cd(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new nE;switch(r.type){case"firstParty":return new oE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=ad.get(n);r&&(tt("ComponentProvider","Removing Datastore"),ad.delete(n),r.terminate())})(this),Promise.resolve()}}function ZT(e,t,n,r={}){e=Ze(e,Pa);const s=ji(t),i=e._getSettings(),o={...i,emulatorOptions:e._getEmulatorOptions()},l=`${t}:${n}`;s&&(lm(`https://${l}`),um("Firestore",!0)),i.host!==Bg&&i.host!==l&&ps("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:l,ssl:s,emulatorOptions:r};if(!qo(c,o)&&(e._setSettings(c),r.mockUserToken)){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=Ae.MOCK_USER;else{u=cm(r.mockUserToken,e._app?.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new W(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ae(d)}e._authCredentials=new rE(new xm(u,h))}}class vr{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new vr(this.firestore,t,this._query)}}class Gt{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Gt(this.firestore,t,this._key)}toJSON(){return{type:Gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(zi(n,Gt._jsonSchema))return new Gt(t,r||null,new st(Nt.fromString(n.referencePath)))}}Gt._jsonSchemaVersion="firestore/documentReference/1.0",Gt._jsonSchema={type:te("string",Gt._jsonSchemaVersion),referencePath:te("string")};class sr extends vr{constructor(t,n,r){super(t,n,Ea(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Gt(this.firestore,null,new st(t))}withConverter(t){return new sr(this.firestore,t,this._path)}}function Vn(e,t,...n){if(e=xe(e),Pm("collection","path",t),e instanceof Pa){const r=Nt.fromString(t,...n);return Tf(r),new sr(e,null,r)}{if(!(e instanceof Gt||e instanceof sr))throw new W(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Nt.fromString(t,...n));return Tf(r),new sr(e.firestore,null,r)}}function rn(e,t,...n){if(e=xe(e),arguments.length===1&&(t=Fc.newId()),Pm("doc","path",t),e instanceof Pa){const r=Nt.fromString(t,...n);return wf(r),new Gt(e,null,new st(r))}{if(!(e instanceof Gt||e instanceof sr))throw new W(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Nt.fromString(t,...n));return wf(r),new Gt(e.firestore,e instanceof sr?e.converter:null,new st(r))}}const ud="AsyncQueue";class hd{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Jc(this,"async_queue_retry"),this._c=()=>{const r=_l();r&&tt(ud,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=_l();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=_l();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new yn;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Is(t))throw t;tt(ud,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Mn("INTERNAL UNHANDLED ERROR: ",fd(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const s=ru.createAndSchedule(this,t,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&lt(47125,{Pc:fd(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function fd(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}function dd(e){return(function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1})(e,["next","error","complete"])}class mr extends Pa{constructor(t,n,r,s){super(t,n,r,s),this.type="firestore",this._queue=new hd,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new hd(t),this._firestoreClient=void 0,await t}}}function tb(e,t){const n=typeof e=="object"?e:vm(),r=typeof e=="string"?e:Ko,s=mm(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=om("firestore");i&&ZT(s,...i)}return s}function Cs(e){if(e._terminated)throw new W(N.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||eb(e),e._firestoreClient}function eb(e){const t=e._freezeSettings(),n=(function(s,i,o,l){return new bE(s,i,o,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,Ug(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new KT(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(s){const i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}})(e._componentsProvider))}class Ke{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ke(ve.fromBase64String(t))}catch(n){throw new W(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ke(ve.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ke._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(zi(t,Ke._jsonSchema))return Ke.fromBase64String(t.bytes)}}Ke._jsonSchemaVersion="firestore/bytes/1.0",Ke._jsonSchema={type:te("string",Ke._jsonSchemaVersion),bytes:te("string")};class Qi{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new W(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _e(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Va{constructor(t){this._methodName=t}}class En{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new W(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new W(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return vt(this._lat,t._lat)||vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:En._jsonSchemaVersion}}static fromJSON(t){if(zi(t,En._jsonSchema))return new En(t.latitude,t.longitude)}}En._jsonSchemaVersion="firestore/geoPoint/1.0",En._jsonSchema={type:te("string",En._jsonSchemaVersion),latitude:te("number"),longitude:te("number")};class wn{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,t._values)}toJSON(){return{type:wn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(zi(t,wn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new wn(t.vectorValues);throw new W(N.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wn._jsonSchemaVersion="firestore/vectorValue/1.0",wn._jsonSchema={type:te("string",wn._jsonSchemaVersion),vectorValues:te("object")};const nb=/^__.*__$/;class rb{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new yr(t,this.data,this.fieldMask,n,this.fieldTransforms):new Hi(t,this.data,n,this.fieldTransforms)}}class $g{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new yr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function jg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lt(40011,{Ac:e})}}class du{constructor(t,n,r,s,i,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new du({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ra(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(jg(this.Ac)&&nb.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class sb{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Sa(t)}Cc(t,n,r,s=!1){return new du({Ac:t,methodName:n,Dc:r,path:_e.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Da(e){const t=e._freezeSettings(),n=Sa(e._databaseId);return new sb(e._databaseId,!!t.ignoreUndefinedProperties,n)}function pu(e,t,n,r,s,i={}){const o=e.Cc(i.merge||i.mergeFields?2:0,t,n,s);gu("Data must be an object, but it was:",o,r);const l=Hg(r,o);let c,u;if(i.merge)c=new Qe(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const d of i.mergeFields){const m=ac(t,d,n);if(!o.contains(m))throw new W(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);Kg(h,m)||h.push(m)}c=new Qe(h),u=o.fieldTransforms.filter((d=>c.covers(d.field)))}else c=null,u=o.fieldTransforms;return new rb(new Fe(l),c,u)}class ka extends Va{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ka}}class mu extends Va{_toFieldTransform(t){return new QE(t.path,new Oi)}isEqual(t){return t instanceof mu}}function zg(e,t,n,r){const s=e.Cc(1,t,n);gu("Data must be an object, but it was:",s,r);const i=[],o=Fe.empty();_r(r,((c,u)=>{const h=_u(t,c,n);u=xe(u);const d=s.yc(h);if(u instanceof ka)i.push(h);else{const m=Xi(u,d);m!=null&&(i.push(h),o.set(h,m))}}));const l=new Qe(i);return new $g(o,l,s.fieldTransforms)}function qg(e,t,n,r,s,i){const o=e.Cc(1,t,n),l=[ac(t,r,n)],c=[s];if(i.length%2!=0)throw new W(N.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)l.push(ac(t,i[m])),c.push(i[m+1]);const u=[],h=Fe.empty();for(let m=l.length-1;m>=0;--m)if(!Kg(u,l[m])){const g=l[m];let C=c[m];C=xe(C);const x=o.yc(g);if(C instanceof ka)u.push(g);else{const D=Xi(C,x);D!=null&&(u.push(g),h.set(g,D))}}const d=new Qe(u);return new $g(h,d,o.fieldTransforms)}function ib(e,t,n,r=!1){return Xi(n,e.Cc(r?4:3,t))}function Xi(e,t){if(Gg(e=xe(e)))return gu("Unsupported field value:",t,e),Hg(e,t);if(e instanceof Va)return(function(r,s){if(!jg(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,s){const i=[];let o=0;for(const l of r){let c=Xi(l,s.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}})(e,t)}return(function(r,s){if((r=xe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return GE(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=$t.fromDate(r);return{timestampValue:Yo(s.serializer,i)}}if(r instanceof $t){const i=new $t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yo(s.serializer,i)}}if(r instanceof En)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ke)return{bytesValue:fg(s.serializer,r._byteString)};if(r instanceof Gt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Kc(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof wn)return(function(o,l){return{mapValue:{fields:{[Um]:{stringValue:Bm},[Wo]:{arrayValue:{values:o.toArray().map((u=>{if(typeof u!="number")throw l.Sc("VectorValues must only contain numeric values.");return qc(l.serializer,u)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${_a(r)}`)})(e,t)}function Hg(e,t){const n={};return km(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_r(e,((r,s)=>{const i=Xi(s,t.mc(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function Gg(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof $t||e instanceof En||e instanceof Ke||e instanceof Gt||e instanceof Va||e instanceof wn)}function gu(e,t,n){if(!Gg(n)||!Vm(n)){const r=_a(n);throw r==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function ac(e,t,n){if((t=xe(t))instanceof Qi)return t._internalPath;if(typeof t=="string")return _u(e,t);throw ra("Field path arguments must be of type string or ",e,!1,void 0,n)}const ob=new RegExp("[~\\*/\\[\\]]");function _u(e,t,n){if(t.search(ob)>=0)throw ra(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Qi(...t.split("."))._internalPath}catch{throw ra(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function ra(e,t,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${t}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new W(N.INVALID_ARGUMENT,l+e+c)}function Kg(e,t){return e.some((n=>n.isEqual(t)))}class sa{constructor(t,n,r,s,i){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new ab(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Na("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ab extends sa{data(){return super.data()}}function Na(e,t){return typeof t=="string"?_u(e,t):t instanceof Qi?t._internalPath:t._delegate._internalPath}function Wg(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new W(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yu{}class Qg extends yu{}function fs(e,t,...n){let r=[];t instanceof yu&&r.push(t),r=r.concat(n),(function(i){const o=i.filter((c=>c instanceof vu)).length,l=i.filter((c=>c instanceof Oa)).length;if(o>1||o>0&&l>0)throw new W(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)e=s._apply(e);return e}class Oa extends Qg{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Oa(t,n,r)}_apply(t){const n=this._parse(t);return Xg(t._query,n),new vr(t.firestore,t.converter,Yl(t._query,n))}_parse(t){const n=Da(t.firestore);return(function(i,o,l,c,u,h,d){let m;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new W(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){md(d,h);const C=[];for(const x of d)C.push(pd(c,i,x));m={arrayValue:{values:C}}}else m=pd(c,i,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||md(d,h),m=ib(l,o,d,h==="in"||h==="not-in");return Zt.create(u,h,m)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function mi(e,t,n){const r=t,s=Na("where",e);return Oa._create(s,r,n)}class vu extends yu{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new vu(t,n)}_parse(t){const n=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:an.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(s,i){let o=s;const l=i.getFlattenedFilters();for(const c of l)Xg(o,c),o=Yl(o,c)})(t._query,n),new vr(t.firestore,t.converter,Yl(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Eu extends Qg{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Eu(t,n)}_apply(t){const n=(function(s,i,o){if(s.startAt!==null)throw new W(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new W(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ni(i,o)})(t._query,this._field,this._direction);return new vr(t.firestore,t.converter,(function(s,i){const o=s.explicitOrderBy.concat([i]);return new Rs(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(t._query,n))}}function lb(e,t="asc"){const n=t,r=Na("orderBy",e);return Eu._create(r,n)}function pd(e,t,n){if(typeof(n=xe(n))=="string"){if(n==="")throw new W(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wm(t)&&n.indexOf("/")!==-1)throw new W(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Nt.fromString(n));if(!st.isDocumentKey(r))throw new W(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Pf(e,new st(r))}if(n instanceof Gt)return Pf(e,n._key);throw new W(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_a(n)}.`)}function md(e,t){if(!Array.isArray(e)||e.length===0)throw new W(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Xg(e,t){const n=(function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null})(e.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new W(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new W(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Yg{convertValue(t,n="none"){switch(fr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Qt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(hr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw lt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return _r(t,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(t){const n=t.fields?.[Wo].arrayValue?.values?.map((r=>Qt(r.doubleValue)));return new wn(n)}convertGeoPoint(t){return new En(Qt(t.latitude),Qt(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=va(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vi(t));default:return null}}convertTimestamp(t){const n=ur(t);return new $t(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Nt.fromString(t);It(vg(r),9688,{name:t});const s=new Di(r.get(1),r.get(3)),i=new st(r.popFirst(5));return s.isEqual(n)||Mn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}function wu(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class cb extends Yg{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ke(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Gt(this.firestore,null,n)}}class rs{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ir extends sa{constructor(t,n,r,s,i,o){super(t,n,r,s,o),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new ko(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Na("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new W(N.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ir._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ir._jsonSchemaVersion="firestore/documentSnapshot/1.0",ir._jsonSchema={type:te("string",ir._jsonSchemaVersion),bundleSource:te("string","DocumentSnapshot"),bundleName:te("string"),bundle:te("string")};class ko extends ir{data(t={}){return super.data(t)}}class Mr{constructor(t,n,r,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new rs(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new ko(this._firestore,this._userDataWriter,r.key,r,new rs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new W(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map((l=>{const c=new ko(s._firestore,s._userDataWriter,l.doc.key,l.doc,new rs(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}}))}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((l=>i||l.type!==3)).map((l=>{const c=new ko(s._firestore,s._userDataWriter,l.doc.key,l.doc,new rs(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:ub(l.type),doc:c,oldIndex:u,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new W(N.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Mr._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Fc.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function ub(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lt(61501,{type:e})}}function Fi(e){e=Ze(e,Gt);const t=Ze(e.firestore,mr);return YT(Cs(t),e._key).then((n=>t_(t,e,n)))}Mr._jsonSchemaVersion="firestore/querySnapshot/1.0",Mr._jsonSchema={type:te("string",Mr._jsonSchemaVersion),bundleSource:te("string","QuerySnapshot"),bundleName:te("string"),bundle:te("string")};class Ma extends Yg{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ke(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Gt(this.firestore,null,n)}}function gi(e){e=Ze(e,vr);const t=Ze(e.firestore,mr),n=Cs(t),r=new Ma(t);return Wg(e._query),JT(n,e._query).then((s=>new Mr(t,r,e,s)))}function Jg(e,t,n){e=Ze(e,Gt);const r=Ze(e.firestore,mr),s=wu(e.converter,t,n);return Zg(r,[pu(Da(r),"setDoc",e._key,s,e.converter!==null,n).toMutation(e._key,ye.none())])}function hb(e,...t){e=xe(e);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||dd(t[r])||(n=t[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(dd(t[r])){const c=t[r];t[r]=c.next?.bind(c),t[r+1]=c.error?.bind(c),t[r+2]=c.complete?.bind(c)}let i,o,l;if(e instanceof Gt)o=Ze(e.firestore,mr),l=Ea(e._key.path),i={next:c=>{t[r]&&t[r](t_(o,e,c))},error:t[r+1],complete:t[r+2]};else{const c=Ze(e,vr);o=Ze(c.firestore,mr),l=c._query;const u=new Ma(o);i={next:h=>{t[r]&&t[r](new Mr(o,u,c,h))},error:t[r+1],complete:t[r+2]},Wg(e._query)}return(function(u,h,d,m){const g=new hu(m),C=new lu(h,g,d);return u.asyncQueue.enqueueAndForget((async()=>iu(await na(u),C))),()=>{g.Nu(),u.asyncQueue.enqueueAndForget((async()=>ou(await na(u),C)))}})(Cs(o),l,s,i)}function Zg(e,t){return(function(r,s){const i=new yn;return r.asyncQueue.enqueueAndForget((async()=>MT(await QT(r),s,i))),i.promise})(Cs(e),t)}function t_(e,t,n){const r=n.docs.get(t._key),s=new Ma(e);return new ir(e,s,t._key,r,new rs(n.hasPendingWrites,n.fromCache),t.converter)}const fb={maxAttempts:5};class db{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Da(t)}set(t,n,r){this._verifyNotCommitted();const s=Jn(t,this._firestore),i=wu(s.converter,n,r),o=pu(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(o.toMutation(s._key,ye.none())),this}update(t,n,r,...s){this._verifyNotCommitted();const i=Jn(t,this._firestore);let o;return o=typeof(n=xe(n))=="string"||n instanceof Qi?qg(this._dataReader,"WriteBatch.update",i._key,n,r,s):zg(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(o.toMutation(i._key,ye.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=Jn(t,this._firestore);return this._mutations=this._mutations.concat(new Ia(n._key,ye.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new W(N.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Jn(e,t){if((e=xe(e)).firestore!==t)throw new W(N.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class pb{constructor(t,n){this._firestore=t,this._transaction=n,this._dataReader=Da(t)}get(t){const n=Jn(t,this._firestore),r=new cb(this._firestore);return this._transaction.lookup([n._key]).then((s=>{if(!s||s.length!==1)return lt(24041);const i=s[0];if(i.isFoundDocument())return new sa(this._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new sa(this._firestore,r,n._key,null,n.converter);throw lt(18433,{doc:i})}))}set(t,n,r){const s=Jn(t,this._firestore),i=wu(s.converter,n,r),o=pu(this._dataReader,"Transaction.set",s._key,i,s.converter!==null,r);return this._transaction.set(s._key,o),this}update(t,n,r,...s){const i=Jn(t,this._firestore);let o;return o=typeof(n=xe(n))=="string"||n instanceof Qi?qg(this._dataReader,"Transaction.update",i._key,n,r,s):zg(this._dataReader,"Transaction.update",i._key,n),this._transaction.update(i._key,o),this}delete(t){const n=Jn(t,this._firestore);return this._transaction.delete(n._key),this}}class mb extends pb{constructor(t,n){super(t,n),this._firestore=t}get(t){const n=Jn(t,this._firestore),r=new Ma(this._firestore);return super.get(t).then((s=>new ir(this._firestore,r,n._key,s._document,new rs(!1,!1),n.converter)))}}function gb(e,t,n){e=Ze(e,mr);const r={...fb,...n};return(function(i){if(i.maxAttempts<1)throw new W(N.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(i,o,l){const c=new yn;return i.asyncQueue.enqueueAndForget((async()=>{const u=await XT(i);new GT(i.asyncQueue,u,l,o,c).ju()})),c.promise})(Cs(e),(s=>t(new mb(e,s))),r)}function kr(){return new mu("serverTimestamp")}function gd(e){return Cs(e=Ze(e,mr)),new db(e,(t=>Zg(e,t)))}(function(t,n=!0){(function(s){bs=s})(_m),Ci(new ds("firestore",((r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new mr(new sE(r.getProvider("auth-internal")),new aE(o,r.getProvider("app-check-internal")),(function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new W(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Di(u.options.projectId,h)})(o,s),o);return i={useFetchStreams:n,...i},l._setSettings(i),l}),"PUBLIC").setMultipleInstances(!0)),nr(_f,yf,t),nr(_f,yf,"esm2020")})();const e_="firebasestorage.googleapis.com",n_="storageBucket",_b=120*1e3,yb=600*1e3;class fe extends jr{constructor(t,n,r=0){super(vl(t),`Firebase Storage: ${n} (${vl(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fe.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return vl(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var he;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(he||(he={}));function vl(e){return"storage/"+e}function r_(){const e="An unknown error occurred, please check the error payload for server response.";return new fe(he.UNKNOWN,e)}function vb(e){return new fe(he.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function Eb(e){return new fe(he.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function wb(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new fe(he.UNAUTHENTICATED,e)}function Tb(){return new fe(he.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function bb(e){return new fe(he.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function Ab(){return new fe(he.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ib(){return new fe(he.CANCELED,"User canceled the upload/download.")}function Rb(e){return new fe(he.INVALID_URL,"Invalid URL '"+e+"'.")}function Sb(e){return new fe(he.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function Cb(){return new fe(he.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+n_+"' property when initializing the app?")}function xb(){return new fe(he.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function lc(e){return new fe(he.INVALID_ARGUMENT,e)}function s_(){return new fe(he.APP_DELETED,"The Firebase app was deleted.")}function Pb(e){return new fe(he.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ks(e){throw new fe(he.INTERNAL_ERROR,"Internal error: "+e)}class Ue{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Ue.makeFromUrl(t,n)}catch{return new Ue(t,"")}if(r.path==="")return r;throw Sb(t)}static makeFromUrl(t,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(q){q.path.charAt(q.path.length-1)==="/"&&(q.path_=q.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function u(q){q.path_=decodeURIComponent(q.path)}const h="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",g=new RegExp(`^https?://${d}/${h}/b/${s}/o${m}`,"i"),C={bucket:1,path:3},x=n===e_?"(?:storage.googleapis.com|storage.cloud.google.com)":n,D="([^?#]*)",U=new RegExp(`^https?://${x}/${s}/${D}`,"i"),j=[{regex:l,indices:c,postModify:i},{regex:g,indices:C,postModify:u},{regex:U,indices:{bucket:1,path:2},postModify:u}];for(let q=0;q<j.length;q++){const nt=j[q],rt=nt.regex.exec(t);if(rt){const R=rt[nt.indices.bucket];let v=rt[nt.indices.path];v||(v=""),r=new Ue(R,v),nt.postModify(r);break}}if(r==null)throw Rb(t);return r}}class Vb{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function Db(e,t,n){let r=1,s=null,i=null,o=!1,l=0;function c(){return l===2}let u=!1;function h(...D){u||(u=!0,t.apply(null,D))}function d(D){s=setTimeout(()=>{s=null,e(g,c())},D)}function m(){i&&clearTimeout(i)}function g(D,...U){if(u){m();return}if(D){m(),h.call(null,D,...U);return}if(c()||o){m(),h.call(null,D,...U);return}r<64&&(r*=2);let j;l===1?(l=2,j=0):j=(r+Math.random())*1e3,d(j)}let C=!1;function x(D){C||(C=!0,m(),!u&&(s!==null?(D||(l=2),clearTimeout(s),d(0)):D||(l=1)))}return d(0),i=setTimeout(()=>{o=!0,x(!0)},n),x}function kb(e){e(!1)}function Nb(e){return e!==void 0}function Ob(e){return typeof e=="object"&&!Array.isArray(e)}function i_(e){return typeof e=="string"||e instanceof String}function cc(e,t,n,r){if(r<t)throw lc(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw lc(`Invalid value for '${e}'. Expected ${n} or less.`)}function Tu(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function o_(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const s=t(r)+"="+t(e[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Lr;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Lr||(Lr={}));function Mb(e,t){const n=e>=500&&e<600,s=[408,429].indexOf(e)!==-1,i=t.indexOf(e)!==-1;return n||s||i}class Lb{constructor(t,n,r,s,i,o,l,c,u,h,d,m=!0,g=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=d,this.retry=m,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,x)=>{this.resolve_=C,this.reject_=x,this.start_()})}start_(){const t=(r,s)=>{if(s){r(!1,new vo(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const l=i.getErrorCode()===Lr.NO_ERROR,c=i.getStatus();if(!l||Mb(c,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===Lr.ABORT;r(!1,new vo(!1,null,h));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new vo(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());Nb(c)?i(c):i()}catch(c){o(c)}else if(l!==null){const c=r_();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(s.canceled){const c=this.appDelete_?s_():Ib();o(c)}else{const c=Ab();o(c)}};this.canceled_?n(!1,new vo(!1,null,!0)):this.backoffId_=Db(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&kb(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vo{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function Fb(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function Ub(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Bb(e,t){t&&(e["X-Firebase-GMPID"]=t)}function $b(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function jb(e,t,n,r,s,i,o=!0,l=!1){const c=o_(e.urlParams),u=e.url+c,h=Object.assign({},e.headers);return Bb(h,t),Fb(h,n),Ub(h,i),$b(h,r),new Lb(u,e.method,h,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,o,l)}function bu(e){let t;try{t=JSON.parse(e)}catch{return null}return Ob(t)?t:null}function zb(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function qb(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function a_(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}function Hb(e,t){return t}class Ve{constructor(t,n,r,s){this.server=t,this.local=n||t,this.writable=!!r,this.xform=s||Hb}}let Eo=null;function Gb(e){return!i_(e)||e.length<2?e:a_(e)}function Kb(){if(Eo)return Eo;const e=[];e.push(new Ve("bucket")),e.push(new Ve("generation")),e.push(new Ve("metageneration")),e.push(new Ve("name","fullPath",!0));function t(i,o){return Gb(o)}const n=new Ve("name");n.xform=t,e.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new Ve("size");return s.xform=r,e.push(s),e.push(new Ve("timeCreated")),e.push(new Ve("updated")),e.push(new Ve("md5Hash",null,!0)),e.push(new Ve("cacheControl",null,!0)),e.push(new Ve("contentDisposition",null,!0)),e.push(new Ve("contentEncoding",null,!0)),e.push(new Ve("contentLanguage",null,!0)),e.push(new Ve("contentType",null,!0)),e.push(new Ve("metadata","customMetadata",!0)),Eo=e,Eo}function Wb(e,t){function n(){const r=e.bucket,s=e.fullPath,i=new Ue(r,s);return t._makeStorageReference(i)}Object.defineProperty(e,"ref",{get:n})}function Qb(e,t,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,t[o.server])}return Wb(r,e),r}function Xb(e,t,n){const r=bu(t);return r===null?null:Qb(e,r,n)}function Yb(e,t,n,r){const s=bu(t);if(s===null||!i_(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(u=>{const h=e.bucket,d=e.fullPath,m="/b/"+o(h)+"/o/"+o(d),g=Tu(m,n,r),C=o_({alt:"media",token:u});return g+C})[0]}const _d="prefixes",yd="items";function Jb(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[_d])for(const s of n[_d]){const i=s.replace(/\/$/,""),o=e._makeStorageReference(new Ue(t,i));r.prefixes.push(o)}if(n[yd])for(const s of n[yd]){const i=e._makeStorageReference(new Ue(t,s.name));r.items.push(i)}return r}function Zb(e,t,n){const r=bu(n);return r===null?null:Jb(e,t,r)}class l_{constructor(t,n,r,s){this.url=t,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function c_(e){if(!e)throw r_()}function tA(e,t){function n(r,s){const i=Zb(e,t,s);return c_(i!==null),i}return n}function eA(e,t){function n(r,s){const i=Xb(e,s,t);return c_(i!==null),Yb(i,s,e.host,e._protocol)}return n}function u_(e){function t(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=Tb():s=wb():n.getStatus()===402?s=Eb(e.bucket):n.getStatus()===403?s=bb(e.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return t}function nA(e){const t=u_(e);function n(r,s){let i=t(r,s);return r.getStatus()===404&&(i=vb(e.path)),i.serverResponse=s.serverResponse,i}return n}function rA(e,t,n,r,s){const i={};t.isRoot?i.prefix="":i.prefix=t.path+"/",n.length>0&&(i.delimiter=n),r&&(i.pageToken=r),s&&(i.maxResults=s);const o=t.bucketOnlyServerUrl(),l=Tu(o,e.host,e._protocol),c="GET",u=e.maxOperationRetryTime,h=new l_(l,c,tA(e,t.bucket),u);return h.urlParams=i,h.errorHandler=u_(t),h}function sA(e,t,n){const r=t.fullServerUrl(),s=Tu(r,e.host,e._protocol),i="GET",o=e.maxOperationRetryTime,l=new l_(s,i,eA(e,n),o);return l.errorHandler=nA(t),l}class iA{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Lr.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Lr.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Lr.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,s,i){if(this.sent_)throw Ks("cannot .send() more than once");if(ji(t)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ks("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ks("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ks("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ks("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class oA extends iA{initXhr(){this.xhr_.responseType="text"}}function h_(){return new oA}class $r{constructor(t,n){this._service=t,n instanceof Ue?this._location=n:this._location=Ue.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new $r(t,n)}get root(){const t=new Ue(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return a_(this._location.path)}get storage(){return this._service}get parent(){const t=zb(this._location.path);if(t===null)return null;const n=new Ue(this._location.bucket,t);return new $r(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw Pb(t)}}function aA(e){const t={prefixes:[],items:[]};return f_(e,t).then(()=>t)}async function f_(e,t,n){const s=await lA(e,{pageToken:n});t.prefixes.push(...s.prefixes),t.items.push(...s.items),s.nextPageToken!=null&&await f_(e,t,s.nextPageToken)}function lA(e,t){t!=null&&typeof t.maxResults=="number"&&cc("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=rA(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,h_)}function cA(e){e._throwIfRoot("getDownloadURL");const t=sA(e.storage,e._location,Kb());return e.storage.makeRequestWithTokens(t,h_).then(n=>{if(n===null)throw xb();return n})}function uA(e,t){const n=qb(e._location.path,t),r=new Ue(e._location.bucket,n);return new $r(e.storage,r)}function hA(e){return/^[A-Za-z]+:\/\//.test(e)}function fA(e,t){return new $r(e,t)}function d_(e,t){if(e instanceof Au){const n=e;if(n._bucket==null)throw Cb();const r=new $r(n,n._bucket);return d_(r,t)}else return uA(e,t)}function dA(e,t){if(hA(t)){if(e instanceof Au)return fA(e,t);throw lc("To use ref(service, url), the first argument must be a Storage instance.")}else return d_(e,t)}function vd(e,t){const n=t?.[n_];return n==null?null:Ue.makeFromBucketSpec(n,e)}function pA(e,t,n,r={}){e.host=`${t}:${n}`;const s=ji(t);s&&(lm(`https://${e.host}/b`),um("Storage",!0)),e._isUsingEmulator=!0,e._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:cm(i,e.app.options.projectId))}class Au{constructor(t,n,r,s,i,o=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=e_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=_b,this._maxUploadRetryTime=yb,this._requests=new Set,s!=null?this._bucket=Ue.makeFromBucketSpec(s,this._host):this._bucket=vd(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Ue.makeFromBucketSpec(this._url,t):this._bucket=vd(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){cc("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){cc("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(gm(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new $r(this,t)}_makeRequest(t,n,r,s,i=!0){if(this._deleted)return new Vb(s_());{const o=jb(t,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,s).getPromise()}}const Ed="@firebase/storage",wd="0.14.0";const p_="storage";function mA(e){return e=xe(e),aA(e)}function gA(e){return e=xe(e),cA(e)}function _A(e,t){return e=xe(e),dA(e,t)}function yA(e=vm(),t){e=xe(e);const r=mm(e,p_).getImmediate({identifier:t}),s=om("storage");return s&&vA(r,...s),r}function vA(e,t,n,r={}){pA(e,t,n,r)}function EA(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Au(n,r,s,t,_m)}function wA(){Ci(new ds(p_,EA,"PUBLIC").setMultipleInstances(!0)),nr(Ed,wd,""),nr(Ed,wd,"esm2020")}wA();const TA={apiKey:"AIzaSyDDKt1f46GuXySEOkHg8qQcc1OFxkQmkPk",authDomain:"gsa-ac.firebaseapp.com",projectId:"gsa-ac",storageBucket:"gsa-ac.firebasestorage.app",messagingSenderId:"708496330298",appId:"1:708496330298:web:b220c6513dec715168af03"},m_=ym(TA),Jt=tb(m_),bA=yA(m_);function g_(){const e=xt(null),t=xt(new Date),n=xt(!0),r=xt(null),s=()=>{t.value=new Date},i=ce(()=>r.value!==null?r.value:e.value?t.value<e.value?1:2:1),o=ce(()=>{if(!e.value||i.value===2)return null;const h=e.value.getTime()-t.value.getTime(),d=Math.floor(h/(1e3*60*60*24)),m=Math.floor(h%(1e3*60*60*24)/(1e3*60*60)),g=Math.floor(h%(1e3*60*60)/(1e3*60)),C=Math.floor(h%(1e3*60)/1e3);return{days:d,hours:m,minutes:g,seconds:C}}),l=async()=>{try{n.value=!0;const h=localStorage.getItem("phaseConfig");if(h)try{const d=JSON.parse(h);e.value=new Date(d.phaseTransitionTime)}catch(d){console.warn("Failed to parse cached config:",d)}try{const d=await Fi(rn(Jt,"config","settings"));if(d.exists()){const m=d.data();m.phaseTransitionTime&&(e.value=m.phaseTransitionTime.toDate()),localStorage.setItem("phaseConfig",JSON.stringify({phaseTransitionTime:e.value?.toISOString()}))}else e.value||(e.value=new Date("2025-11-26T00:00:00"))}catch(d){const m=d;m.code==="unavailable"||m.message?.includes("offline")?console.warn("Firebase offline, using cached or default config"):console.error("Error loading phase config from Firebase:",d),e.value||(e.value=new Date("2025-11-26T00:00:00"))}}catch(h){console.error("Unexpected error loading phase config:",h),e.value||(e.value=new Date("2025-11-26T00:00:00"))}finally{n.value=!1}},c=async h=>{try{const d=new Date;if(!e.value||d<e.value){r.value=1;return}(await Fi(rn(Jt,"submissionsStatus",h))).exists()?r.value=2:r.value=1}catch(d){console.error("Error checking user phase:",d),r.value=null}},u=h=>{r.value=h};return Ts(()=>{l(),setInterval(s,1e3)}),{currentPhase:i,timeRemaining:o,phaseTransitionTime:e,loading:n,loadPhaseConfig:l,checkUserPhase:c,updateUserPhase:u,userPhase:r}}let wo=null;function AA(){const e=async()=>{if(wo&&wo.length>0)return wo;try{const n=_A(bA,"avatars/"),s=(await mA(n)).items.map(o=>gA(o)),i=await Promise.all(s);return wo=i,i}catch(n){return console.error("Error fetching avatar URLs:",n),[]}};return{getAvatarUrls:e,getRandomAvatarUrl:async()=>{const n=await e();if(n.length===0)return console.warn("No avatars found in Firebase Storage"),null;const r=Math.floor(Math.random()*n.length);return n[r]??null}}}const ei=xt(null),El=xt(!1),Ws=xt(null),Td=localStorage.getItem("currentUser");if(Td)try{ei.value=JSON.parse(Td)}catch(e){console.error("Error loading user from storage:",e),localStorage.removeItem("currentUser")}function Yi(){const e=ce(()=>ei.value!==null),{getRandomAvatarUrl:t}=AA();return{currentUser:ei,isLoggedIn:e,loading:El,error:Ws,login:async(s,i)=>{if(!s.trim()||s.trim().length>20)return Ws.value=" 1-20 ",!1;if(!/^\d{4}$/.test(i))return Ws.value="440101",!1;try{El.value=!0,Ws.value=null;const o=`${s.trim().toLowerCase()}_${i}`,l=rn(Jt,"users",o),c=await Fi(l);let u;if(c.exists()){const h=c.data();u={id:o,nickname:h.nickname,birthCode:h.birthCode,avatarUrl:h.avatarUrl||null,createdAt:h.createdAt}}else{const h=await t();u={id:o,nickname:s.trim(),birthCode:i,avatarUrl:h,createdAt:new Date},await Jg(l,{nickname:u.nickname,birthCode:u.birthCode,avatarUrl:u.avatarUrl,createdAt:kr()})}return localStorage.setItem("currentUser",JSON.stringify(u)),ei.value=u,!0}catch(o){return console.error("Error during login:",o),Ws.value=o.message||"",!1}finally{El.value=!1}},logout:()=>{ei.value=null,localStorage.removeItem("currentUser"),localStorage.removeItem("hasSubmitted"),localStorage.removeItem("hasDrawn"),localStorage.removeItem("drawnKeywords"),localStorage.removeItem("submissionId")}}}function IA(){const e=xt(!1),t=xt(null),n=xt(!1),r=xt([]),s=xt(!1);return{submitKeywords:async(l,c,u)=>{if(l.length<3||l.length>5)return t.value=" 3-5 ",!1;for(const h of l){const d=h.trim();if(!d||d.length>20)return t.value=" 1-20 ",!1}try{e.value=!0,t.value=null;let h=localStorage.getItem("submissionId");if(!h||!n.value){const g=Vn(Jt,"submissions"),C=fs(g,mi("userId","==",c)),x=await gi(C);!x.empty&&x.docs[0]&&(h=x.docs[0].id,n.value=!0)}if(h&&n.value){const g=fs(Vn(Jt,"keywords"),mi("submittedBy","==",h)),C=await gi(g),x=gd(Jt);C.docs.forEach(D=>{x.delete(D.ref)}),await x.commit()}const d=gd(Jt),m=h&&n.value?rn(Jt,"submissions",h):rn(Vn(Jt,"submissions"));d.set(m,{keywords:l.map(g=>g.trim()),userId:c,userNickname:u,submitTime:kr(),updatedAt:kr()});for(const g of l){const C=rn(Vn(Jt,"keywords"));d.set(C,{word:g.trim(),submittedBy:m.id,submittedByUserId:c,submittedByUserNickname:u,isDrawn:!1,drawnBy:null,submitTime:kr()})}return await d.commit(),await Jg(rn(Jt,"submissionsStatus",c),{hasSubmitted:!0,phase:2,lastUpdated:kr()}),localStorage.setItem("hasSubmitted","true"),localStorage.setItem("submissionId",m.id),n.value=!0,r.value=l.map(g=>g.trim()),!0}catch(h){return console.error("Error submitting keywords:",h),t.value="",!1}finally{e.value=!1}},submitting:e,error:t,hasSubmitted:n,submittedKeywords:r,isLoading:s,checkSubmissionStatus:async l=>{if(!l)return n.value=!1,r.value=[],!1;s.value=!0;try{const c=localStorage.getItem("hasSubmitted"),u=localStorage.getItem("submissionId");if(c==="true"&&u){const g=await Fi(rn(Jt,"submissions",u));if(g.exists()){const C=g.data();if(C.userId===l)return n.value=!0,r.value=C.keywords||[],!0}}const h=Vn(Jt,"submissions"),d=fs(h,mi("userId","==",l)),m=await gi(d);if(m.empty)return n.value=!1,r.value=[],localStorage.removeItem("hasSubmitted"),localStorage.removeItem("submissionId"),!1;{const g=m.docs[0],C=g?g.data():null;return n.value=!0,r.value=C?.keywords||[],g&&(localStorage.setItem("hasSubmitted","true"),localStorage.setItem("submissionId",g.id)),!0}}catch(c){return console.error("Error checking submission status:",c),n.value=!1,r.value=[],!1}finally{s.value=!1}}}}const RA={class:"min-h-screen px-4 py-8"},SA={class:"max-w-2xl mx-auto"},CA={class:"p-8 bg-gray-800 border border-gray-700 shadow-2xl rounded-xl"},xA={class:"flex items-center justify-between pb-4 mb-6 border-b border-gray-700"},PA={class:"flex items-center gap-3"},VA={class:"w-10 h-10 bg-[#c03221] rounded-full flex items-center justify-center overflow-hidden"},DA=["src","alt"],kA={key:1,class:"w-6 h-6 text-[#f2d0a4]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},NA={class:"font-semibold text-[#f2d0a4]"},OA={key:0,class:"py-8 text-center"},MA={key:1},LA={key:0,class:"flex items-center gap-2 p-3 mb-4 text-sm border rounded-lg bg-[#28464b]/30 border-[#28464b]"},FA={key:1,class:"flex items-center gap-2 p-3 mb-4 text-sm border rounded-lg bg-[#28464b]/30 border-[#28464b]"},UA={class:"mb-6"},BA={class:"space-y-3"},$A={class:"w-8 font-medium text-gray-400"},jA=["onUpdate:modelValue","placeholder","disabled","onFocus"],zA=["onClick"],qA={class:"mt-3 text-sm text-gray-400"},HA={key:0,class:"text-[#c03221]"},GA={key:2,class:"mb-4 p-4 bg-[#c03221]/20 border border-[#c03221]/50 rounded-lg text-[#ff6b5a]"},KA=["disabled"],WA={class:"font-black text-gray-900"},QA=cn({__name:"PhaseOne",setup(e){const{submitKeywords:t,submitting:n,error:r,hasSubmitted:s,submittedKeywords:i,isLoading:o,checkSubmissionStatus:l}=IA(),{currentUser:c,logout:u}=Yi(),{phaseTransitionTime:h,updateUserPhase:d}=g_(),m=xt(["","","","",""]),g=xt(!1),C=xt(null),x=ce(()=>m.value.filter(v=>v.trim()!=="").length),D=ce(()=>s.value&&i.value.length>0),U=ce(()=>n.value?"...":D.value?"":"");Ts(async()=>{if(c.value&&(await l(c.value.id),i.value.length>0)){const v=["","","","",""];i.value.forEach((_,A)=>{A<5&&(v[A]=_)}),m.value=v}}),us(i,v=>{if(v.length>0){const _=["","","","",""];v.forEach((A,T)=>{T<5&&(_[T]=A)}),m.value=_}});const $=async()=>{if(!c.value){r.value="";return}const v=m.value.filter(A=>A.trim()!=="");if(v.length<3){r.value=" 3 ";return}if(await t(v,c.value.id,c.value.nickname)){g.value=!0,C.value=null;const A=new Date;h.value&&A>=h.value?setTimeout(()=>{d(2)},1500):setTimeout(()=>{g.value=!1},5e3)}},j=v=>{C.value=v},q=v=>{if(n.value||o.value)return!0;if(!s.value)return!1;const _=m.value[v];return(_?_.trim()!=="":!1)?C.value!==v:!1},nt=v=>{if(!s.value||C.value===v)return!1;const _=m.value[v];return _?_.trim()!=="":!1},rt=v=>s.value?C.value===v:!1,R=()=>{if(i.value.length>0){const v=["","","","",""];i.value.forEach((_,A)=>{A<5&&(v[A]=_)}),m.value=v}C.value=null};return(v,_)=>(Y(),et("div",RA,[b("div",SA,[b("div",CA,[b("div",xA,[b("div",PA,[b("div",VA,[ht(c)?.avatarUrl?(Y(),et("img",{key:0,src:ht(c).avatarUrl,alt:ht(c).nickname,class:"object-cover w-full h-full"},null,8,DA)):(Y(),et("svg",kA,[..._[2]||(_[2]=[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1)])]))]),b("div",null,[_[3]||(_[3]=b("p",{class:"text-sm text-gray-400"},"",-1)),b("p",NA,Ft(ht(c)?.nickname),1)])]),b("button",{onClick:_[0]||(_[0]=(...A)=>ht(u)&&ht(u)(...A)),class:"px-4 py-2 text-sm text-gray-300 transition-colors rounded-lg hover:text-[#f2d0a4] hover:bg-gray-700"},"  ")]),_[10]||(_[10]=b("h1",{class:"text-3xl font-bold text-[#f2d0a4] mb-2 text-center"},"  ",-1)),_[11]||(_[11]=b("p",{class:"mb-6 text-center text-gray-400"},"  ",-1)),ht(o)?(Y(),et("div",OA,[..._[4]||(_[4]=[b("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-[#f2d0a4]"},null,-1),b("p",{class:"mt-4 text-gray-400"},"...",-1)])])):(Y(),et("div",MA,[ht(s)&&g.value?(Y(),et("div",LA,[..._[5]||(_[5]=[b("svg",{class:"flex-shrink-0 w-5 h-5 text-[#f2d0a4]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),b("span",{class:"font-medium text-gray-400"},"/",-1)])])):ht(s)&&!g.value?(Y(),et("div",FA,[..._[6]||(_[6]=[b("svg",{class:"flex-shrink-0 w-5 h-5 text-[#f2d0a4]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),b("span",{class:"font-medium text-gray-400"},"/",-1)])])):Me("",!0),b("div",UA,[_[9]||(_[9]=Dc('<ul class="mb-4 space-y-2 text-sm text-gray-300"><li class="flex items-start gap-2"><span class="text-[#f2d0a4]"></span>  3-5  </li><li class="flex items-start gap-2"><span class="text-[#f2d0a4]"></span>  </li></ul>',1)),b("div",BA,[(Y(!0),et(re,null,bi(m.value,(A,T)=>(Y(),et("div",{key:T,class:"flex items-center gap-2"},[b("span",$A,Ft(T+1)+".",1),Pl(b("input",{"onUpdate:modelValue":I=>m.value[T]=I,type:"text",maxlength:"8",placeholder:T<3?" ()":" ()",class:"flex-1 px-4 py-2 bg-gray-700 border border-gray-600 text-gray-100 placeholder-gray-400 rounded-lg focus:ring-2 focus:ring-[#f2d0a4] focus:border-transparent outline-none transition-all disabled:bg-gray-900 disabled:text-gray-500 disabled:border-gray-700 disabled:cursor-not-allowed disabled:opacity-60",disabled:q(T),onFocus:I=>j(T)},null,40,jA),[[Ul,m.value[T]]]),nt(T)?(Y(),et("button",{key:0,onClick:I=>j(T),type:"button",class:"px-3 py-2 text-[#f2d0a4] hover:bg-gray-700 rounded-lg transition-colors",title:""},[..._[7]||(_[7]=[b("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,zA)):Me("",!0),rt(T)?(Y(),et("button",{key:1,onClick:_[1]||(_[1]=I=>R()),type:"button",class:"px-3 py-2 text-gray-400 hover:text-[#f2d0a4] hover:bg-gray-700 rounded-lg transition-colors",title:""},[..._[8]||(_[8]=[b("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])):Me("",!0)]))),128))]),b("div",qA,[at("  "+Ft(x.value)+" / 5  ",1),x.value<3?(Y(),et("span",HA,"  3  ")):Me("",!0)])]),ht(r)?(Y(),et("div",GA,Ft(ht(r)),1)):Me("",!0),b("button",{onClick:$,type:"button",class:"w-full px-6 py-3 bg-[#f2d0a4] text-gray-900 rounded-lg hover:bg-[#e5c394] transition-colors duration-200 disabled:bg-gray-600 disabled:text-gray-400 disabled:cursor-not-allowed font-medium",disabled:ht(n)||x.value<3},[b("span",WA,Ft(U.value),1)],8,KA)]))])])]))}});function __(){const e=xt(!1),t=xt(null),n=xt(!1),r=xt([]),s=xt([]),i=xt(!1),o=xt(!1);let l=null;const c=async m=>{if(localStorage.getItem("hasDrawn")==="true"){n.value=!0;const C=localStorage.getItem("drawnKeywords");C&&(r.value=JSON.parse(C))}if(m){o.value=!0;try{const C=rn(Jt,"drawStatus",m);if((await Fi(C)).exists()){const D=Vn(Jt,"draws"),U=fs(D,mi("userId","==",m)),$=await gi(U);if(!$.empty){n.value=!0;const j=$.docs[0],q=j?j.data():null;r.value=q?.drawnKeywords||[],localStorage.setItem("hasDrawn","true"),localStorage.setItem("drawnKeywords",JSON.stringify(r.value))}}else n.value=!1,r.value=[],localStorage.removeItem("hasDrawn"),localStorage.removeItem("drawnKeywords")}catch(C){console.error("Error checking draw status from Firebase:",C)}finally{o.value=!1}}return n.value};return{drawKeywords:async(m,g,C)=>{if(await c(m),n.value)return t.value="",!1;try{e.value=!0,t.value=null;const x=await gb(Jt,async D=>{const U=rn(Jt,"drawStatus",m);if((await D.get(U)).exists())throw new Error("");D.set(U,{userId:m,hasDrawn:!0,timestamp:kr()});const j=Vn(Jt,"keywords"),q=fs(j,mi("isDrawn","==",!1)),nt=await gi(q);if(nt.empty||nt.size<3)throw new Error("");const rt=nt.docs,R=new Set;for(;R.size<3;){const T=Math.floor(Math.random()*rt.length);R.add(T)}const v=Array.from(R).map(T=>rt[T]).filter(T=>T!==void 0),_=rn(Vn(Jt,"draws")),A=v.map(T=>{const I=T.data();return{word:I.word,keywordId:T.id,submittedByUserNickname:I.submittedByUserNickname}});D.set(_,{userId:m,userName:g,userAvatarUrl:C||null,drawnKeywords:A,drawTime:kr()});for(const T of v)D.update(T.ref,{isDrawn:!0,drawnBy:_.id,drawnByUserId:m,drawnByUserNickname:g});return A});return localStorage.setItem("hasDrawn","true"),localStorage.setItem("drawnKeywords",JSON.stringify(x)),n.value=!0,r.value=x,!0}catch(x){return console.error("Error drawing keywords:",x),t.value=x.message||"",!1}finally{e.value=!1}},drawing:e,error:t,hasDrawn:n,drawnKeywords:r,checkDrawStatus:c,allResults:s,loadingResults:i,isCheckingStatus:o,subscribeToResults:()=>{i.value=!0;const m=Vn(Jt,"draws"),g=fs(m,lb("drawTime","desc"));l=hb(g,C=>{s.value=C.docs.map(x=>({id:x.id,...x.data()})),i.value=!1},C=>{console.error("Error loading results:",C),t.value="",i.value=!1})},unsubscribeFromResults:()=>{l&&(l(),l=null)}}}const XA={key:0,class:"bg-[#28464b]/30 border border-[#28464b] rounded-lg p-6"},YA={class:"mb-6 text-center"},JA={class:"mb-1 text-gray-300"},ZA={class:"grid grid-cols-1 gap-4 md:grid-cols-3"},tI={class:"text-sm text-[#f2d0a4]/70 mb-2"},eI={class:"text-2xl font-bold text-[#f2d0a4] mb-3"},nI={class:"text-xs text-gray-300/80 pt-2 border-t border-[#f2d0a4]/20"},rI={class:"font-medium text-white/90"},sI={key:1},iI={class:"p-6 mb-6 bg-gray-900 border border-gray-700 rounded-lg"},oI={class:"p-4 mb-6 border rounded-lg bg-gradient-to-br from-gray-500/50 to-gray-500/10 border-gray-500/50"},aI={class:"flex items-center gap-3"},lI={class:"w-10 h-10 bg-[#c03221] rounded-full flex items-center justify-center flex-shrink-0 overflow-hidden"},cI=["src","alt"],uI={key:1,class:"w-6 h-6 text-[#f2d0a4]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},hI={class:"font-semibold text-[#f2d0a4] text-lg"},fI={key:0,class:"mb-4 p-4 bg-[#c03221]/20 border border-[#c03221]/50 rounded-lg text-[#ff6b5a]"},dI=["disabled"],pI={key:0},mI={key:1,class:"font-black text-gray-900"},gI=cn({__name:"DrawTab",setup(e){const{drawKeywords:t,drawing:n,error:r,hasDrawn:s,drawnKeywords:i,checkDrawStatus:o}=__(),{currentUser:l}=Yi();Ts(async()=>{l.value&&await o(l.value.id)});const c=async()=>{if(!l.value){r.value="";return}await t(l.value.id,l.value.nickname,l.value.avatarUrl)};return(u,h)=>(Y(),et("div",null,[ht(s)?(Y(),et("div",XA,[b("div",YA,[h[0]||(h[0]=b("svg",{class:"w-16 h-16 text-[#f2d0a4] mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),h[1]||(h[1]=b("h2",{class:"text-2xl font-semibold text-[#f2d0a4] mb-2"},"  ",-1)),b("p",JA,Ft(ht(l)?.nickname)+" ",1)]),b("div",ZA,[(Y(!0),et(re,null,bi(ht(i),(d,m)=>(Y(),et("div",{key:d.keywordId,class:"p-6 text-center transition-transform transform border rounded-lg shadow-md bg-gradient-to-br from-[#28464b]/50 to-[#28464b]/10 border-[#28464b]/50 hover:scale-105"},[b("div",tI," "+Ft(m+1),1),b("div",eI,Ft(d.word),1),b("div",nI,[h[2]||(h[2]=at("  ",-1)),b("span",rI,Ft(d.submittedByUserNickname),1),h[3]||(h[3]=at("  ",-1))])]))),128))]),h[4]||(h[4]=b("div",{class:"mt-6 text-center text-gray-300"},[b("p",null," 2 ")],-1))])):(Y(),et("div",sI,[b("div",iI,[h[7]||(h[7]=b("h2",{class:"text-xl font-semibold text-[#f2d0a4] mb-4"},"  ",-1)),h[8]||(h[8]=b("p",{class:"mb-6 text-gray-300"},"  3  2  ",-1)),b("div",oI,[b("div",aI,[b("div",lI,[ht(l)?.avatarUrl?(Y(),et("img",{key:0,src:ht(l).avatarUrl,alt:ht(l).nickname,class:"object-cover w-full h-full"},null,8,cI)):(Y(),et("svg",uI,[...h[5]||(h[5]=[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1)])]))]),b("div",null,[h[6]||(h[6]=b("p",{class:"text-sm text-gray-300"},"",-1)),b("p",hI,Ft(ht(l)?.nickname),1)])])]),ht(r)?(Y(),et("div",fI,Ft(ht(r)),1)):Me("",!0),b("button",{onClick:c,type:"button",class:"w-full px-6 py-3 bg-[#f2d0a4] text-gray-900 rounded-lg hover:bg-[#e5c394] transition-colors duration-200 disabled:bg-gray-600 disabled:text-gray-400 disabled:cursor-not-allowed font-medium text-lg",disabled:ht(n)},[ht(n)?(Y(),et("span",pI,"...")):(Y(),et("span",mI," "))],8,dI)]),h[9]||(h[9]=Dc('<div class="bg-[#28464b]/30 border border-[#28464b] rounded-lg p-4"><div class="flex items-start gap-3"><svg class="w-6 h-6 text-[#f2d0a4] flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><div class="text-gray-300"><p class="mb-1 font-medium"></p><ul class="space-y-1 text-sm text-gray-400 list-disc list-inside"><li></li><li></li><li> </li></ul></div></div></div>',1))]))]))}}),_I={key:0,class:"relative w-full max-w-4xl overflow-hidden bg-gray-800 border border-gray-700 shadow-2xl sm:max-h-[90vh] max-h-screen sm:rounded-2xl rounded-none"},yI={class:"p-6 overflow-y-auto sm:p-8 max-h-[calc(90vh-80px)]"},vI={class:"flex items-center gap-4 p-6 mb-6 border border-gray-600 rounded-lg bg-gradient-to-br from-gray-700/50 to-gray-700/10"},EI={class:"flex-shrink-0 w-20 h-20 overflow-hidden rounded-full bg-[#c03221] flex items-center justify-center"},wI=["src","alt"],TI={key:1,class:"w-10 h-10 text-[#f2d0a4]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},bI={class:"flex-1"},AI={class:"text-2xl font-bold text-[#f2d0a4] mb-1"},II={class:"flex items-center gap-2 text-sm text-gray-400"},RI={class:"mb-4"},SI={class:"grid grid-cols-1 gap-4 md:grid-cols-3"},CI={class:"text-xs text-[#f2d0a4]/70 mb-2"},xI={class:"mb-3 text-3xl font-bold text-[#f2d0a4]"},PI={class:"pt-3 text-xs border-t text-gray-300/80 border-[#f2d0a4]/20"},VI={class:"font-medium text-white/90"},DI=cn({__name:"UserDrawDetailModal",props:{result:{},isOpen:{type:Boolean}},emits:["close"],setup(e,{emit:t}){const n=t,r=o=>o?(o.toDate?o.toDate():new Date(o)).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"",s=()=>{n("close")},i=o=>{o.target===o.currentTarget&&s()};return(o,l)=>(Y(),Fr(Ap,{to:"body"},[At(jo,{"enter-active-class":"transition-opacity duration-200","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-opacity duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:Yt(()=>[e.isOpen&&e.result?(Y(),et("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",onClick:i},[At(jo,{"enter-active-class":"transition-all duration-200","enter-from-class":"scale-95 opacity-0","enter-to-class":"scale-100 opacity-100","leave-active-class":"transition-all duration-200","leave-from-class":"scale-100 opacity-100","leave-to-class":"scale-95 opacity-0"},{default:Yt(()=>[e.isOpen&&e.result?(Y(),et("div",_I,[b("div",{class:"sticky top-0 z-10 flex items-center justify-between p-6 border-b border-gray-700 bg-gray-800/95 backdrop-blur"},[l[1]||(l[1]=b("h2",{class:"text-2xl font-bold text-[#f2d0a4]"},"",-1)),b("button",{onClick:s,class:"p-2 text-gray-400 transition-colors rounded-lg hover:text-[#f2d0a4] hover:bg-gray-700","aria-label":""},[...l[0]||(l[0]=[b("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),b("div",yI,[b("div",vI,[b("div",EI,[e.result.userAvatarUrl?(Y(),et("img",{key:0,src:e.result.userAvatarUrl,alt:e.result.userName,class:"object-cover w-full h-full"},null,8,wI)):(Y(),et("svg",TI,[...l[2]||(l[2]=[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1)])]))]),b("div",bI,[b("h3",AI,Ft(e.result.userName),1),b("div",II,[l[3]||(l[3]=b("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),b("span",null,Ft(r(e.result.drawTime)),1)])])]),b("div",RI,[l[6]||(l[6]=b("h4",{class:"mb-4 text-lg font-semibold text-gray-300"},"  ",-1)),b("div",SI,[(Y(!0),et(re,null,bi(e.result.drawnKeywords,(c,u)=>(Y(),et("div",{key:c.keywordId,class:"p-6 text-center transition-all border rounded-lg bg-gradient-to-br from-gray-500/50 to-gray-500/10 border-gray-500/50 hover:scale-105 hover:shadow-xl"},[b("div",CI," "+Ft(u+1),1),b("div",xI,Ft(c.word),1),b("div",PI,[l[4]||(l[4]=at("  ",-1)),b("span",VI,Ft(c.submittedByUserNickname),1),l[5]||(l[5]=at("  ",-1))])]))),128))])]),l[7]||(l[7]=b("div",{class:"p-4 mt-6 border rounded-lg bg-[#28464b]/30 border-[#28464b]"},[b("div",{class:"flex items-start gap-3"},[b("svg",{class:"w-5 h-5 text-[#f2d0a4] flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),b("div",{class:"text-sm text-gray-300"},[b("p",{class:"mb-1 font-medium"},""),b("p",{class:"text-gray-400"},"  2  ")])])],-1))]),b("div",{class:"sticky bottom-0 flex justify-end gap-3 p-6 border-t border-gray-700 bg-gray-800/95 backdrop-blur"},[b("button",{onClick:s,class:"px-6 py-3 font-medium text-gray-900 transition-colors rounded-lg bg-[#f2d0a4] hover:bg-[#e5c394]"},"  ")])])):Me("",!0)]),_:1})])):Me("",!0)]),_:1})]))}}),kI={key:0,class:"py-8 text-center"},NI={key:1,class:"py-8 text-center"},OI={key:2,class:"space-y-4"},MI=["onClick"],LI={class:"flex items-center justify-between mb-4"},FI={class:"flex items-center gap-3"},UI={class:"w-10 h-10 bg-[#c03221] rounded-full flex items-center justify-center overflow-hidden"},BI=["src","alt"],$I={key:1,class:"w-6 h-6 text-[#f2d0a4]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},jI={class:"text-lg font-semibold text-[#f2d0a4]"},zI={class:"text-sm text-gray-400"},qI={class:"grid grid-cols-1 gap-3 sm:grid-cols-3"},HI={class:"text-xs text-[#f2d0a4]/70 mb-1"},GI={class:"text-lg font-bold text-[#f2d0a4] mb-2"},KI={class:"text-xs text-gray-300/80 pt-2 border-t border-[#f2d0a4]/20"},WI={class:"font-medium text-white/90"},QI={key:3,class:"mt-6"},XI={class:"flex items-center justify-between text-sm text-gray-400"},YI=cn({__name:"ResultsTab",setup(e){const{allResults:t,loadingResults:n,subscribeToResults:r,unsubscribeFromResults:s}=__(),i=xt(null),o=xt(!1);Ts(()=>{r()}),Cc(()=>{s()});const l=h=>h?(h.toDate?h.toDate():new Date(h)).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"",c=h=>{i.value=h,o.value=!0},u=()=>{o.value=!1,setTimeout(()=>{i.value=null},200)};return(h,d)=>(Y(),et("div",null,[d[6]||(d[6]=b("h2",{class:"text-xl font-semibold text-[#f2d0a4] mb-4"},"  ",-1)),d[7]||(d[7]=b("p",{class:"mb-6 text-gray-400"},"  ",-1)),ht(n)?(Y(),et("div",kI,[...d[0]||(d[0]=[b("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-[#f2d0a4]"},null,-1),b("p",{class:"mt-4 text-gray-400"},"...",-1)])])):ht(t).length===0?(Y(),et("div",NI,[...d[1]||(d[1]=[b("svg",{class:"w-16 h-16 mx-auto mb-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1),b("p",{class:"text-gray-400"},"",-1)])])):(Y(),et("div",OI,[(Y(!0),et(re,null,bi(ht(t),m=>(Y(),et("div",{key:m.id,class:"p-5 transition-all bg-gray-800 border border-gray-700 rounded-lg cursor-pointer hover:shadow-xl hover:border-gray-600",onClick:g=>c(m)},[b("div",LI,[b("div",FI,[b("div",UI,[m.userAvatarUrl?(Y(),et("img",{key:0,src:m.userAvatarUrl,alt:m.userName,class:"object-cover w-full h-full"},null,8,BI)):(Y(),et("svg",$I,[...d[2]||(d[2]=[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1)])]))]),b("div",null,[b("h3",jI,Ft(m.userName),1),b("p",zI,Ft(l(m.drawTime)),1)])])]),b("div",qI,[(Y(!0),et(re,null,bi(m.drawnKeywords,(g,C)=>(Y(),et("div",{key:g.keywordId,class:"p-4 text-center transition-all border rounded-lg bg-gradient-to-br from-gray-500/50 to-gray-500/10 border-gray-500/50 hover:from-gray-500/60 hover:to-gray-500/20"},[b("div",HI," "+Ft(C+1),1),b("div",GI,Ft(g.word),1),b("div",KI,[d[3]||(d[3]=at("  ",-1)),b("span",WI,Ft(g.submittedByUserNickname),1),d[4]||(d[4]=at("  ",-1))])]))),128))])],8,MI))),128))])),ht(t).length>0?(Y(),et("div",QI,[b("div",XI,[b("span",null," "+Ft(ht(t).length)+" ",1),d[5]||(d[5]=b("span",null,"",-1))])])):Me("",!0),At(DI,{result:i.value,"is-open":o.value,onClose:u},null,8,["result","is-open"])]))}}),JI={class:"min-h-screen px-4 py-8"},ZI={class:"max-w-4xl mx-auto"},tR={class:"overflow-hidden bg-gray-800 border border-gray-700 shadow-2xl rounded-xl"},eR={class:"p-8 pb-0"},nR={class:"flex items-center justify-between pb-4 mb-6 border-b border-gray-700"},rR={class:"flex items-center gap-3"},sR={class:"w-10 h-10 bg-[#c03221] rounded-full flex items-center justify-center overflow-hidden"},iR=["src","alt"],oR={key:1,class:"w-6 h-6 text-[#f2d0a4]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},aR={class:"font-semibold text-[#f2d0a4]"},lR={class:"border-b border-gray-700"},cR={class:"flex -mb-px"},uR={class:"p-8 bg-gray-800"},hR=cn({__name:"PhaseTwo",setup(e){const{currentUser:t,logout:n}=Yi(),r=xt("draw"),s=i=>{r.value=i};return(i,o)=>(Y(),et("div",JI,[b("div",ZI,[b("div",tR,[b("div",eR,[b("div",nR,[b("div",rR,[b("div",sR,[ht(t)?.avatarUrl?(Y(),et("img",{key:0,src:ht(t).avatarUrl,alt:ht(t).nickname,class:"object-cover w-full h-full"},null,8,iR)):(Y(),et("svg",oR,[...o[3]||(o[3]=[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1)])]))]),b("div",null,[o[4]||(o[4]=b("p",{class:"text-sm text-gray-400"},"",-1)),b("p",aR,Ft(ht(t)?.nickname),1)])]),b("button",{onClick:o[0]||(o[0]=(...l)=>ht(n)&&ht(n)(...l)),class:"px-4 py-2 text-gray-300 hover:text-[#f2d0a4] hover:bg-gray-700 rounded-lg transition-colors text-sm"},"  ")]),o[7]||(o[7]=b("h1",{class:"text-3xl font-bold text-[#f2d0a4] mb-2 text-center"},"  ",-1)),o[8]||(o[8]=b("p",{class:"mb-6 text-center text-gray-400"},"  ",-1)),b("div",lR,[b("nav",cR,[b("button",{onClick:o[1]||(o[1]=l=>s("draw")),class:yi(["flex-1 py-4 px-6 text-center font-medium transition-colors",r.value==="draw"?"border-b-2 border-[#f2d0a4] text-[#f2d0a4]":"text-gray-400 hover:text-gray-300 hover:border-b-2 hover:border-gray-600"])},[...o[5]||(o[5]=[b("svg",{class:"inline-block w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})],-1),at("  ",-1)])],2),b("button",{onClick:o[2]||(o[2]=l=>s("results")),class:yi(["flex-1 py-4 px-6 text-center font-medium transition-colors",r.value==="results"?"border-b-2 border-[#f2d0a4] text-[#f2d0a4]":"text-gray-400 hover:text-gray-300 hover:border-b-2 hover:border-gray-600"])},[...o[6]||(o[6]=[b("svg",{class:"inline-block w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),at("  ",-1)])],2)])])]),b("div",uR,[r.value==="draw"?(Y(),Fr(gI,{key:0})):Me("",!0),r.value==="results"?(Y(),Fr(YI,{key:1})):Me("",!0)])])])]))}}),fR="/boxbash-ac/assets/boxbash-title-DOnIQGYm.png",dR={class:"flex items-center justify-center min-h-screen px-4 py-8"},pR={class:"w-full max-w-md"},mR={class:"p-8 bg-gray-800 border border-gray-700 shadow-2xl rounded-2xl"},gR={class:"mb-3 text-center"},_R={class:"space-y-5"},yR=["disabled"],vR=["disabled"],ER={key:0,class:"mt-3 p-3 bg-[#28464b] border border-[#28464b]/50 rounded-lg text-sm text-[#f2d0a4]"},wR={key:1,class:"mt-1 text-sm text-gray-400"},TR={key:0,class:"p-4 bg-[#c03221]/20 border border-[#c03221]/50 rounded-lg text-[#ff6b5a] text-sm"},bR={class:"flex items-start gap-2"},AR=["disabled"],IR={key:0,class:"flex items-center justify-center gap-2"},RR={key:1,class:"font-black text-gray-900"},SR={key:0,class:"relative w-full max-w-lg mx-4 overflow-hidden bg-gray-800 border border-gray-700 shadow-2xl rounded-2xl"},CR={class:"flex items-center justify-between p-6 border-b border-gray-700"},xR={class:"p-6 border-t border-gray-700"},PR=cn({__name:"Login",setup(e){const{login:t,loading:n,error:r}=Yi(),s=xt(""),i=xt(""),o=xt(!1),l=xt(!1),c=async()=>{await t(s.value,i.value)},u=h=>{const d=h.target;d.value=d.value.replace(/\D/g,"").slice(0,4),i.value=d.value};return(h,d)=>(Y(),et("div",dR,[b("div",pR,[b("div",mR,[b("div",gR,[d[7]||(d[7]=b("div",{class:"flex items-center justify-center mb-3"},[b("img",{src:fR,alt:"",class:"object-contain h-60"})],-1)),d[8]||(d[8]=b("p",{class:"inline-flex mr-2 text-gray-400"},"  ",-1)),b("button",{onClick:d[0]||(d[0]=m=>l.value=!0),type:"button",class:"inline-flex items-center gap-1 text-md text-[#f2d0a4] hover:text-[#e5c394] underline underline-offset-2"},[...d[6]||(d[6]=[b("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),at("  ",-1)])])]),b("div",_R,[b("div",null,[d[9]||(d[9]=b("label",{class:"block mb-2 font-medium text-gray-300"},[at("  "),b("span",{class:"text-[#c03221]"},"*")],-1)),Pl(b("input",{"onUpdate:modelValue":d[1]||(d[1]=m=>s.value=m),type:"text",maxlength:"20",placeholder:"",class:"w-full px-4 py-3 bg-gray-700 border border-gray-600 text-gray-100 placeholder-gray-400 rounded-lg focus:ring-2 focus:ring-[#f2d0a4] focus:border-transparent outline-none transition-all",disabled:ht(n),onKeyup:ef(c,["enter"])},null,40,yR),[[Ul,s.value]]),d[10]||(d[10]=b("p",{class:"mt-1 text-sm text-gray-400"}," 1-20  ",-1))]),b("div",null,[d[12]||(d[12]=b("label",{class:"flex items-center justify-between block mb-2 font-medium text-gray-300"},[b("span",null,[at("4 "),b("span",{class:"text-[#c03221]"},"*")])],-1)),Pl(b("input",{"onUpdate:modelValue":d[2]||(d[2]=m=>i.value=m),type:"text",inputmode:"numeric",pattern:"\\d{4}",maxlength:"4",placeholder:"0101 (11)",class:"w-full px-4 py-3 bg-gray-700 border border-gray-600 text-gray-100 placeholder-gray-400 rounded-lg focus:ring-2 focus:ring-[#f2d0a4] focus:border-transparent outline-none transition-all",disabled:ht(n),onInput:u,onKeyup:ef(c,["enter"])},null,40,vR),[[Ul,i.value]]),o.value?(Y(),et("div",ER,[...d[11]||(d[11]=[b("p",{class:"mb-1 font-medium"},"4",-1),b("ul",{class:"space-y-1 list-disc list-inside"},[b("li",null,"4"),b("li",null,"11  0101"),b("li",null,"1225  1225"),b("li",null,"4")],-1)])])):(Y(),et("p",wR," 4 "))]),ht(r)?(Y(),et("div",TR,[b("div",bR,[d[13]||(d[13]=b("svg",{class:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),b("span",null,Ft(ht(r)),1)])])):Me("",!0),b("button",{onClick:c,type:"button",class:"w-full px-6 py-3 bg-[#f2d0a4] text-gray-900 rounded-lg hover:bg-[#e5c394] transition-colors duration-200 disabled:bg-gray-600 disabled:text-gray-400 disabled:cursor-not-allowed font-medium text-lg shadow-md hover:shadow-lg",disabled:ht(n)||!s.value.trim()||i.value.length!==4},[ht(n)?(Y(),et("span",IR,[...d[14]||(d[14]=[b("svg",{class:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24"},[b("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),b("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),at(" ... ",-1)])])):(Y(),et("span",RR," / "))],8,AR),d[15]||(d[15]=Dc('<div class="pt-4 border-t border-gray-700"><div class="flex items-start gap-2 text-sm text-gray-300"><svg class="w-5 h-5 text-[#f2d0a4] flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><div><p class="mb-1 font-medium"></p><ul class="space-y-1 text-gray-400"><li> </li><li> 4</li><li> 4</li></ul></div></div></div>',1))])])]),(Y(),Fr(Ap,{to:"body"},[At(jo,{"enter-active-class":"transition-opacity duration-200","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-opacity duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:Yt(()=>[l.value?(Y(),et("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",onClick:d[5]||(d[5]=gv(m=>l.value=!1,["self"]))},[At(jo,{"enter-active-class":"transition-all duration-200","enter-from-class":"scale-95 opacity-0","enter-to-class":"scale-100 opacity-100","leave-active-class":"transition-all duration-200","leave-from-class":"scale-100 opacity-100","leave-to-class":"scale-95 opacity-0"},{default:Yt(()=>[l.value?(Y(),et("div",SR,[b("div",CR,[d[17]||(d[17]=b("h2",{class:"text-xl font-bold text-[#f2d0a4]"},"",-1)),b("button",{onClick:d[3]||(d[3]=m=>l.value=!1),class:"p-2 text-gray-400 transition-colors rounded-lg hover:text-[#f2d0a4] hover:bg-gray-700"},[...d[16]||(d[16]=[b("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),d[18]||(d[18]=b("div",{class:"p-6 space-y-6 overflow-y-auto max-h-[60vh]"},[b("div",null,[b("h3",{class:"flex items-center gap-2 mb-3 text-lg font-semibold text-[#f2d0a4]"},[b("span",{class:"flex items-center justify-center w-6 h-6 text-sm bg-[#f2d0a4] text-gray-900 rounded-full"},"1"),at("  ")]),b("div",{class:"mb-3 w-fit py-1 px-2 rounded-sm text-sm border bg-[#28464b]/30 border-[#28464b] text-gray-400"},[b("p",null,"2025/12/1 ")]),b("ul",{class:"space-y-2 text-sm text-gray-300"},[b("li",{class:"flex items-start gap-2"},[b("span",{class:"text-[#f2d0a4]"},""),at("  3-5  ")]),b("li",{class:"flex items-start gap-2"},[b("span",{class:"text-[#f2d0a4]"},""),at("  ")]),b("li",{class:"flex items-start gap-2"},[b("span",{class:"text-[#f2d0a4]"},""),at("  ")]),b("li",{class:"flex items-start gap-2"},[b("span",{class:"text-[#f2d0a4]"},""),at("  ")])])]),b("div",null,[b("h3",{class:"flex items-center gap-2 mb-3 text-lg font-semibold text-[#f2d0a4]"},[b("span",{class:"flex items-center justify-center w-6 h-6 text-sm bg-[#f2d0a4] text-gray-900 rounded-full"},"2"),at("  ")]),b("div",{class:"mb-3 w-fit py-1 px-2 rounded-sm text-sm border bg-[#28464b]/30 border-[#28464b] text-gray-400"},[b("p",null,"2025/12/1 ")]),b("ul",{class:"space-y-2 text-sm text-gray-300"},[b("li",{class:"flex items-start gap-2"},[b("span",{class:"text-[#f2d0a4]"},""),at("  3  ")]),b("li",{class:"flex items-start gap-2"},[b("span",{class:"text-[#f2d0a4]"},""),at("  ")]),b("li",{class:"flex items-start gap-2"},[b("span",{class:"text-[#f2d0a4]"},""),at("  2  ")]),b("li",{class:"flex items-start gap-2"},[b("span",{class:"text-[#f2d0a4]"},""),at("  ")])])])],-1)),b("div",xR,[b("button",{onClick:d[4]||(d[4]=m=>l.value=!1),class:"w-full px-6 py-3 font-medium text-gray-900 transition-colors rounded-lg bg-[#f2d0a4] hover:bg-[#e5c394]"},"  ")])])):Me("",!0)]),_:1})])):Me("",!0)]),_:1})]))]))}}),VR={class:"min-h-screen"},DR={key:0},kR={key:1},NR={key:0,class:"flex items-center justify-center min-h-screen"},OR={key:1},MR={key:0,class:"fixed p-4 bg-gray-800 border border-gray-700 shadow-2xl rounded-xl bottom-4 left-4"},LR={class:"text-lg font-bold text-[#f2d0a4]"},FR={key:2},UR=cn({__name:"App",setup(e){const{currentPhase:t,timeRemaining:n,loading:r,checkUserPhase:s}=g_(),{isLoggedIn:i,currentUser:o}=Yi();us([i,o],async([c,u])=>{c&&u&&await s(u.id)},{immediate:!0});const l=ce(()=>{if(!n.value)return"";const{days:c,hours:u,minutes:h}=n.value;return`${c} ${u} ${h}`});return(c,u)=>(Y(),et("div",VR,[u[2]||(u[2]=b("div",{class:"fixed inset-0 bg-gradient-to-b from-gray-800 to-gray-900 -z-50"},null,-1)),u[3]||(u[3]=b("div",{class:"fixed inset-0 bg-[url('/src/assets/boxbash-bg.png')] -z-10"},null,-1)),ht(i)?(Y(),et("div",kR,[ht(r)?(Y(),et("div",NR,[...u[0]||(u[0]=[b("div",{class:"text-center"},[b("div",{class:"inline-block w-16 h-16 mb-4 border-b-2 border-blue-600 rounded-full animate-spin"}),b("p",{class:"text-gray-600"},"...")],-1)])])):ht(t)===1?(Y(),et("div",OR,[At(QA),ht(n)?(Y(),et("div",MR,[u[1]||(u[1]=b("div",{class:"mb-1 text-sm text-gray-400"},"",-1)),b("div",LR,Ft(l.value),1)])):Me("",!0)])):(Y(),et("div",FR,[At(hR)]))])):(Y(),et("div",DR,[At(PR)]))]))}}),BR="modulepreload",$R=function(e){return"/boxbash-ac/"+e},bd={},jR=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(h=>Promise.resolve(h).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");s=c(n.map(u=>{if(u=$R(u),u in bd)return;bd[u]=!0;const h=u.endsWith(".css"),d=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":BR,h||(m.as="script"),m.crossOrigin="",m.href=u,l&&m.setAttribute("nonce",l),document.head.appendChild(m),h)return new Promise((g,C)=>{m.addEventListener("load",g),m.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};const ns=typeof document<"u";function y_(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function zR(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&y_(e.default)}const Vt=Object.assign;function wl(e,t){const n={};for(const r in t){const s=t[r];n[r]=ln(s)?s.map(e):e(s)}return n}const _i=()=>{},ln=Array.isArray;function Ad(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}const v_=/#/g,qR=/&/g,HR=/\//g,GR=/=/g,KR=/\?/g,E_=/\+/g,WR=/%5B/g,QR=/%5D/g,w_=/%5E/g,XR=/%60/g,T_=/%7B/g,YR=/%7C/g,b_=/%7D/g,JR=/%20/g;function Iu(e){return e==null?"":encodeURI(""+e).replace(YR,"|").replace(WR,"[").replace(QR,"]")}function ZR(e){return Iu(e).replace(T_,"{").replace(b_,"}").replace(w_,"^")}function uc(e){return Iu(e).replace(E_,"%2B").replace(JR,"+").replace(v_,"%23").replace(qR,"%26").replace(XR,"`").replace(T_,"{").replace(b_,"}").replace(w_,"^")}function t2(e){return uc(e).replace(GR,"%3D")}function e2(e){return Iu(e).replace(v_,"%23").replace(KR,"%3F")}function n2(e){return e2(e).replace(HR,"%2F")}function Ui(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const r2=/\/$/,s2=e=>e.replace(r2,"");function Tl(e,t,n="/"){let r,s={},i="",o="";const l=t.indexOf("#");let c=t.indexOf("?");return c=l>=0&&c>l?-1:c,c>=0&&(r=t.slice(0,c),i=t.slice(c,l>0?l:t.length),s=e(i.slice(1))),l>=0&&(r=r||t.slice(0,l),o=t.slice(l,t.length)),r=l2(r??t,n),{fullPath:r+i+o,path:r,query:s,hash:Ui(o)}}function i2(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Id(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function o2(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Es(t.matched[r],n.matched[s])&&A_(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Es(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function A_(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!a2(e[n],t[n]))return!1;return!0}function a2(e,t){return ln(e)?Rd(e,t):ln(t)?Rd(t,e):e===t}function Rd(e,t){return ln(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function l2(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,l;for(o=0;o<r.length;o++)if(l=r[o],l!==".")if(l==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const Kn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let hc=(function(e){return e.pop="pop",e.push="push",e})({}),bl=(function(e){return e.back="back",e.forward="forward",e.unknown="",e})({});function c2(e){if(!e)if(ns){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),s2(e)}const u2=/^[^#]+#/;function h2(e,t){return e.replace(u2,"#")+t}function f2(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const La=()=>({left:window.scrollX,top:window.scrollY});function d2(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=f2(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Sd(e,t){return(history.state?history.state.position-t:-1)+e}const fc=new Map;function p2(e,t){fc.set(e,t)}function m2(e){const t=fc.get(e);return fc.delete(e),t}function g2(e){return typeof e=="string"||e&&typeof e=="object"}function I_(e){return typeof e=="string"||typeof e=="symbol"}let Ht=(function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e})({});const R_=Symbol("");Ht.MATCHER_NOT_FOUND+"",Ht.NAVIGATION_GUARD_REDIRECT+"",Ht.NAVIGATION_ABORTED+"",Ht.NAVIGATION_CANCELLED+"",Ht.NAVIGATION_DUPLICATED+"";function ws(e,t){return Vt(new Error,{type:e,[R_]:!0},t)}function Rn(e,t){return e instanceof Error&&R_ in e&&(t==null||!!(e.type&t))}const _2=["params","query","hash"];function y2(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const n of _2)n in e&&(t[n]=e[n]);return JSON.stringify(t,null,2)}function v2(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<n.length;++r){const s=n[r].replace(E_," "),i=s.indexOf("="),o=Ui(i<0?s:s.slice(0,i)),l=i<0?null:Ui(s.slice(i+1));if(o in t){let c=t[o];ln(c)||(c=t[o]=[c]),c.push(l)}else t[o]=l}return t}function Cd(e){let t="";for(let n in e){const r=e[n];if(n=t2(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(ln(r)?r.map(s=>s&&uc(s)):[r&&uc(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function E2(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=ln(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const w2=Symbol(""),xd=Symbol(""),Ru=Symbol(""),S_=Symbol(""),dc=Symbol("");function Qs(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Xn(e,t,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((l,c)=>{const u=m=>{m===!1?c(ws(Ht.NAVIGATION_ABORTED,{from:n,to:t})):m instanceof Error?c(m):g2(m)?c(ws(Ht.NAVIGATION_GUARD_REDIRECT,{from:t,to:m})):(o&&r.enterCallbacks[s]===o&&typeof m=="function"&&o.push(m),l())},h=i(()=>e.call(r&&r.instances[s],t,n,u));let d=Promise.resolve(h);e.length<3&&(d=d.then(u)),d.catch(m=>c(m))})}function Al(e,t,n,r,s=i=>i()){const i=[];for(const o of e)for(const l in o.components){let c=o.components[l];if(!(t!=="beforeRouteEnter"&&!o.instances[l]))if(y_(c)){const u=(c.__vccOpts||c)[t];u&&i.push(Xn(u,n,r,o,l,s))}else{let u=c();i.push(()=>u.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${l}" at "${o.path}"`);const d=zR(h)?h.default:h;o.mods[l]=h,o.components[l]=d;const m=(d.__vccOpts||d)[t];return m&&Xn(m,n,r,o,l,s)()}))}}return i}function T2(e,t){const n=[],r=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const l=t.matched[o];l&&(e.matched.find(u=>Es(u,l))?r.push(l):n.push(l));const c=e.matched[o];c&&(t.matched.find(u=>Es(u,c))||s.push(c))}return[n,r,s]}let b2=()=>location.protocol+"//"+location.host;function C_(e,t){const{pathname:n,search:r,hash:s}=t,i=e.indexOf("#");if(i>-1){let o=s.includes(e.slice(i))?e.slice(i).length:1,l=s.slice(o);return l[0]!=="/"&&(l="/"+l),Id(l,"")}return Id(n,e)+r+s}function A2(e,t,n,r){let s=[],i=[],o=null;const l=({state:m})=>{const g=C_(e,location),C=n.value,x=t.value;let D=0;if(m){if(n.value=g,t.value=m,o&&o===C){o=null;return}D=x?m.position-x.position:0}else r(g);s.forEach(U=>{U(n.value,C,{delta:D,type:hc.pop,direction:D?D>0?bl.forward:bl.back:bl.unknown})})};function c(){o=n.value}function u(m){s.push(m);const g=()=>{const C=s.indexOf(m);C>-1&&s.splice(C,1)};return i.push(g),g}function h(){if(document.visibilityState==="hidden"){const{history:m}=window;if(!m.state)return;m.replaceState(Vt({},m.state,{scroll:La()}),"")}}function d(){for(const m of i)m();i=[],window.removeEventListener("popstate",l),window.removeEventListener("pagehide",h),document.removeEventListener("visibilitychange",h)}return window.addEventListener("popstate",l),window.addEventListener("pagehide",h),document.addEventListener("visibilitychange",h),{pauseListeners:c,listen:u,destroy:d}}function Pd(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?La():null}}function I2(e){const{history:t,location:n}=window,r={value:C_(e,n)},s={value:t.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(c,u,h){const d=e.indexOf("#"),m=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+c:b2()+e+c;try{t[h?"replaceState":"pushState"](u,"",m),s.value=u}catch(g){console.error(g),n[h?"replace":"assign"](m)}}function o(c,u){i(c,Vt({},t.state,Pd(s.value.back,c,s.value.forward,!0),u,{position:s.value.position}),!0),r.value=c}function l(c,u){const h=Vt({},s.value,t.state,{forward:c,scroll:La()});i(h.current,h,!0),i(c,Vt({},Pd(r.value,c,null),{position:h.position+1},u),!1),r.value=c}return{location:r,state:s,push:l,replace:o}}function R2(e){e=c2(e);const t=I2(e),n=A2(e,t.state,t.location,t.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=Vt({location:"",base:e,go:r,createHref:h2.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}let Nr=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e})({});var ne=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e})(ne||{});const S2={type:Nr.Static,value:""},C2=/[a-zA-Z0-9_]/;function x2(e){if(!e)return[[]];if(e==="/")return[[S2]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(g){throw new Error(`ERR (${n})/"${u}": ${g}`)}let n=ne.Static,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let l=0,c,u="",h="";function d(){u&&(n===ne.Static?i.push({type:Nr.Static,value:u}):n===ne.Param||n===ne.ParamRegExp||n===ne.ParamRegExpEnd?(i.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:Nr.Param,value:u,regexp:h,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),u="")}function m(){u+=c}for(;l<e.length;){if(c=e[l++],c==="\\"&&n!==ne.ParamRegExp){r=n,n=ne.EscapeNext;continue}switch(n){case ne.Static:c==="/"?(u&&d(),o()):c===":"?(d(),n=ne.Param):m();break;case ne.EscapeNext:m(),n=r;break;case ne.Param:c==="("?n=ne.ParamRegExp:C2.test(c)?m():(d(),n=ne.Static,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case ne.ParamRegExp:c===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+c:n=ne.ParamRegExpEnd:h+=c;break;case ne.ParamRegExpEnd:d(),n=ne.Static,c!=="*"&&c!=="?"&&c!=="+"&&l--,h="";break;default:t("Unknown state");break}}return n===ne.ParamRegExp&&t(`Unfinished custom RegExp for param "${u}"`),d(),o(),s}const Vd="[^/]+?",P2={sensitive:!1,strict:!1,start:!0,end:!0};var Ne=(function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e})(Ne||{});const V2=/[.+*?^${}()[\]/\\]/g;function D2(e,t){const n=Vt({},P2,t),r=[];let s=n.start?"^":"";const i=[];for(const u of e){const h=u.length?[]:[Ne.Root];n.strict&&!u.length&&(s+="/");for(let d=0;d<u.length;d++){const m=u[d];let g=Ne.Segment+(n.sensitive?Ne.BonusCaseSensitive:0);if(m.type===Nr.Static)d||(s+="/"),s+=m.value.replace(V2,"\\$&"),g+=Ne.Static;else if(m.type===Nr.Param){const{value:C,repeatable:x,optional:D,regexp:U}=m;i.push({name:C,repeatable:x,optional:D});const $=U||Vd;if($!==Vd){g+=Ne.BonusCustomRegExp;try{`${$}`}catch(q){throw new Error(`Invalid custom RegExp for param "${C}" (${$}): `+q.message)}}let j=x?`((?:${$})(?:/(?:${$}))*)`:`(${$})`;d||(j=D&&u.length<2?`(?:/${j})`:"/"+j),D&&(j+="?"),s+=j,g+=Ne.Dynamic,D&&(g+=Ne.BonusOptional),x&&(g+=Ne.BonusRepeatable),$===".*"&&(g+=Ne.BonusWildcard)}h.push(g)}r.push(h)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=Ne.BonusStrict}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function l(u){const h=u.match(o),d={};if(!h)return null;for(let m=1;m<h.length;m++){const g=h[m]||"",C=i[m-1];d[C.name]=g&&C.repeatable?g.split("/"):g}return d}function c(u){let h="",d=!1;for(const m of e){(!d||!h.endsWith("/"))&&(h+="/"),d=!1;for(const g of m)if(g.type===Nr.Static)h+=g.value;else if(g.type===Nr.Param){const{value:C,repeatable:x,optional:D}=g,U=C in u?u[C]:"";if(ln(U)&&!x)throw new Error(`Provided param "${C}" is an array but it is not repeatable (* or + modifiers)`);const $=ln(U)?U.join("/"):U;if(!$)if(D)m.length<2&&(h.endsWith("/")?h=h.slice(0,-1):d=!0);else throw new Error(`Missing required param "${C}"`);h+=$}}return h||"/"}return{re:o,score:r,keys:i,parse:l,stringify:c}}function k2(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===Ne.Static+Ne.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===Ne.Static+Ne.Segment?1:-1:0}function x_(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const i=k2(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(Dd(r))return 1;if(Dd(s))return-1}return s.length-r.length}function Dd(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const N2={strict:!1,end:!0,sensitive:!1};function O2(e,t,n){const r=D2(x2(e.path),n),s=Vt(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function M2(e,t){const n=[],r=new Map;t=Ad(N2,t);function s(d){return r.get(d)}function i(d,m,g){const C=!g,x=Nd(d);x.aliasOf=g&&g.record;const D=Ad(t,d),U=[x];if("alias"in d){const q=typeof d.alias=="string"?[d.alias]:d.alias;for(const nt of q)U.push(Nd(Vt({},x,{components:g?g.record.components:x.components,path:nt,aliasOf:g?g.record:x})))}let $,j;for(const q of U){const{path:nt}=q;if(m&&nt[0]!=="/"){const rt=m.record.path,R=rt[rt.length-1]==="/"?"":"/";q.path=m.record.path+(nt&&R+nt)}if($=O2(q,m,D),g?g.alias.push($):(j=j||$,j!==$&&j.alias.push($),C&&d.name&&!Od($)&&o(d.name)),P_($)&&c($),x.children){const rt=x.children;for(let R=0;R<rt.length;R++)i(rt[R],$,g&&g.children[R])}g=g||$}return j?()=>{o(j)}:_i}function o(d){if(I_(d)){const m=r.get(d);m&&(r.delete(d),n.splice(n.indexOf(m),1),m.children.forEach(o),m.alias.forEach(o))}else{const m=n.indexOf(d);m>-1&&(n.splice(m,1),d.record.name&&r.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function l(){return n}function c(d){const m=U2(d,n);n.splice(m,0,d),d.record.name&&!Od(d)&&r.set(d.record.name,d)}function u(d,m){let g,C={},x,D;if("name"in d&&d.name){if(g=r.get(d.name),!g)throw ws(Ht.MATCHER_NOT_FOUND,{location:d});D=g.record.name,C=Vt(kd(m.params,g.keys.filter(j=>!j.optional).concat(g.parent?g.parent.keys.filter(j=>j.optional):[]).map(j=>j.name)),d.params&&kd(d.params,g.keys.map(j=>j.name))),x=g.stringify(C)}else if(d.path!=null)x=d.path,g=n.find(j=>j.re.test(x)),g&&(C=g.parse(x),D=g.record.name);else{if(g=m.name?r.get(m.name):n.find(j=>j.re.test(m.path)),!g)throw ws(Ht.MATCHER_NOT_FOUND,{location:d,currentLocation:m});D=g.record.name,C=Vt({},m.params,d.params),x=g.stringify(C)}const U=[];let $=g;for(;$;)U.unshift($.record),$=$.parent;return{name:D,path:x,params:C,matched:U,meta:F2(U)}}e.forEach(d=>i(d));function h(){n.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:h,getRoutes:l,getRecordMatcher:s}}function kd(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Nd(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:L2(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function L2(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function Od(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function F2(e){return e.reduce((t,n)=>Vt(t,n.meta),{})}function U2(e,t){let n=0,r=t.length;for(;n!==r;){const i=n+r>>1;x_(e,t[i])<0?r=i:n=i+1}const s=B2(e);return s&&(r=t.lastIndexOf(s,r-1)),r}function B2(e){let t=e;for(;t=t.parent;)if(P_(t)&&x_(e,t)===0)return t}function P_({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Md(e){const t=Dn(Ru),n=Dn(S_),r=ce(()=>{const c=ht(e.to);return t.resolve(c)}),s=ce(()=>{const{matched:c}=r.value,{length:u}=c,h=c[u-1],d=n.matched;if(!h||!d.length)return-1;const m=d.findIndex(Es.bind(null,h));if(m>-1)return m;const g=Ld(c[u-2]);return u>1&&Ld(h)===g&&d[d.length-1].path!==g?d.findIndex(Es.bind(null,c[u-2])):m}),i=ce(()=>s.value>-1&&H2(n.params,r.value.params)),o=ce(()=>s.value>-1&&s.value===n.matched.length-1&&A_(n.params,r.value.params));function l(c={}){if(q2(c)){const u=t[ht(e.replace)?"replace":"push"](ht(e.to)).catch(_i);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:ce(()=>r.value.href),isActive:i,isExactActive:o,navigate:l}}function $2(e){return e.length===1?e[0]:e}const j2=cn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Md,setup(e,{slots:t}){const n=ua(Md(e)),{options:r}=Dn(Ru),s=ce(()=>({[Fd(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Fd(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&$2(t.default(n));return e.custom?i:Nc("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),z2=j2;function q2(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function H2(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!ln(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function Ld(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Fd=(e,t,n)=>e??t??n,G2=cn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Dn(dc),s=ce(()=>e.route||r.value),i=Dn(xd,0),o=ce(()=>{let u=ht(i);const{matched:h}=s.value;let d;for(;(d=h[u])&&!d.components;)u++;return u}),l=ce(()=>s.value.matched[o.value]);Ao(xd,ce(()=>o.value+1)),Ao(w2,l),Ao(dc,s);const c=xt();return us(()=>[c.value,l.value,e.name],([u,h,d],[m,g,C])=>{h&&(h.instances[d]=u,g&&g!==h&&u&&u===m&&(h.leaveGuards.size||(h.leaveGuards=g.leaveGuards),h.updateGuards.size||(h.updateGuards=g.updateGuards))),u&&h&&(!g||!Es(h,g)||!m)&&(h.enterCallbacks[d]||[]).forEach(x=>x(u))},{flush:"post"}),()=>{const u=s.value,h=e.name,d=l.value,m=d&&d.components[h];if(!m)return Ud(n.default,{Component:m,route:u});const g=d.props[h],C=g?g===!0?u.params:typeof g=="function"?g(u):g:null,D=Nc(m,Vt({},C,t,{onVnodeUnmounted:U=>{U.component.isUnmounted&&(d.instances[h]=null)},ref:c}));return Ud(n.default,{Component:D,route:u})||D}}});function Ud(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const K2=G2;function W2(e){const t=M2(e.routes,e),n=e.parseQuery||v2,r=e.stringifyQuery||Cd,s=e.history,i=Qs(),o=Qs(),l=Qs(),c=Py(Kn);let u=Kn;ns&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=wl.bind(null,M=>""+M),d=wl.bind(null,n2),m=wl.bind(null,Ui);function g(M,Z){let X,it;return I_(M)?(X=t.getRecordMatcher(M),it=Z):it=M,t.addRoute(it,X)}function C(M){const Z=t.getRecordMatcher(M);Z&&t.removeRoute(Z)}function x(){return t.getRoutes().map(M=>M.record)}function D(M){return!!t.getRecordMatcher(M)}function U(M,Z){if(Z=Vt({},Z||c.value),typeof M=="string"){const P=Tl(n,M,Z.path),L=t.resolve({path:P.path},Z),B=s.createHref(P.fullPath);return Vt(P,L,{params:m(L.params),hash:Ui(P.hash),redirectedFrom:void 0,href:B})}let X;if(M.path!=null)X=Vt({},M,{path:Tl(n,M.path,Z.path).path});else{const P=Vt({},M.params);for(const L in P)P[L]==null&&delete P[L];X=Vt({},M,{params:d(P)}),Z.params=d(Z.params)}const it=t.resolve(X,Z),yt=M.hash||"";it.params=h(m(it.params));const w=i2(r,Vt({},M,{hash:ZR(yt),path:it.path})),S=s.createHref(w);return Vt({fullPath:w,hash:yt,query:r===Cd?E2(M.query):M.query||{}},it,{redirectedFrom:void 0,href:S})}function $(M){return typeof M=="string"?Tl(n,M,c.value.path):Vt({},M)}function j(M,Z){if(u!==M)return ws(Ht.NAVIGATION_CANCELLED,{from:Z,to:M})}function q(M){return R(M)}function nt(M){return q(Vt($(M),{replace:!0}))}function rt(M,Z){const X=M.matched[M.matched.length-1];if(X&&X.redirect){const{redirect:it}=X;let yt=typeof it=="function"?it(M,Z):it;return typeof yt=="string"&&(yt=yt.includes("?")||yt.includes("#")?yt=$(yt):{path:yt},yt.params={}),Vt({query:M.query,hash:M.hash,params:yt.path!=null?{}:M.params},yt)}}function R(M,Z){const X=u=U(M),it=c.value,yt=M.state,w=M.force,S=M.replace===!0,P=rt(X,it);if(P)return R(Vt($(P),{state:typeof P=="object"?Vt({},yt,P.state):yt,force:w,replace:S}),Z||X);const L=X;L.redirectedFrom=Z;let B;return!w&&o2(r,it,X)&&(B=ws(Ht.NAVIGATION_DUPLICATED,{to:L,from:it}),ze(it,it,!0,!1)),(B?Promise.resolve(B):A(L,it)).catch(O=>Rn(O)?Rn(O,Ht.NAVIGATION_GUARD_REDIRECT)?O:un(O):wt(O,L,it)).then(O=>{if(O){if(Rn(O,Ht.NAVIGATION_GUARD_REDIRECT))return R(Vt({replace:S},$(O.to),{state:typeof O.to=="object"?Vt({},yt,O.to.state):yt,force:w}),Z||L)}else O=I(L,it,!0,S,yt);return T(L,it,O),O})}function v(M,Z){const X=j(M,Z);return X?Promise.reject(X):Promise.resolve()}function _(M){const Z=tn.values().next().value;return Z&&typeof Z.runWithContext=="function"?Z.runWithContext(M):M()}function A(M,Z){let X;const[it,yt,w]=T2(M,Z);X=Al(it.reverse(),"beforeRouteLeave",M,Z);for(const P of it)P.leaveGuards.forEach(L=>{X.push(Xn(L,M,Z))});const S=v.bind(null,M,Z);return X.push(S),Ee(X).then(()=>{X=[];for(const P of i.list())X.push(Xn(P,M,Z));return X.push(S),Ee(X)}).then(()=>{X=Al(yt,"beforeRouteUpdate",M,Z);for(const P of yt)P.updateGuards.forEach(L=>{X.push(Xn(L,M,Z))});return X.push(S),Ee(X)}).then(()=>{X=[];for(const P of w)if(P.beforeEnter)if(ln(P.beforeEnter))for(const L of P.beforeEnter)X.push(Xn(L,M,Z));else X.push(Xn(P.beforeEnter,M,Z));return X.push(S),Ee(X)}).then(()=>(M.matched.forEach(P=>P.enterCallbacks={}),X=Al(w,"beforeRouteEnter",M,Z,_),X.push(S),Ee(X))).then(()=>{X=[];for(const P of o.list())X.push(Xn(P,M,Z));return X.push(S),Ee(X)}).catch(P=>Rn(P,Ht.NAVIGATION_CANCELLED)?P:Promise.reject(P))}function T(M,Z,X){l.list().forEach(it=>_(()=>it(M,Z,X)))}function I(M,Z,X,it,yt){const w=j(M,Z);if(w)return w;const S=Z===Kn,P=ns?history.state:{};X&&(it||S?s.replace(M.fullPath,Vt({scroll:S&&P&&P.scroll},yt)):s.push(M.fullPath,yt)),c.value=M,ze(M,Z,X,S),un()}let E;function Rt(){E||(E=s.listen((M,Z,X)=>{if(!en.listening)return;const it=U(M),yt=rt(it,en.currentRoute.value);if(yt){R(Vt(yt,{replace:!0,force:!0}),it).catch(_i);return}u=it;const w=c.value;ns&&p2(Sd(w.fullPath,X.delta),La()),A(it,w).catch(S=>Rn(S,Ht.NAVIGATION_ABORTED|Ht.NAVIGATION_CANCELLED)?S:Rn(S,Ht.NAVIGATION_GUARD_REDIRECT)?(R(Vt($(S.to),{force:!0}),it).then(P=>{Rn(P,Ht.NAVIGATION_ABORTED|Ht.NAVIGATION_DUPLICATED)&&!X.delta&&X.type===hc.pop&&s.go(-1,!1)}).catch(_i),Promise.reject()):(X.delta&&s.go(-X.delta,!1),wt(S,it,w))).then(S=>{S=S||I(it,w,!1),S&&(X.delta&&!Rn(S,Ht.NAVIGATION_CANCELLED)?s.go(-X.delta,!1):X.type===hc.pop&&Rn(S,Ht.NAVIGATION_ABORTED|Ht.NAVIGATION_DUPLICATED)&&s.go(-1,!1)),T(it,w,S)}).catch(_i)}))}let Wt=Qs(),jt=Qs(),Pt;function wt(M,Z,X){un(M);const it=jt.list();return it.length?it.forEach(yt=>yt(M,Z,X)):console.error(M),Promise.reject(M)}function Be(){return Pt&&c.value!==Kn?Promise.resolve():new Promise((M,Z)=>{Wt.add([M,Z])})}function un(M){return Pt||(Pt=!M,Rt(),Wt.list().forEach(([Z,X])=>M?X(M):Z()),Wt.reset()),M}function ze(M,Z,X,it){const{scrollBehavior:yt}=e;if(!ns||!yt)return Promise.resolve();const w=!X&&m2(Sd(M.fullPath,0))||(it||!X)&&history.state&&history.state.scroll||null;return gp().then(()=>yt(M,Z,w)).then(S=>S&&d2(S)).catch(S=>wt(S,M,Z))}const de=M=>s.go(M);let bn;const tn=new Set,en={currentRoute:c,listening:!0,addRoute:g,removeRoute:C,clearRoutes:t.clearRoutes,hasRoute:D,getRoutes:x,resolve:U,options:e,push:q,replace:nt,go:de,back:()=>de(-1),forward:()=>de(1),beforeEach:i.add,beforeResolve:o.add,afterEach:l.add,onError:jt.add,isReady:Be,install(M){M.component("RouterLink",z2),M.component("RouterView",K2),M.config.globalProperties.$router=en,Object.defineProperty(M.config.globalProperties,"$route",{enumerable:!0,get:()=>ht(c)}),ns&&!bn&&c.value===Kn&&(bn=!0,q(s.location).catch(it=>{}));const Z={};for(const it in Kn)Object.defineProperty(Z,it,{get:()=>c.value[it],enumerable:!0});M.provide(Ru,en),M.provide(S_,hp(Z)),M.provide(dc,c);const X=M.unmount;tn.add(M),M.unmount=function(){tn.delete(M),tn.size<1&&(u=Kn,E&&E(),E=null,c.value=Kn,bn=!1,Pt=!1),X()}}};function Ee(M){return M.reduce((Z,X)=>Z.then(()=>_(X)),Promise.resolve())}return en}const xs=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},Q2={},X2={class:"item"},Y2={class:"details"};function J2(e,t){return Y(),et("div",X2,[b("i",null,[sl(e.$slots,"icon",{},void 0)]),b("div",Y2,[b("h3",null,[sl(e.$slots,"heading",{},void 0)]),sl(e.$slots,"default",{},void 0)])])}const Xs=xs(Q2,[["render",J2],["__scopeId","data-v-fd0742eb"]]),Z2={},tS={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"17",fill:"currentColor"};function eS(e,t){return Y(),et("svg",tS,[...t[0]||(t[0]=[b("path",{d:"M11 2.253a1 1 0 1 0-2 0h2zm-2 13a1 1 0 1 0 2 0H9zm.447-12.167a1 1 0 1 0 1.107-1.666L9.447 3.086zM1 2.253L.447 1.42A1 1 0 0 0 0 2.253h1zm0 13H0a1 1 0 0 0 1.553.833L1 15.253zm8.447.833a1 1 0 1 0 1.107-1.666l-1.107 1.666zm0-14.666a1 1 0 1 0 1.107 1.666L9.447 1.42zM19 2.253h1a1 1 0 0 0-.447-.833L19 2.253zm0 13l-.553.833A1 1 0 0 0 20 15.253h-1zm-9.553-.833a1 1 0 1 0 1.107 1.666L9.447 14.42zM9 2.253v13h2v-13H9zm1.553-.833C9.203.523 7.42 0 5.5 0v2c1.572 0 2.961.431 3.947 1.086l1.107-1.666zM5.5 0C3.58 0 1.797.523.447 1.42l1.107 1.666C2.539 2.431 3.928 2 5.5 2V0zM0 2.253v13h2v-13H0zm1.553 13.833C2.539 15.431 3.928 15 5.5 15v-2c-1.92 0-3.703.523-5.053 1.42l1.107 1.666zM5.5 15c1.572 0 2.961.431 3.947 1.086l1.107-1.666C9.203 13.523 7.42 13 5.5 13v2zm5.053-11.914C11.539 2.431 12.928 2 14.5 2V0c-1.92 0-3.703.523-5.053 1.42l1.107 1.666zM14.5 2c1.573 0 2.961.431 3.947 1.086l1.107-1.666C18.203.523 16.421 0 14.5 0v2zm3.5.253v13h2v-13h-2zm1.553 12.167C18.203 13.523 16.421 13 14.5 13v2c1.573 0 2.961.431 3.947 1.086l1.107-1.666zM14.5 13c-1.92 0-3.703.523-5.053 1.42l1.107 1.666C11.539 15.431 12.928 15 14.5 15v-2z"},null,-1)])])}const nS=xs(Z2,[["render",eS]]),rS={},sS={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",class:"iconify iconify--mdi",width:"24",height:"24",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"};function iS(e,t){return Y(),et("svg",sS,[...t[0]||(t[0]=[b("path",{d:"M20 18v-4h-3v1h-2v-1H9v1H7v-1H4v4h16M6.33 8l-1.74 4H7v-1h2v1h6v-1h2v1h2.41l-1.74-4H6.33M9 5v1h6V5H9m12.84 7.61c.1.22.16.48.16.8V18c0 .53-.21 1-.6 1.41c-.4.4-.85.59-1.4.59H4c-.55 0-1-.19-1.4-.59C2.21 19 2 18.53 2 18v-4.59c0-.32.06-.58.16-.8L4.5 7.22C4.84 6.41 5.45 6 6.33 6H7V5c0-.55.18-1 .57-1.41C7.96 3.2 8.44 3 9 3h6c.56 0 1.04.2 1.43.59c.39.41.57.86.57 1.41v1h.67c.88 0 1.49.41 1.83 1.22l2.34 5.39z",fill:"currentColor"},null,-1)])])}const oS=xs(rS,[["render",iS]]),aS={},lS={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"20",fill:"currentColor"};function cS(e,t){return Y(),et("svg",lS,[...t[0]||(t[0]=[b("path",{d:"M11.447 8.894a1 1 0 1 0-.894-1.789l.894 1.789zm-2.894-.789a1 1 0 1 0 .894 1.789l-.894-1.789zm0 1.789a1 1 0 1 0 .894-1.789l-.894 1.789zM7.447 7.106a1 1 0 1 0-.894 1.789l.894-1.789zM10 9a1 1 0 1 0-2 0h2zm-2 2.5a1 1 0 1 0 2 0H8zm9.447-5.606a1 1 0 1 0-.894-1.789l.894 1.789zm-2.894-.789a1 1 0 1 0 .894 1.789l-.894-1.789zm2 .789a1 1 0 1 0 .894-1.789l-.894 1.789zm-1.106-2.789a1 1 0 1 0-.894 1.789l.894-1.789zM18 5a1 1 0 1 0-2 0h2zm-2 2.5a1 1 0 1 0 2 0h-2zm-5.447-4.606a1 1 0 1 0 .894-1.789l-.894 1.789zM9 1l.447-.894a1 1 0 0 0-.894 0L9 1zm-2.447.106a1 1 0 1 0 .894 1.789l-.894-1.789zm-6 3a1 1 0 1 0 .894 1.789L.553 4.106zm2.894.789a1 1 0 1 0-.894-1.789l.894 1.789zm-2-.789a1 1 0 1 0-.894 1.789l.894-1.789zm1.106 2.789a1 1 0 1 0 .894-1.789l-.894 1.789zM2 5a1 1 0 1 0-2 0h2zM0 7.5a1 1 0 1 0 2 0H0zm8.553 12.394a1 1 0 1 0 .894-1.789l-.894 1.789zm-1.106-2.789a1 1 0 1 0-.894 1.789l.894-1.789zm1.106 1a1 1 0 1 0 .894 1.789l-.894-1.789zm2.894.789a1 1 0 1 0-.894-1.789l.894 1.789zM8 19a1 1 0 1 0 2 0H8zm2-2.5a1 1 0 1 0-2 0h2zm-7.447.394a1 1 0 1 0 .894-1.789l-.894 1.789zM1 15H0a1 1 0 0 0 .553.894L1 15zm1-2.5a1 1 0 1 0-2 0h2zm12.553 2.606a1 1 0 1 0 .894 1.789l-.894-1.789zM17 15l.447.894A1 1 0 0 0 18 15h-1zm1-2.5a1 1 0 1 0-2 0h2zm-7.447-5.394l-2 1 .894 1.789 2-1-.894-1.789zm-1.106 1l-2-1-.894 1.789 2 1 .894-1.789zM8 9v2.5h2V9H8zm8.553-4.894l-2 1 .894 1.789 2-1-.894-1.789zm.894 0l-2-1-.894 1.789 2 1 .894-1.789zM16 5v2.5h2V5h-2zm-4.553-3.894l-2-1-.894 1.789 2 1 .894-1.789zm-2.894-1l-2 1 .894 1.789 2-1L8.553.106zM1.447 5.894l2-1-.894-1.789-2 1 .894 1.789zm-.894 0l2 1 .894-1.789-2-1-.894 1.789zM0 5v2.5h2V5H0zm9.447 13.106l-2-1-.894 1.789 2 1 .894-1.789zm0 1.789l2-1-.894-1.789-2 1 .894 1.789zM10 19v-2.5H8V19h2zm-6.553-3.894l-2-1-.894 1.789 2 1 .894-1.789zM2 15v-2.5H0V15h2zm13.447 1.894l2-1-.894-1.789-2 1 .894 1.789zM18 15v-2.5h-2V15h2z"},null,-1)])])}const uS=xs(aS,[["render",cS]]),hS={},fS={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor"};function dS(e,t){return Y(),et("svg",fS,[...t[0]||(t[0]=[b("path",{d:"M15 4a1 1 0 1 0 0 2V4zm0 11v-1a1 1 0 0 0-1 1h1zm0 4l-.707.707A1 1 0 0 0 16 19h-1zm-4-4l.707-.707A1 1 0 0 0 11 14v1zm-4.707-1.293a1 1 0 0 0-1.414 1.414l1.414-1.414zm-.707.707l-.707-.707.707.707zM9 11v-1a1 1 0 0 0-.707.293L9 11zm-4 0h1a1 1 0 0 0-1-1v1zm0 4H4a1 1 0 0 0 1.707.707L5 15zm10-9h2V4h-2v2zm2 0a1 1 0 0 1 1 1h2a3 3 0 0 0-3-3v2zm1 1v6h2V7h-2zm0 6a1 1 0 0 1-1 1v2a3 3 0 0 0 3-3h-2zm-1 1h-2v2h2v-2zm-3 1v4h2v-4h-2zm1.707 3.293l-4-4-1.414 1.414 4 4 1.414-1.414zM11 14H7v2h4v-2zm-4 0c-.276 0-.525-.111-.707-.293l-1.414 1.414C5.42 15.663 6.172 16 7 16v-2zm-.707 1.121l3.414-3.414-1.414-1.414-3.414 3.414 1.414 1.414zM9 12h4v-2H9v2zm4 0a3 3 0 0 0 3-3h-2a1 1 0 0 1-1 1v2zm3-3V3h-2v6h2zm0-6a3 3 0 0 0-3-3v2a1 1 0 0 1 1 1h2zm-3-3H3v2h10V0zM3 0a3 3 0 0 0-3 3h2a1 1 0 0 1 1-1V0zM0 3v6h2V3H0zm0 6a3 3 0 0 0 3 3v-2a1 1 0 0 1-1-1H0zm3 3h2v-2H3v2zm1-1v4h2v-4H4zm1.707 4.707l.586-.586-1.414-1.414-.586.586 1.414 1.414z"},null,-1)])])}const pS=xs(hS,[["render",dS]]),mS={},gS={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor"};function _S(e,t){return Y(),et("svg",gS,[...t[0]||(t[0]=[b("path",{d:"M10 3.22l-.61-.6a5.5 5.5 0 0 0-7.666.105 5.5 5.5 0 0 0-.114 7.665L10 18.78l8.39-8.4a5.5 5.5 0 0 0-.114-7.665 5.5 5.5 0 0 0-7.666-.105l-.61.61z"},null,-1)])])}const yS=xs(mS,[["render",_S]]),vS=cn({__name:"TheWelcome",setup(e){const t=()=>fetch("/__open-in-editor?file=README.md");return(n,r)=>(Y(),et(re,null,[At(Xs,null,{icon:Yt(()=>[At(nS)]),heading:Yt(()=>[...r[0]||(r[0]=[at("Documentation",-1)])]),default:Yt(()=>[r[1]||(r[1]=at(" Vues ",-1)),r[2]||(r[2]=b("a",{href:"https://vuejs.org/",target:"_blank",rel:"noopener"},"official documentation",-1)),r[3]||(r[3]=at(" provides you with all information you need to get started. ",-1))]),_:1}),At(Xs,null,{icon:Yt(()=>[At(oS)]),heading:Yt(()=>[...r[4]||(r[4]=[at("Tooling",-1)])]),default:Yt(()=>[r[6]||(r[6]=at(" This project is served and bundled with ",-1)),r[7]||(r[7]=b("a",{href:"https://vite.dev/guide/features.html",target:"_blank",rel:"noopener"},"Vite",-1)),r[8]||(r[8]=at(". The recommended IDE setup is ",-1)),r[9]||(r[9]=b("a",{href:"https://code.visualstudio.com/",target:"_blank",rel:"noopener"},"VSCode",-1)),r[10]||(r[10]=at(" + ",-1)),r[11]||(r[11]=b("a",{href:"https://github.com/vuejs/language-tools",target:"_blank",rel:"noopener"},"Vue - Official",-1)),r[12]||(r[12]=at(". If you need to test your components and web pages, check out ",-1)),r[13]||(r[13]=b("a",{href:"https://vitest.dev/",target:"_blank",rel:"noopener"},"Vitest",-1)),r[14]||(r[14]=at(" and ",-1)),r[15]||(r[15]=b("a",{href:"https://www.cypress.io/",target:"_blank",rel:"noopener"},"Cypress",-1)),r[16]||(r[16]=at(" / ",-1)),r[17]||(r[17]=b("a",{href:"https://playwright.dev/",target:"_blank",rel:"noopener"},"Playwright",-1)),r[18]||(r[18]=at(". ",-1)),r[19]||(r[19]=b("br",null,null,-1)),r[20]||(r[20]=at(" More instructions are available in ",-1)),b("a",{href:"javascript:void(0)",onClick:t},[...r[5]||(r[5]=[b("code",null,"README.md",-1)])]),r[21]||(r[21]=at(". ",-1))]),_:1}),At(Xs,null,{icon:Yt(()=>[At(uS)]),heading:Yt(()=>[...r[22]||(r[22]=[at("Ecosystem",-1)])]),default:Yt(()=>[r[23]||(r[23]=at(" Get official tools and libraries for your project: ",-1)),r[24]||(r[24]=b("a",{href:"https://pinia.vuejs.org/",target:"_blank",rel:"noopener"},"Pinia",-1)),r[25]||(r[25]=at(", ",-1)),r[26]||(r[26]=b("a",{href:"https://router.vuejs.org/",target:"_blank",rel:"noopener"},"Vue Router",-1)),r[27]||(r[27]=at(", ",-1)),r[28]||(r[28]=b("a",{href:"https://test-utils.vuejs.org/",target:"_blank",rel:"noopener"},"Vue Test Utils",-1)),r[29]||(r[29]=at(", and ",-1)),r[30]||(r[30]=b("a",{href:"https://github.com/vuejs/devtools",target:"_blank",rel:"noopener"},"Vue Dev Tools",-1)),r[31]||(r[31]=at(". If you need more resources, we suggest paying ",-1)),r[32]||(r[32]=b("a",{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"},"Awesome Vue",-1)),r[33]||(r[33]=at(" a visit. ",-1))]),_:1}),At(Xs,null,{icon:Yt(()=>[At(pS)]),heading:Yt(()=>[...r[34]||(r[34]=[at("Community",-1)])]),default:Yt(()=>[r[35]||(r[35]=at(" Got stuck? Ask your question on ",-1)),r[36]||(r[36]=b("a",{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"},"Vue Land",-1)),r[37]||(r[37]=at(" (our official Discord server), or ",-1)),r[38]||(r[38]=b("a",{href:"https://stackoverflow.com/questions/tagged/vue.js",target:"_blank",rel:"noopener"},"StackOverflow",-1)),r[39]||(r[39]=at(". You should also follow the official ",-1)),r[40]||(r[40]=b("a",{href:"https://bsky.app/profile/vuejs.org",target:"_blank",rel:"noopener"},"@vuejs.org",-1)),r[41]||(r[41]=at(" Bluesky account or the ",-1)),r[42]||(r[42]=b("a",{href:"https://x.com/vuejs",target:"_blank",rel:"noopener"},"@vuejs",-1)),r[43]||(r[43]=at(" X account for latest news in the Vue world. ",-1))]),_:1}),At(Xs,null,{icon:Yt(()=>[At(yS)]),heading:Yt(()=>[...r[44]||(r[44]=[at("Support Vue",-1)])]),default:Yt(()=>[r[45]||(r[45]=at(" As an independent project, Vue relies on community backing for its sustainability. You can help us by ",-1)),r[46]||(r[46]=b("a",{href:"https://vuejs.org/sponsor/",target:"_blank",rel:"noopener"},"becoming a sponsor",-1)),r[47]||(r[47]=at(". ",-1))]),_:1})],64))}}),ES=cn({__name:"HomeView",setup(e){return(t,n)=>(Y(),et("main",null,[At(vS)]))}}),wS=W2({history:R2("/boxbash-ac/"),routes:[{path:"/",name:"home",component:ES},{path:"/about",name:"about",component:()=>jR(()=>import("./AboutView-4977qw6u.js"),__vite__mapDeps([0,1]))}]}),Su=Ev(UR);Su.use(Av());Su.use(wS);Su.mount("#app");export{xs as _,b as a,et as c,Y as o};
