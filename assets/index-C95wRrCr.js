const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AboutView-KQ9EKdng.js","assets/AboutView-DhlS7raN.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function dc(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Mt={},ss=[],_n=()=>{},Bd=()=>!1,sa=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),pc=e=>e.startsWith("onUpdate:"),ce=Object.assign,mc=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Y_=Object.prototype.hasOwnProperty,Dt=(e,t)=>Y_.call(e,t),dt=Array.isArray,is=e=>ia(e)==="[object Map]",$d=e=>ia(e)==="[object Set]",mt=e=>typeof e=="function",Kt=e=>typeof e=="string",Ln=e=>typeof e=="symbol",Ut=e=>e!==null&&typeof e=="object",jd=e=>(Ut(e)||mt(e))&&mt(e.then)&&mt(e.catch),zd=Object.prototype.toString,ia=e=>zd.call(e),J_=e=>ia(e).slice(8,-1),qd=e=>ia(e)==="[object Object]",gc=e=>Kt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ni=dc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),oa=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},Z_=/-\w/g,ir=oa(e=>e.replace(Z_,t=>t.slice(1).toUpperCase())),ty=/\B([A-Z])/g,mr=oa(e=>e.replace(ty,"-$1").toLowerCase()),Hd=oa(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ya=oa(e=>e?`on${Hd(e)}`:""),Jn=(e,t)=>!Object.is(e,t),wo=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Gd=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},_c=e=>{const t=parseFloat(e);return isNaN(t)?e:t},ey=e=>{const t=Kt(e)?Number(e):NaN;return isNaN(t)?e:t};let gh;const aa=()=>gh||(gh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function yc(e){if(dt(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=Kt(r)?iy(r):yc(r);if(s)for(const i in s)t[i]=s[i]}return t}else if(Kt(e)||Ut(e))return e}const ny=/;(?![^(]*\))/g,ry=/:([^]+)/,sy=/\/\*[^]*?\*\//g;function iy(e){const t={};return e.replace(sy,"").split(ny).forEach(n=>{if(n){const r=n.split(ry);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function yi(e){let t="";if(Kt(e))t=e;else if(dt(e))for(let n=0;n<e.length;n++){const r=yi(e[n]);r&&(t+=r+" ")}else if(Ut(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const oy="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ay=dc(oy);function Kd(e){return!!e||e===""}const Wd=e=>!!(e&&e.__v_isRef===!0),Ft=e=>Kt(e)?e:e==null?"":dt(e)||Ut(e)&&(e.toString===zd||!mt(e.toString))?Wd(e)?Ft(e.value):JSON.stringify(e,Qd,2):String(e),Qd=(e,t)=>Wd(t)?Qd(e,t.value):is(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],i)=>(n[Ja(r,i)+" =>"]=s,n),{})}:$d(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Ja(n))}:Ln(t)?Ja(t):Ut(t)&&!dt(t)&&!qd(t)?String(t):t,Ja=(e,t="")=>{var n;return Ln(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};let $e;class Xd{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=$e,!t&&$e&&(this.index=($e.scopes||($e.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=$e;try{return $e=this,t()}finally{$e=n}}}on(){++this._on===1&&(this.prevScope=$e,$e=this)}off(){this._on>0&&--this._on===0&&($e=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function ly(e){return new Xd(e)}function cy(){return $e}let Lt;const Za=new WeakSet;class Yd{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,$e&&$e.active&&$e.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Za.has(this)&&(Za.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Zd(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,_h(this),tp(this);const t=Lt,n=rn;Lt=this,rn=!0;try{return this.fn()}finally{ep(this),Lt=t,rn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)wc(t);this.deps=this.depsTail=void 0,_h(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Za.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Al(this)&&this.run()}get dirty(){return Al(this)}}let Jd=0,ri,si;function Zd(e,t=!1){if(e.flags|=8,t){e.next=si,si=e;return}e.next=ri,ri=e}function vc(){Jd++}function Ec(){if(--Jd>0)return;if(si){let t=si;for(si=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;ri;){let t=ri;for(ri=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function tp(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function ep(e){let t,n=e.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),wc(r),uy(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}e.deps=t,e.depsTail=n}function Al(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(np(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function np(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===vi)||(e.globalVersion=vi,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Al(e))))return;e.flags|=2;const t=e.dep,n=Lt,r=rn;Lt=e,rn=!0;try{tp(e);const s=e.fn(e._value);(t.version===0||Jn(s,e._value))&&(e.flags|=128,e._value=s,t.version++)}catch(s){throw t.version++,s}finally{Lt=n,rn=r,ep(e),e.flags&=-3}}function wc(e,t=!1){const{dep:n,prevSub:r,nextSub:s}=e;if(r&&(r.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)wc(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function uy(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let rn=!0;const rp=[];function Dn(){rp.push(rn),rn=!1}function kn(){const e=rp.pop();rn=e===void 0?!0:e}function _h(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Lt;Lt=void 0;try{t()}finally{Lt=n}}}let vi=0;class hy{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Tc{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Lt||!rn||Lt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Lt)n=this.activeLink=new hy(Lt,this),Lt.deps?(n.prevDep=Lt.depsTail,Lt.depsTail.nextDep=n,Lt.depsTail=n):Lt.deps=Lt.depsTail=n,sp(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Lt.depsTail,n.nextDep=void 0,Lt.depsTail.nextDep=n,Lt.depsTail=n,Lt.deps===n&&(Lt.deps=r)}return n}trigger(t){this.version++,vi++,this.notify(t)}notify(t){vc();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Ec()}}}function sp(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)sp(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Il=new WeakMap,Or=Symbol(""),Rl=Symbol(""),Ei=Symbol("");function Ie(e,t,n){if(rn&&Lt){let r=Il.get(e);r||Il.set(e,r=new Map);let s=r.get(n);s||(r.set(n,s=new Tc),s.map=r,s.key=n),s.track()}}function xn(e,t,n,r,s,i){const o=Il.get(e);if(!o){vi++;return}const l=c=>{c&&c.trigger()};if(vc(),t==="clear")o.forEach(l);else{const c=dt(e),u=c&&gc(n);if(c&&n==="length"){const h=Number(r);o.forEach((d,m)=>{(m==="length"||m===Ei||!Ln(m)&&m>=h)&&l(d)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),u&&l(o.get(Ei)),t){case"add":c?u&&l(o.get("length")):(l(o.get(Or)),is(e)&&l(o.get(Rl)));break;case"delete":c||(l(o.get(Or)),is(e)&&l(o.get(Rl)));break;case"set":is(e)&&l(o.get(Or));break}}Ec()}function Qr(e){const t=Ct(e);return t===e?t:(Ie(t,"iterate",Ei),Je(e)?t:t.map(ge))}function la(e){return Ie(e=Ct(e),"iterate",Ei),e}const fy={__proto__:null,[Symbol.iterator](){return tl(this,Symbol.iterator,ge)},concat(...e){return Qr(this).concat(...e.map(t=>dt(t)?Qr(t):t))},entries(){return tl(this,"entries",e=>(e[1]=ge(e[1]),e))},every(e,t){return An(this,"every",e,t,void 0,arguments)},filter(e,t){return An(this,"filter",e,t,n=>n.map(ge),arguments)},find(e,t){return An(this,"find",e,t,ge,arguments)},findIndex(e,t){return An(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return An(this,"findLast",e,t,ge,arguments)},findLastIndex(e,t){return An(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return An(this,"forEach",e,t,void 0,arguments)},includes(...e){return el(this,"includes",e)},indexOf(...e){return el(this,"indexOf",e)},join(e){return Qr(this).join(e)},lastIndexOf(...e){return el(this,"lastIndexOf",e)},map(e,t){return An(this,"map",e,t,void 0,arguments)},pop(){return Hs(this,"pop")},push(...e){return Hs(this,"push",e)},reduce(e,...t){return yh(this,"reduce",e,t)},reduceRight(e,...t){return yh(this,"reduceRight",e,t)},shift(){return Hs(this,"shift")},some(e,t){return An(this,"some",e,t,void 0,arguments)},splice(...e){return Hs(this,"splice",e)},toReversed(){return Qr(this).toReversed()},toSorted(e){return Qr(this).toSorted(e)},toSpliced(...e){return Qr(this).toSpliced(...e)},unshift(...e){return Hs(this,"unshift",e)},values(){return tl(this,"values",ge)}};function tl(e,t,n){const r=la(e),s=r[t]();return r!==e&&!Je(e)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.done||(i.value=n(i.value)),i}),s}const dy=Array.prototype;function An(e,t,n,r,s,i){const o=la(e),l=o!==e&&!Je(e),c=o[t];if(c!==dy[t]){const d=c.apply(e,i);return l?ge(d):d}let u=n;o!==e&&(l?u=function(d,m){return n.call(this,ge(d),m,e)}:n.length>2&&(u=function(d,m){return n.call(this,d,m,e)}));const h=c.call(o,u,r);return l&&s?s(h):h}function yh(e,t,n,r){const s=la(e);let i=n;return s!==e&&(Je(e)?n.length>3&&(i=function(o,l,c){return n.call(this,o,l,c,e)}):i=function(o,l,c){return n.call(this,o,ge(l),c,e)}),s[t](i,...r)}function el(e,t,n){const r=Ct(e);Ie(r,"iterate",Ei);const s=r[t](...n);return(s===-1||s===!1)&&Ic(n[0])?(n[0]=Ct(n[0]),r[t](...n)):s}function Hs(e,t,n=[]){Dn(),vc();const r=Ct(e)[t].apply(e,n);return Ec(),kn(),r}const py=dc("__proto__,__v_isRef,__isVue"),ip=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ln));function my(e){Ln(e)||(e=String(e));const t=Ct(this);return Ie(t,"has",e),t.hasOwnProperty(e)}class op{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?Iy:up:i?cp:lp).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=dt(t);if(!s){let c;if(o&&(c=fy[n]))return c;if(n==="hasOwnProperty")return my}const l=Reflect.get(t,n,Ce(t)?t:r);if((Ln(n)?ip.has(n):py(n))||(s||Ie(t,"get",n),i))return l;if(Ce(l)){const c=o&&gc(n)?l:l.value;return s&&Ut(c)?Cl(c):c}return Ut(l)?s?Cl(l):ca(l):l}}class ap extends op{constructor(t=!1){super(!1,t)}set(t,n,r,s){let i=t[n];if(!this._isShallow){const c=or(i);if(!Je(r)&&!or(r)&&(i=Ct(i),r=Ct(r)),!dt(t)&&Ce(i)&&!Ce(r))return c||(i.value=r),!0}const o=dt(t)&&gc(n)?Number(n)<t.length:Dt(t,n),l=Reflect.set(t,n,r,Ce(t)?t:s);return t===Ct(s)&&(o?Jn(r,i)&&xn(t,"set",n,r):xn(t,"add",n,r)),l}deleteProperty(t,n){const r=Dt(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&xn(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!Ln(n)||!ip.has(n))&&Ie(t,"has",n),r}ownKeys(t){return Ie(t,"iterate",dt(t)?"length":Or),Reflect.ownKeys(t)}}class gy extends op{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const _y=new ap,yy=new gy,vy=new ap(!0);const Sl=e=>e,ao=e=>Reflect.getPrototypeOf(e);function Ey(e,t,n){return function(...r){const s=this.__v_raw,i=Ct(s),o=is(i),l=e==="entries"||e===Symbol.iterator&&o,c=e==="keys"&&o,u=s[e](...r),h=n?Sl:t?ko:ge;return!t&&Ie(i,"iterate",c?Rl:Or),{next(){const{value:d,done:m}=u.next();return m?{value:d,done:m}:{value:l?[h(d[0]),h(d[1])]:h(d),done:m}},[Symbol.iterator](){return this}}}}function lo(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function wy(e,t){const n={get(s){const i=this.__v_raw,o=Ct(i),l=Ct(s);e||(Jn(s,l)&&Ie(o,"get",s),Ie(o,"get",l));const{has:c}=ao(o),u=t?Sl:e?ko:ge;if(c.call(o,s))return u(i.get(s));if(c.call(o,l))return u(i.get(l));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!e&&Ie(Ct(s),"iterate",Or),s.size},has(s){const i=this.__v_raw,o=Ct(i),l=Ct(s);return e||(Jn(s,l)&&Ie(o,"has",s),Ie(o,"has",l)),s===l?i.has(s):i.has(s)||i.has(l)},forEach(s,i){const o=this,l=o.__v_raw,c=Ct(l),u=t?Sl:e?ko:ge;return!e&&Ie(c,"iterate",Or),l.forEach((h,d)=>s.call(i,u(h),u(d),o))}};return ce(n,e?{add:lo("add"),set:lo("set"),delete:lo("delete"),clear:lo("clear")}:{add(s){!t&&!Je(s)&&!or(s)&&(s=Ct(s));const i=Ct(this);return ao(i).has.call(i,s)||(i.add(s),xn(i,"add",s,s)),this},set(s,i){!t&&!Je(i)&&!or(i)&&(i=Ct(i));const o=Ct(this),{has:l,get:c}=ao(o);let u=l.call(o,s);u||(s=Ct(s),u=l.call(o,s));const h=c.call(o,s);return o.set(s,i),u?Jn(i,h)&&xn(o,"set",s,i):xn(o,"add",s,i),this},delete(s){const i=Ct(this),{has:o,get:l}=ao(i);let c=o.call(i,s);c||(s=Ct(s),c=o.call(i,s)),l&&l.call(i,s);const u=i.delete(s);return c&&xn(i,"delete",s,void 0),u},clear(){const s=Ct(this),i=s.size!==0,o=s.clear();return i&&xn(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=Ey(s,e,t)}),n}function bc(e,t){const n=wy(e,t);return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(Dt(n,s)&&s in r?n:r,s,i)}const Ty={get:bc(!1,!1)},by={get:bc(!1,!0)},Ay={get:bc(!0,!1)};const lp=new WeakMap,cp=new WeakMap,up=new WeakMap,Iy=new WeakMap;function Ry(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Sy(e){return e.__v_skip||!Object.isExtensible(e)?0:Ry(J_(e))}function ca(e){return or(e)?e:Ac(e,!1,_y,Ty,lp)}function hp(e){return Ac(e,!1,vy,by,cp)}function Cl(e){return Ac(e,!0,yy,Ay,up)}function Ac(e,t,n,r,s){if(!Ut(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=Sy(e);if(i===0)return e;const o=s.get(e);if(o)return o;const l=new Proxy(e,i===2?r:n);return s.set(e,l),l}function os(e){return or(e)?os(e.__v_raw):!!(e&&e.__v_isReactive)}function or(e){return!!(e&&e.__v_isReadonly)}function Je(e){return!!(e&&e.__v_isShallow)}function Ic(e){return e?!!e.__v_raw:!1}function Ct(e){const t=e&&e.__v_raw;return t?Ct(t):e}function fp(e){return!Dt(e,"__v_skip")&&Object.isExtensible(e)&&Gd(e,"__v_skip",!0),e}const ge=e=>Ut(e)?ca(e):e,ko=e=>Ut(e)?Cl(e):e;function Ce(e){return e?e.__v_isRef===!0:!1}function xt(e){return dp(e,!1)}function Cy(e){return dp(e,!0)}function dp(e,t){return Ce(e)?e:new xy(e,t)}class xy{constructor(t,n){this.dep=new Tc,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Ct(t),this._value=n?t:ge(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Je(t)||or(t);t=r?t:Ct(t),Jn(t,n)&&(this._rawValue=t,this._value=r?t:ge(t),this.dep.trigger())}}function ht(e){return Ce(e)?e.value:e}const Py={get:(e,t,n)=>t==="__v_raw"?e:ht(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return Ce(s)&&!Ce(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function pp(e){return os(e)?e:new Proxy(e,Py)}class Vy{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Tc(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=vi-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Lt!==this)return Zd(this,!0),!0}get value(){const t=this.dep.track();return np(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Dy(e,t,n=!1){let r,s;return mt(e)?r=e:(r=e.get,s=e.set),new Vy(r,s,n)}const co={},No=new WeakMap;let Cr;function ky(e,t=!1,n=Cr){if(n){let r=No.get(n);r||No.set(n,r=[]),r.push(e)}}function Ny(e,t,n=Mt){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:l,call:c}=n,u=q=>s?q:Je(q)||s===!1||s===0?Pn(q,1):Pn(q);let h,d,m,_,C=!1,x=!1;if(Ce(e)?(d=()=>e.value,C=Je(e)):os(e)?(d=()=>u(e),C=!0):dt(e)?(x=!0,C=e.some(q=>os(q)||Je(q)),d=()=>e.map(q=>{if(Ce(q))return q.value;if(os(q))return u(q);if(mt(q))return c?c(q,2):q()})):mt(e)?t?d=c?()=>c(e,2):e:d=()=>{if(m){Dn();try{m()}finally{kn()}}const q=Cr;Cr=h;try{return c?c(e,3,[_]):e(_)}finally{Cr=q}}:d=_n,t&&s){const q=d,rt=s===!0?1/0:s;d=()=>Pn(q(),rt)}const D=cy(),F=()=>{h.stop(),D&&D.active&&mc(D.effects,h)};if(i&&t){const q=t;t=(...rt)=>{q(...rt),F()}}let $=x?new Array(e.length).fill(co):co;const z=q=>{if(!(!(h.flags&1)||!h.dirty&&!q))if(t){const rt=h.run();if(s||C||(x?rt.some((K,E)=>Jn(K,$[E])):Jn(rt,$))){m&&m();const K=Cr;Cr=h;try{const E=[rt,$===co?void 0:x&&$[0]===co?[]:$,_];$=rt,c?c(t,3,E):t(...E)}finally{Cr=K}}}else h.run()};return l&&l(z),h=new Yd(d),h.scheduler=o?()=>o(z,!1):z,_=q=>ky(q,!1,h),m=h.onStop=()=>{const q=No.get(h);if(q){if(c)c(q,4);else for(const rt of q)rt();No.delete(h)}},t?r?z(!0):$=h.run():o?o(z.bind(null,!0),!0):h.run(),F.pause=h.pause.bind(h),F.resume=h.resume.bind(h),F.stop=F,F}function Pn(e,t=1/0,n){if(t<=0||!Ut(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,Ce(e))Pn(e.value,t,n);else if(dt(e))for(let r=0;r<e.length;r++)Pn(e[r],t,n);else if($d(e)||is(e))e.forEach(r=>{Pn(r,t,n)});else if(qd(e)){for(const r in e)Pn(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Pn(e[r],t,n)}return e}function Ui(e,t,n,r){try{return r?e(...r):e()}catch(s){ua(s,t,n)}}function sn(e,t,n,r){if(mt(e)){const s=Ui(e,t,n,r);return s&&jd(s)&&s.catch(i=>{ua(i,t,n)}),s}if(dt(e)){const s=[];for(let i=0;i<e.length;i++)s.push(sn(e[i],t,n,r));return s}}function ua(e,t,n,r=!0){const s=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||Mt;if(t){let l=t.parent;const c=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const h=l.ec;if(h){for(let d=0;d<h.length;d++)if(h[d](e,c,u)===!1)return}l=l.parent}if(i){Dn(),Ui(i,null,10,[e,c,u]),kn();return}}Oy(e,n,s,r,o)}function Oy(e,t,n,r=!0,s=!1){if(s)throw e;console.error(e)}const Oe=[];let dn=-1;const as=[];let Kn=null,Xr=0;const mp=Promise.resolve();let Oo=null;function gp(e){const t=Oo||mp;return e?t.then(this?e.bind(this):e):t}function My(e){let t=dn+1,n=Oe.length;for(;t<n;){const r=t+n>>>1,s=Oe[r],i=wi(s);i<e||i===e&&s.flags&2?t=r+1:n=r}return t}function Rc(e){if(!(e.flags&1)){const t=wi(e),n=Oe[Oe.length-1];!n||!(e.flags&2)&&t>=wi(n)?Oe.push(e):Oe.splice(My(t),0,e),e.flags|=1,_p()}}function _p(){Oo||(Oo=mp.then(vp))}function Ly(e){dt(e)?as.push(...e):Kn&&e.id===-1?Kn.splice(Xr+1,0,e):e.flags&1||(as.push(e),e.flags|=1),_p()}function vh(e,t,n=dn+1){for(;n<Oe.length;n++){const r=Oe[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Oe.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function yp(e){if(as.length){const t=[...new Set(as)].sort((n,r)=>wi(n)-wi(r));if(as.length=0,Kn){Kn.push(...t);return}for(Kn=t,Xr=0;Xr<Kn.length;Xr++){const n=Kn[Xr];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Kn=null,Xr=0}}const wi=e=>e.id==null?e.flags&2?-1:1/0:e.id;function vp(e){try{for(dn=0;dn<Oe.length;dn++){const t=Oe[dn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Ui(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;dn<Oe.length;dn++){const t=Oe[dn];t&&(t.flags&=-2)}dn=-1,Oe.length=0,yp(),Oo=null,(Oe.length||as.length)&&vp()}}let Se=null,Ep=null;function Mo(e){const t=Se;return Se=e,Ep=e&&e.type.__scopeId||null,t}function Yt(e,t=Se,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&Uo(-1);const i=Mo(t);let o;try{o=e(...s)}finally{Mo(i),r._d&&Uo(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function xl(e,t){if(Se===null)return e;const n=ma(Se),r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[i,o,l,c=Mt]=t[s];i&&(mt(i)&&(i={mounted:i,updated:i}),i.deep&&Pn(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:l,modifiers:c}))}return e}function Ar(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const l=s[o];i&&(l.oldValue=i[o].value);let c=l.dir[r];c&&(Dn(),sn(c,n,8,[e.el,l,e,t]),kn())}}const wp=Symbol("_vte"),Tp=e=>e.__isTeleport,ii=e=>e&&(e.disabled||e.disabled===""),Eh=e=>e&&(e.defer||e.defer===""),wh=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Th=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Pl=(e,t)=>{const n=e&&e.to;return Kt(n)?t?t(n):null:n},bp={name:"Teleport",__isTeleport:!0,process(e,t,n,r,s,i,o,l,c,u){const{mc:h,pc:d,pbc:m,o:{insert:_,querySelector:C,createText:x,createComment:D}}=u,F=ii(t.props);let{shapeFlag:$,children:z,dynamicChildren:q}=t;if(e==null){const rt=t.el=x(""),K=t.anchor=x("");_(rt,n,r),_(K,n,r);const E=(y,I)=>{$&16&&h(z,y,I,s,i,o,l,c)},v=()=>{const y=t.target=Pl(t.props,C),I=Ip(y,t,x,_);y&&(o!=="svg"&&wh(y)?o="svg":o!=="mathml"&&Th(y)&&(o="mathml"),s&&s.isCE&&(s.ce._teleportTargets||(s.ce._teleportTargets=new Set)).add(y),F||(E(y,I),To(t,!1)))};F&&(E(n,K),To(t,!0)),Eh(t.props)?(t.el.__isMounted=!1,ke(()=>{v(),delete t.el.__isMounted},i)):v()}else{if(Eh(t.props)&&e.el.__isMounted===!1){ke(()=>{bp.process(e,t,n,r,s,i,o,l,c,u)},i);return}t.el=e.el,t.targetStart=e.targetStart;const rt=t.anchor=e.anchor,K=t.target=e.target,E=t.targetAnchor=e.targetAnchor,v=ii(e.props),y=v?n:K,I=v?rt:E;if(o==="svg"||wh(K)?o="svg":(o==="mathml"||Th(K))&&(o="mathml"),q?(m(e.dynamicChildren,q,y,s,i,o,l),Pc(e,t,!0)):c||d(e,t,y,I,s,i,o,l,!1),F)v?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):uo(t,n,rt,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const R=t.target=Pl(t.props,C);R&&uo(t,R,null,u,0)}else v&&uo(t,K,E,u,1);To(t,F)}},remove(e,t,n,{um:r,o:{remove:s}},i){const{shapeFlag:o,children:l,anchor:c,targetStart:u,targetAnchor:h,target:d,props:m}=e;if(d&&(s(u),s(h)),i&&s(c),o&16){const _=i||!ii(m);for(let C=0;C<l.length;C++){const x=l[C];r(x,t,n,_,!!x.dynamicChildren)}}},move:uo,hydrate:Fy};function uo(e,t,n,{o:{insert:r},m:s},i=2){i===0&&r(e.targetAnchor,t,n);const{el:o,anchor:l,shapeFlag:c,children:u,props:h}=e,d=i===2;if(d&&r(o,t,n),(!d||ii(h))&&c&16)for(let m=0;m<u.length;m++)s(u[m],t,n,2);d&&r(l,t,n)}function Fy(e,t,n,r,s,i,{o:{nextSibling:o,parentNode:l,querySelector:c,insert:u,createText:h}},d){function m(x,D,F,$){D.anchor=d(o(x),D,l(x),n,r,s,i),D.targetStart=F,D.targetAnchor=$}const _=t.target=Pl(t.props,c),C=ii(t.props);if(_){const x=_._lpa||_.firstChild;if(t.shapeFlag&16)if(C)m(e,t,x,x&&o(x));else{t.anchor=o(e);let D=x;for(;D;){if(D&&D.nodeType===8){if(D.data==="teleport start anchor")t.targetStart=D;else if(D.data==="teleport anchor"){t.targetAnchor=D,_._lpa=t.targetAnchor&&o(t.targetAnchor);break}}D=o(D)}t.targetAnchor||Ip(_,t,h,u),d(x&&o(x),t,_,n,r,s,i)}To(t,C)}else C&&t.shapeFlag&16&&m(e,t,e,o(e));return t.anchor&&o(t.anchor)}const Ap=bp;function To(e,t){const n=e.ctx;if(n&&n.ut){let r,s;for(t?(r=e.el,s=e.anchor):(r=e.targetStart,s=e.targetAnchor);r&&r!==s;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function Ip(e,t,n,r){const s=t.targetStart=n(""),i=t.targetAnchor=n("");return s[wp]=i,e&&(r(s,e),r(i,e)),i}const Cn=Symbol("_leaveCb"),ho=Symbol("_enterCb");function Uy(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ts(()=>{e.isMounted=!0}),kp(()=>{e.isUnmounting=!0}),e}const Ye=[Function,Array],Rp={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ye,onEnter:Ye,onAfterEnter:Ye,onEnterCancelled:Ye,onBeforeLeave:Ye,onLeave:Ye,onAfterLeave:Ye,onLeaveCancelled:Ye,onBeforeAppear:Ye,onAppear:Ye,onAfterAppear:Ye,onAppearCancelled:Ye},Sp=e=>{const t=e.subTree;return t.component?Sp(t.component):t},By={name:"BaseTransition",props:Rp,setup(e,{slots:t}){const n=Zp(),r=Uy();return()=>{const s=t.default&&Pp(t.default(),!0);if(!s||!s.length)return;const i=Cp(s),o=Ct(e),{mode:l}=o;if(r.isLeaving)return nl(i);const c=bh(i);if(!c)return nl(i);let u=Vl(c,o,r,n,d=>u=d);c.type!==Re&&Ti(c,u);let h=n.subTree&&bh(n.subTree);if(h&&h.type!==Re&&!Pr(h,c)&&Sp(n).type!==Re){let d=Vl(h,o,r,n);if(Ti(h,d),l==="out-in"&&c.type!==Re)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,h=void 0},nl(i);l==="in-out"&&c.type!==Re?d.delayLeave=(m,_,C)=>{const x=xp(r,h);x[String(h.key)]=h,m[Cn]=()=>{_(),m[Cn]=void 0,delete u.delayedLeave,h=void 0},u.delayedLeave=()=>{C(),delete u.delayedLeave,h=void 0}}:h=void 0}else h&&(h=void 0);return i}}};function Cp(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==Re){t=n;break}}return t}const $y=By;function xp(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Vl(e,t,n,r,s){const{appear:i,mode:o,persisted:l=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:h,onEnterCancelled:d,onBeforeLeave:m,onLeave:_,onAfterLeave:C,onLeaveCancelled:x,onBeforeAppear:D,onAppear:F,onAfterAppear:$,onAppearCancelled:z}=t,q=String(e.key),rt=xp(n,e),K=(y,I)=>{y&&sn(y,r,9,I)},E=(y,I)=>{const R=I[1];K(y,I),dt(y)?y.every(A=>A.length<=1)&&R():y.length<=1&&R()},v={mode:o,persisted:l,beforeEnter(y){let I=c;if(!n.isMounted)if(i)I=D||c;else return;y[Cn]&&y[Cn](!0);const R=rt[q];R&&Pr(e,R)&&R.el[Cn]&&R.el[Cn](),K(I,[y])},enter(y){let I=u,R=h,A=d;if(!n.isMounted)if(i)I=F||u,R=$||h,A=z||d;else return;let w=!1;const Rt=y[ho]=Wt=>{w||(w=!0,Wt?K(A,[y]):K(R,[y]),v.delayedLeave&&v.delayedLeave(),y[ho]=void 0)};I?E(I,[y,Rt]):Rt()},leave(y,I){const R=String(e.key);if(y[ho]&&y[ho](!0),n.isUnmounting)return I();K(m,[y]);let A=!1;const w=y[Cn]=Rt=>{A||(A=!0,I(),Rt?K(x,[y]):K(C,[y]),y[Cn]=void 0,rt[R]===e&&delete rt[R])};rt[R]=e,_?E(_,[y,w]):w()},clone(y){const I=Vl(y,t,n,r,s);return s&&s(I),I}};return v}function nl(e){if(ha(e))return e=ar(e),e.children=null,e}function bh(e){if(!ha(e))return Tp(e.type)&&e.children?Cp(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&mt(n.default))return n.default()}}function Ti(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ti(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Pp(e,t=!1,n){let r=[],s=0;for(let i=0;i<e.length;i++){let o=e[i];const l=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===ne?(o.patchFlag&128&&s++,r=r.concat(Pp(o.children,t,l))):(t||o.type!==Re)&&r.push(l!=null?ar(o,{key:l}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function ln(e,t){return mt(e)?ce({name:e.name},t,{setup:e}):e}function Vp(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Lo=new WeakMap;function oi(e,t,n,r,s=!1){if(dt(e)){e.forEach((C,x)=>oi(C,t&&(dt(t)?t[x]:t),n,r,s));return}if(ls(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&oi(e,t,n,r.component.subTree);return}const i=r.shapeFlag&4?ma(r.component):r.el,o=s?null:i,{i:l,r:c}=e,u=t&&t.r,h=l.refs===Mt?l.refs={}:l.refs,d=l.setupState,m=Ct(d),_=d===Mt?Bd:C=>Dt(m,C);if(u!=null&&u!==c){if(Ah(t),Kt(u))h[u]=null,_(u)&&(d[u]=null);else if(Ce(u)){u.value=null;const C=t;C.k&&(h[C.k]=null)}}if(mt(c))Ui(c,l,12,[o,h]);else{const C=Kt(c),x=Ce(c);if(C||x){const D=()=>{if(e.f){const F=C?_(c)?d[c]:h[c]:c.value;if(s)dt(F)&&mc(F,i);else if(dt(F))F.includes(i)||F.push(i);else if(C)h[c]=[i],_(c)&&(d[c]=h[c]);else{const $=[i];c.value=$,e.k&&(h[e.k]=$)}}else C?(h[c]=o,_(c)&&(d[c]=o)):x&&(c.value=o,e.k&&(h[e.k]=o))};if(o){const F=()=>{D(),Lo.delete(e)};F.id=-1,Lo.set(e,F),ke(F,n)}else Ah(e),D()}}}function Ah(e){const t=Lo.get(e);t&&(t.flags|=8,Lo.delete(e))}aa().requestIdleCallback;aa().cancelIdleCallback;const ls=e=>!!e.type.__asyncLoader,ha=e=>e.type.__isKeepAlive;function jy(e,t){Dp(e,"a",t)}function zy(e,t){Dp(e,"da",t)}function Dp(e,t,n=Le){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(fa(t,r,n),n){let s=n.parent;for(;s&&s.parent;)ha(s.parent.vnode)&&qy(r,t,n,s),s=s.parent}}function qy(e,t,n,r){const s=fa(t,e,r,!0);Sc(()=>{mc(r[t],s)},n)}function fa(e,t,n=Le,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{Dn();const l=Bi(n),c=sn(t,n,e,o);return l(),kn(),c});return r?s.unshift(i):s.push(i),i}}const Fn=e=>(t,n=Le)=>{(!Ri||e==="sp")&&fa(e,(...r)=>t(...r),n)},Hy=Fn("bm"),Ts=Fn("m"),Gy=Fn("bu"),Ky=Fn("u"),kp=Fn("bum"),Sc=Fn("um"),Wy=Fn("sp"),Qy=Fn("rtg"),Xy=Fn("rtc");function Yy(e,t=Le){fa("ec",e,t)}const Jy=Symbol.for("v-ndc");function bi(e,t,n,r){let s;const i=n,o=dt(e);if(o||Kt(e)){const l=o&&os(e);let c=!1,u=!1;l&&(c=!Je(e),u=or(e),e=la(e)),s=new Array(e.length);for(let h=0,d=e.length;h<d;h++)s[h]=t(c?u?ko(ge(e[h])):ge(e[h]):e[h],h,void 0,i)}else if(typeof e=="number"){s=new Array(e);for(let l=0;l<e;l++)s[l]=t(l+1,l,void 0,i)}else if(Ut(e))if(e[Symbol.iterator])s=Array.from(e,(l,c)=>t(l,c,void 0,i));else{const l=Object.keys(e);s=new Array(l.length);for(let c=0,u=l.length;c<u;c++){const h=l[c];s[c]=t(e[h],h,c,i)}}else s=[];return s}function rl(e,t,n={},r,s){if(Se.ce||Se.parent&&ls(Se.parent)&&Se.parent.ce){const u=Object.keys(n).length>0;return t!=="default"&&(n.name=t),J(),Fr(ne,null,[At("slot",n,r)],u?-2:64)}let i=e[t];i&&i._c&&(i._d=!1),J();const o=i&&Np(i(n)),l=n.key||o&&o.key,c=Fr(ne,{key:(l&&!Ln(l)?l:`_${t}`)+(!o&&r?"_fb":"")},o||[],o&&e._===1?64:-2);return i&&i._c&&(i._d=!0),c}function Np(e){return e.some(t=>Ii(t)?!(t.type===Re||t.type===ne&&!Np(t.children)):!0)?e:null}const Dl=e=>e?tm(e)?ma(e):Dl(e.parent):null,ai=ce(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Dl(e.parent),$root:e=>Dl(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Mp(e),$forceUpdate:e=>e.f||(e.f=()=>{Rc(e.update)}),$nextTick:e=>e.n||(e.n=gp.bind(e.proxy)),$watch:e=>v0.bind(e)}),sl=(e,t)=>e!==Mt&&!e.__isScriptSetup&&Dt(e,t),Zy={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:l,appContext:c}=e;let u;if(t[0]!=="$"){const _=o[t];if(_!==void 0)switch(_){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(sl(r,t))return o[t]=1,r[t];if(s!==Mt&&Dt(s,t))return o[t]=2,s[t];if((u=e.propsOptions[0])&&Dt(u,t))return o[t]=3,i[t];if(n!==Mt&&Dt(n,t))return o[t]=4,n[t];kl&&(o[t]=0)}}const h=ai[t];let d,m;if(h)return t==="$attrs"&&Ie(e.attrs,"get",""),h(e);if((d=l.__cssModules)&&(d=d[t]))return d;if(n!==Mt&&Dt(n,t))return o[t]=4,n[t];if(m=c.config.globalProperties,Dt(m,t))return m[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return sl(s,t)?(s[t]=n,!0):r!==Mt&&Dt(r,t)?(r[t]=n,!0):Dt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i,type:o}},l){let c,u;return!!(n[l]||e!==Mt&&l[0]!=="$"&&Dt(e,l)||sl(t,l)||(c=i[0])&&Dt(c,l)||Dt(r,l)||Dt(ai,l)||Dt(s.config.globalProperties,l)||(u=o.__cssModules)&&u[l])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Dt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Ih(e){return dt(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let kl=!0;function t0(e){const t=Mp(e),n=e.proxy,r=e.ctx;kl=!1,t.beforeCreate&&Rh(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:l,provide:c,inject:u,created:h,beforeMount:d,mounted:m,beforeUpdate:_,updated:C,activated:x,deactivated:D,beforeDestroy:F,beforeUnmount:$,destroyed:z,unmounted:q,render:rt,renderTracked:K,renderTriggered:E,errorCaptured:v,serverPrefetch:y,expose:I,inheritAttrs:R,components:A,directives:w,filters:Rt}=t;if(u&&e0(u,r,null),o)for(const Pt in o){const wt=o[Pt];mt(wt)&&(r[Pt]=wt.bind(n))}if(s){const Pt=s.call(n,n);Ut(Pt)&&(e.data=ca(Pt))}if(kl=!0,i)for(const Pt in i){const wt=i[Pt],Be=mt(wt)?wt.bind(n,n):mt(wt.get)?wt.get.bind(n,n):_n,cn=!mt(wt)&&mt(wt.set)?wt.set.bind(n):_n,ze=le({get:Be,set:cn});Object.defineProperty(r,Pt,{enumerable:!0,configurable:!0,get:()=>ze.value,set:fe=>ze.value=fe})}if(l)for(const Pt in l)Op(l[Pt],r,n,Pt);if(c){const Pt=mt(c)?c.call(n):c;Reflect.ownKeys(Pt).forEach(wt=>{bo(wt,Pt[wt])})}h&&Rh(h,e,"c");function jt(Pt,wt){dt(wt)?wt.forEach(Be=>Pt(Be.bind(n))):wt&&Pt(wt.bind(n))}if(jt(Hy,d),jt(Ts,m),jt(Gy,_),jt(Ky,C),jt(jy,x),jt(zy,D),jt(Yy,v),jt(Xy,K),jt(Qy,E),jt(kp,$),jt(Sc,q),jt(Wy,y),dt(I))if(I.length){const Pt=e.exposed||(e.exposed={});I.forEach(wt=>{Object.defineProperty(Pt,wt,{get:()=>n[wt],set:Be=>n[wt]=Be,enumerable:!0})})}else e.exposed||(e.exposed={});rt&&e.render===_n&&(e.render=rt),R!=null&&(e.inheritAttrs=R),A&&(e.components=A),w&&(e.directives=w),y&&Vp(e)}function e0(e,t,n=_n){dt(e)&&(e=Nl(e));for(const r in e){const s=e[r];let i;Ut(s)?"default"in s?i=Vn(s.from||r,s.default,!0):i=Vn(s.from||r):i=Vn(s),Ce(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function Rh(e,t,n){sn(dt(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Op(e,t,n,r){let s=r.includes(".")?Wp(n,r):()=>n[r];if(Kt(e)){const i=t[e];mt(i)&&li(s,i)}else if(mt(e))li(s,e.bind(n));else if(Ut(e))if(dt(e))e.forEach(i=>Op(i,t,n,r));else{const i=mt(e.handler)?e.handler.bind(n):t[e.handler];mt(i)&&li(s,i,e)}}function Mp(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,l=i.get(t);let c;return l?c=l:!s.length&&!n&&!r?c=t:(c={},s.length&&s.forEach(u=>Fo(c,u,o,!0)),Fo(c,t,o)),Ut(t)&&i.set(t,c),c}function Fo(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&Fo(e,i,n,!0),s&&s.forEach(o=>Fo(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const l=n0[o]||n&&n[o];e[o]=l?l(e[o],t[o]):t[o]}return e}const n0={data:Sh,props:Ch,emits:Ch,methods:Ys,computed:Ys,beforeCreate:De,created:De,beforeMount:De,mounted:De,beforeUpdate:De,updated:De,beforeDestroy:De,beforeUnmount:De,destroyed:De,unmounted:De,activated:De,deactivated:De,errorCaptured:De,serverPrefetch:De,components:Ys,directives:Ys,watch:s0,provide:Sh,inject:r0};function Sh(e,t){return t?e?function(){return ce(mt(e)?e.call(this,this):e,mt(t)?t.call(this,this):t)}:t:e}function r0(e,t){return Ys(Nl(e),Nl(t))}function Nl(e){if(dt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function De(e,t){return e?[...new Set([].concat(e,t))]:t}function Ys(e,t){return e?ce(Object.create(null),e,t):t}function Ch(e,t){return e?dt(e)&&dt(t)?[...new Set([...e,...t])]:ce(Object.create(null),Ih(e),Ih(t??{})):t}function s0(e,t){if(!e)return t;if(!t)return e;const n=ce(Object.create(null),e);for(const r in t)n[r]=De(e[r],t[r]);return n}function Lp(){return{app:null,config:{isNativeTag:Bd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let i0=0;function o0(e,t){return function(r,s=null){mt(r)||(r=ce({},r)),s!=null&&!Ut(s)&&(s=null);const i=Lp(),o=new WeakSet,l=[];let c=!1;const u=i.app={_uid:i0++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:B0,get config(){return i.config},set config(h){},use(h,...d){return o.has(h)||(h&&mt(h.install)?(o.add(h),h.install(u,...d)):mt(h)&&(o.add(h),h(u,...d))),u},mixin(h){return i.mixins.includes(h)||i.mixins.push(h),u},component(h,d){return d?(i.components[h]=d,u):i.components[h]},directive(h,d){return d?(i.directives[h]=d,u):i.directives[h]},mount(h,d,m){if(!c){const _=u._ceVNode||At(r,s);return _.appContext=i,m===!0?m="svg":m===!1&&(m=void 0),e(_,h,m),c=!0,u._container=h,h.__vue_app__=u,ma(_.component)}},onUnmount(h){l.push(h)},unmount(){c&&(sn(l,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(h,d){return i.provides[h]=d,u},runWithContext(h){const d=cs;cs=u;try{return h()}finally{cs=d}}};return u}}let cs=null;function bo(e,t){if(Le){let n=Le.provides;const r=Le.parent&&Le.parent.provides;r===n&&(n=Le.provides=Object.create(r)),n[e]=t}}function Vn(e,t,n=!1){const r=Zp();if(r||cs){let s=cs?cs._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&mt(t)?t.call(r&&r.proxy):t}}const Fp={},Up=()=>Object.create(Fp),Bp=e=>Object.getPrototypeOf(e)===Fp;function a0(e,t,n,r=!1){const s={},i=Up();e.propsDefaults=Object.create(null),$p(e,t,s,i);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=r?s:hp(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function l0(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,l=Ct(s),[c]=e.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const h=e.vnode.dynamicProps;for(let d=0;d<h.length;d++){let m=h[d];if(da(e.emitsOptions,m))continue;const _=t[m];if(c)if(Dt(i,m))_!==i[m]&&(i[m]=_,u=!0);else{const C=ir(m);s[C]=Ol(c,l,C,_,e,!1)}else _!==i[m]&&(i[m]=_,u=!0)}}}else{$p(e,t,s,i)&&(u=!0);let h;for(const d in l)(!t||!Dt(t,d)&&((h=mr(d))===d||!Dt(t,h)))&&(c?n&&(n[d]!==void 0||n[h]!==void 0)&&(s[d]=Ol(c,l,d,void 0,e,!0)):delete s[d]);if(i!==l)for(const d in i)(!t||!Dt(t,d))&&(delete i[d],u=!0)}u&&xn(e.attrs,"set","")}function $p(e,t,n,r){const[s,i]=e.propsOptions;let o=!1,l;if(t)for(let c in t){if(ni(c))continue;const u=t[c];let h;s&&Dt(s,h=ir(c))?!i||!i.includes(h)?n[h]=u:(l||(l={}))[h]=u:da(e.emitsOptions,c)||(!(c in r)||u!==r[c])&&(r[c]=u,o=!0)}if(i){const c=Ct(n),u=l||Mt;for(let h=0;h<i.length;h++){const d=i[h];n[d]=Ol(s,c,d,u[d],e,!Dt(u,d))}}return o}function Ol(e,t,n,r,s,i){const o=e[n];if(o!=null){const l=Dt(o,"default");if(l&&r===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&mt(c)){const{propsDefaults:u}=s;if(n in u)r=u[n];else{const h=Bi(s);r=u[n]=c.call(null,t),h()}}else r=c;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!l?r=!1:o[1]&&(r===""||r===mr(n))&&(r=!0))}return r}const c0=new WeakMap;function jp(e,t,n=!1){const r=n?c0:t.propsCache,s=r.get(e);if(s)return s;const i=e.props,o={},l=[];let c=!1;if(!mt(e)){const h=d=>{c=!0;const[m,_]=jp(d,t,!0);ce(o,m),_&&l.push(..._)};!n&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!i&&!c)return Ut(e)&&r.set(e,ss),ss;if(dt(i))for(let h=0;h<i.length;h++){const d=ir(i[h]);xh(d)&&(o[d]=Mt)}else if(i)for(const h in i){const d=ir(h);if(xh(d)){const m=i[h],_=o[d]=dt(m)||mt(m)?{type:m}:ce({},m),C=_.type;let x=!1,D=!0;if(dt(C))for(let F=0;F<C.length;++F){const $=C[F],z=mt($)&&$.name;if(z==="Boolean"){x=!0;break}else z==="String"&&(D=!1)}else x=mt(C)&&C.name==="Boolean";_[0]=x,_[1]=D,(x||Dt(_,"default"))&&l.push(d)}}const u=[o,l];return Ut(e)&&r.set(e,u),u}function xh(e){return e[0]!=="$"&&!ni(e)}const Cc=e=>e==="_"||e==="_ctx"||e==="$stable",xc=e=>dt(e)?e.map(mn):[mn(e)],u0=(e,t,n)=>{if(t._n)return t;const r=Yt((...s)=>xc(t(...s)),n);return r._c=!1,r},zp=(e,t,n)=>{const r=e._ctx;for(const s in e){if(Cc(s))continue;const i=e[s];if(mt(i))t[s]=u0(s,i,r);else if(i!=null){const o=xc(i);t[s]=()=>o}}},qp=(e,t)=>{const n=xc(t);e.slots.default=()=>n},Hp=(e,t,n)=>{for(const r in t)(n||!Cc(r))&&(e[r]=t[r])},h0=(e,t,n)=>{const r=e.slots=Up();if(e.vnode.shapeFlag&32){const s=t._;s?(Hp(r,t,n),n&&Gd(r,"_",s,!0)):zp(t,r)}else t&&qp(e,t)},f0=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,o=Mt;if(r.shapeFlag&32){const l=t._;l?n&&l===1?i=!1:Hp(s,t,n):(i=!t.$stable,zp(t,s)),o=t}else t&&(qp(e,t),o={default:1});if(i)for(const l in s)!Cc(l)&&o[l]==null&&delete s[l]},ke=S0;function d0(e){return p0(e)}function p0(e,t){const n=aa();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:l,createComment:c,setText:u,setElementText:h,parentNode:d,nextSibling:m,setScopeId:_=_n,insertStaticContent:C}=e,x=(T,S,P,L=null,B=null,O=null,X=void 0,G=null,H=!!S.dynamicChildren)=>{if(T===S)return;T&&!Pr(T,S)&&(L=M(T),fe(T,B,O,!0),T=null),S.patchFlag===-2&&(H=!1,S.dynamicChildren=null);const{type:j,ref:ct,shapeFlag:Z}=S;switch(j){case pa:D(T,S,P,L);break;case Re:F(T,S,P,L);break;case Ao:T==null&&$(S,P,L,X);break;case ne:A(T,S,P,L,B,O,X,G,H);break;default:Z&1?rt(T,S,P,L,B,O,X,G,H):Z&6?w(T,S,P,L,B,O,X,G,H):(Z&64||Z&128)&&j.process(T,S,P,L,B,O,X,G,H,it)}ct!=null&&B?oi(ct,T&&T.ref,O,S||T,!S):ct==null&&T&&T.ref!=null&&oi(T.ref,null,O,T,!0)},D=(T,S,P,L)=>{if(T==null)r(S.el=l(S.children),P,L);else{const B=S.el=T.el;S.children!==T.children&&u(B,S.children)}},F=(T,S,P,L)=>{T==null?r(S.el=c(S.children||""),P,L):S.el=T.el},$=(T,S,P,L)=>{[T.el,T.anchor]=C(T.children,S,P,L,T.el,T.anchor)},z=({el:T,anchor:S},P,L)=>{let B;for(;T&&T!==S;)B=m(T),r(T,P,L),T=B;r(S,P,L)},q=({el:T,anchor:S})=>{let P;for(;T&&T!==S;)P=m(T),s(T),T=P;s(S)},rt=(T,S,P,L,B,O,X,G,H)=>{if(S.type==="svg"?X="svg":S.type==="math"&&(X="mathml"),T==null)K(S,P,L,B,O,X,G,H);else{const j=T.el&&T.el._isVueCE?T.el:null;try{j&&j._beginPatch(),y(T,S,B,O,X,G,H)}finally{j&&j._endPatch()}}},K=(T,S,P,L,B,O,X,G)=>{let H,j;const{props:ct,shapeFlag:Z,transition:ot,dirs:ut}=T;if(H=T.el=o(T.type,O,ct&&ct.is,ct),Z&8?h(H,T.children):Z&16&&v(T.children,H,null,L,B,il(T,O),X,G),ut&&Ar(T,null,L,"created"),E(H,T,T.scopeId,X,L),ct){for(const kt in ct)kt!=="value"&&!ni(kt)&&i(H,kt,null,ct[kt],O,L);"value"in ct&&i(H,"value",null,ct.value,O),(j=ct.onVnodeBeforeMount)&&fn(j,L,T)}ut&&Ar(T,null,L,"beforeMount");const _t=m0(B,ot);_t&&ot.beforeEnter(H),r(H,S,P),((j=ct&&ct.onVnodeMounted)||_t||ut)&&ke(()=>{j&&fn(j,L,T),_t&&ot.enter(H),ut&&Ar(T,null,L,"mounted")},B)},E=(T,S,P,L,B)=>{if(P&&_(T,P),L)for(let O=0;O<L.length;O++)_(T,L[O]);if(B){let O=B.subTree;if(S===O||Xp(O.type)&&(O.ssContent===S||O.ssFallback===S)){const X=B.vnode;E(T,X,X.scopeId,X.slotScopeIds,B.parent)}}},v=(T,S,P,L,B,O,X,G,H=0)=>{for(let j=H;j<T.length;j++){const ct=T[j]=G?Wn(T[j]):mn(T[j]);x(null,ct,S,P,L,B,O,X,G)}},y=(T,S,P,L,B,O,X)=>{const G=S.el=T.el;let{patchFlag:H,dynamicChildren:j,dirs:ct}=S;H|=T.patchFlag&16;const Z=T.props||Mt,ot=S.props||Mt;let ut;if(P&&Ir(P,!1),(ut=ot.onVnodeBeforeUpdate)&&fn(ut,P,S,T),ct&&Ar(S,T,P,"beforeUpdate"),P&&Ir(P,!0),(Z.innerHTML&&ot.innerHTML==null||Z.textContent&&ot.textContent==null)&&h(G,""),j?I(T.dynamicChildren,j,G,P,L,il(S,B),O):X||wt(T,S,G,null,P,L,il(S,B),O,!1),H>0){if(H&16)R(G,Z,ot,P,B);else if(H&2&&Z.class!==ot.class&&i(G,"class",null,ot.class,B),H&4&&i(G,"style",Z.style,ot.style,B),H&8){const _t=S.dynamicProps;for(let kt=0;kt<_t.length;kt++){const St=_t[kt],we=Z[St],Te=ot[St];(Te!==we||St==="value")&&i(G,St,we,Te,B,P)}}H&1&&T.children!==S.children&&h(G,S.children)}else!X&&j==null&&R(G,Z,ot,P,B);((ut=ot.onVnodeUpdated)||ct)&&ke(()=>{ut&&fn(ut,P,S,T),ct&&Ar(S,T,P,"updated")},L)},I=(T,S,P,L,B,O,X)=>{for(let G=0;G<S.length;G++){const H=T[G],j=S[G],ct=H.el&&(H.type===ne||!Pr(H,j)||H.shapeFlag&198)?d(H.el):P;x(H,j,ct,null,L,B,O,X,!0)}},R=(T,S,P,L,B)=>{if(S!==P){if(S!==Mt)for(const O in S)!ni(O)&&!(O in P)&&i(T,O,S[O],null,B,L);for(const O in P){if(ni(O))continue;const X=P[O],G=S[O];X!==G&&O!=="value"&&i(T,O,G,X,B,L)}"value"in P&&i(T,"value",S.value,P.value,B)}},A=(T,S,P,L,B,O,X,G,H)=>{const j=S.el=T?T.el:l(""),ct=S.anchor=T?T.anchor:l("");let{patchFlag:Z,dynamicChildren:ot,slotScopeIds:ut}=S;ut&&(G=G?G.concat(ut):ut),T==null?(r(j,P,L),r(ct,P,L),v(S.children||[],P,ct,B,O,X,G,H)):Z>0&&Z&64&&ot&&T.dynamicChildren?(I(T.dynamicChildren,ot,P,B,O,X,G),(S.key!=null||B&&S===B.subTree)&&Pc(T,S,!0)):wt(T,S,P,ct,B,O,X,G,H)},w=(T,S,P,L,B,O,X,G,H)=>{S.slotScopeIds=G,T==null?S.shapeFlag&512?B.ctx.activate(S,P,L,X,H):Rt(S,P,L,B,O,X,H):Wt(T,S,H)},Rt=(T,S,P,L,B,O,X)=>{const G=T.component=N0(T,L,B);if(ha(T)&&(G.ctx.renderer=it),O0(G,!1,X),G.asyncDep){if(B&&B.registerDep(G,jt,X),!T.el){const H=G.subTree=At(Re);F(null,H,S,P),T.placeholder=H.el}}else jt(G,T,S,P,B,O,X)},Wt=(T,S,P)=>{const L=S.component=T.component;if(I0(T,S,P))if(L.asyncDep&&!L.asyncResolved){Pt(L,S,P);return}else L.next=S,L.update();else S.el=T.el,L.vnode=S},jt=(T,S,P,L,B,O,X)=>{const G=()=>{if(T.isMounted){let{next:Z,bu:ot,u:ut,parent:_t,vnode:kt}=T;{const He=Gp(T);if(He){Z&&(Z.el=kt.el,Pt(T,Z,X)),He.asyncDep.then(()=>{T.isUnmounted||G()});return}}let St=Z,we;Ir(T,!1),Z?(Z.el=kt.el,Pt(T,Z,X)):Z=kt,ot&&wo(ot),(we=Z.props&&Z.props.onVnodeBeforeUpdate)&&fn(we,_t,Z,kt),Ir(T,!0);const Te=Vh(T),qe=T.subTree;T.subTree=Te,x(qe,Te,d(qe.el),M(qe),T,B,O),Z.el=Te.el,St===null&&R0(T,Te.el),ut&&ke(ut,B),(we=Z.props&&Z.props.onVnodeUpdated)&&ke(()=>fn(we,_t,Z,kt),B)}else{let Z;const{el:ot,props:ut}=S,{bm:_t,m:kt,parent:St,root:we,type:Te}=T,qe=ls(S);Ir(T,!1),_t&&wo(_t),!qe&&(Z=ut&&ut.onVnodeBeforeMount)&&fn(Z,St,S),Ir(T,!0);{we.ce&&we.ce._def.shadowRoot!==!1&&we.ce._injectChildStyle(Te);const He=T.subTree=Vh(T);x(null,He,P,L,T,B,O),S.el=He.el}if(kt&&ke(kt,B),!qe&&(Z=ut&&ut.onVnodeMounted)){const He=S;ke(()=>fn(Z,St,He),B)}(S.shapeFlag&256||St&&ls(St.vnode)&&St.vnode.shapeFlag&256)&&T.a&&ke(T.a,B),T.isMounted=!0,S=P=L=null}};T.scope.on();const H=T.effect=new Yd(G);T.scope.off();const j=T.update=H.run.bind(H),ct=T.job=H.runIfDirty.bind(H);ct.i=T,ct.id=T.uid,H.scheduler=()=>Rc(ct),Ir(T,!0),j()},Pt=(T,S,P)=>{S.component=T;const L=T.vnode.props;T.vnode=S,T.next=null,l0(T,S.props,L,P),f0(T,S.children,P),Dn(),vh(T),kn()},wt=(T,S,P,L,B,O,X,G,H=!1)=>{const j=T&&T.children,ct=T?T.shapeFlag:0,Z=S.children,{patchFlag:ot,shapeFlag:ut}=S;if(ot>0){if(ot&128){cn(j,Z,P,L,B,O,X,G,H);return}else if(ot&256){Be(j,Z,P,L,B,O,X,G,H);return}}ut&8?(ct&16&&Ee(j,B,O),Z!==j&&h(P,Z)):ct&16?ut&16?cn(j,Z,P,L,B,O,X,G,H):Ee(j,B,O,!0):(ct&8&&h(P,""),ut&16&&v(Z,P,L,B,O,X,G,H))},Be=(T,S,P,L,B,O,X,G,H)=>{T=T||ss,S=S||ss;const j=T.length,ct=S.length,Z=Math.min(j,ct);let ot;for(ot=0;ot<Z;ot++){const ut=S[ot]=H?Wn(S[ot]):mn(S[ot]);x(T[ot],ut,P,null,B,O,X,G,H)}j>ct?Ee(T,B,O,!0,!1,Z):v(S,P,L,B,O,X,G,H,Z)},cn=(T,S,P,L,B,O,X,G,H)=>{let j=0;const ct=S.length;let Z=T.length-1,ot=ct-1;for(;j<=Z&&j<=ot;){const ut=T[j],_t=S[j]=H?Wn(S[j]):mn(S[j]);if(Pr(ut,_t))x(ut,_t,P,null,B,O,X,G,H);else break;j++}for(;j<=Z&&j<=ot;){const ut=T[Z],_t=S[ot]=H?Wn(S[ot]):mn(S[ot]);if(Pr(ut,_t))x(ut,_t,P,null,B,O,X,G,H);else break;Z--,ot--}if(j>Z){if(j<=ot){const ut=ot+1,_t=ut<ct?S[ut].el:L;for(;j<=ot;)x(null,S[j]=H?Wn(S[j]):mn(S[j]),P,_t,B,O,X,G,H),j++}}else if(j>ot)for(;j<=Z;)fe(T[j],B,O,!0),j++;else{const ut=j,_t=j,kt=new Map;for(j=_t;j<=ot;j++){const de=S[j]=H?Wn(S[j]):mn(S[j]);de.key!=null&&kt.set(de.key,j)}let St,we=0;const Te=ot-_t+1;let qe=!1,He=0;const nn=new Array(Te);for(j=0;j<Te;j++)nn[j]=0;for(j=ut;j<=Z;j++){const de=T[j];if(we>=Te){fe(de,B,O,!0);continue}let se;if(de.key!=null)se=kt.get(de.key);else for(St=_t;St<=ot;St++)if(nn[St-_t]===0&&Pr(de,S[St])){se=St;break}se===void 0?fe(de,B,O,!0):(nn[se-_t]=j+1,se>=He?He=se:qe=!0,x(de,S[se],P,null,B,O,X,G,H),we++)}const Hr=qe?g0(nn):ss;for(St=Hr.length-1,j=Te-1;j>=0;j--){const de=_t+j,se=S[de],Ps=S[de+1],vr=de+1<ct?Ps.el||Ps.placeholder:L;nn[j]===0?x(null,se,P,vr,B,O,X,G,H):qe&&(St<0||j!==Hr[St]?ze(se,P,vr,2):St--)}}},ze=(T,S,P,L,B=null)=>{const{el:O,type:X,transition:G,children:H,shapeFlag:j}=T;if(j&6){ze(T.component.subTree,S,P,L);return}if(j&128){T.suspense.move(S,P,L);return}if(j&64){X.move(T,S,P,it);return}if(X===ne){r(O,S,P);for(let Z=0;Z<H.length;Z++)ze(H[Z],S,P,L);r(T.anchor,S,P);return}if(X===Ao){z(T,S,P);return}if(L!==2&&j&1&&G)if(L===0)G.beforeEnter(O),r(O,S,P),ke(()=>G.enter(O),B);else{const{leave:Z,delayLeave:ot,afterLeave:ut}=G,_t=()=>{T.ctx.isUnmounted?s(O):r(O,S,P)},kt=()=>{O._isLeaving&&O[Cn](!0),Z(O,()=>{_t(),ut&&ut()})};ot?ot(O,_t,kt):kt()}else r(O,S,P)},fe=(T,S,P,L=!1,B=!1)=>{const{type:O,props:X,ref:G,children:H,dynamicChildren:j,shapeFlag:ct,patchFlag:Z,dirs:ot,cacheIndex:ut}=T;if(Z===-2&&(B=!1),G!=null&&(Dn(),oi(G,null,P,T,!0),kn()),ut!=null&&(S.renderCache[ut]=void 0),ct&256){S.ctx.deactivate(T);return}const _t=ct&1&&ot,kt=!ls(T);let St;if(kt&&(St=X&&X.onVnodeBeforeUnmount)&&fn(St,S,T),ct&6)en(T.component,P,L);else{if(ct&128){T.suspense.unmount(P,L);return}_t&&Ar(T,null,S,"beforeUnmount"),ct&64?T.type.remove(T,S,P,it,L):j&&!j.hasOnce&&(O!==ne||Z>0&&Z&64)?Ee(j,S,P,!1,!0):(O===ne&&Z&384||!B&&ct&16)&&Ee(H,S,P),L&&bn(T)}(kt&&(St=X&&X.onVnodeUnmounted)||_t)&&ke(()=>{St&&fn(St,S,T),_t&&Ar(T,null,S,"unmounted")},P)},bn=T=>{const{type:S,el:P,anchor:L,transition:B}=T;if(S===ne){tn(P,L);return}if(S===Ao){q(T);return}const O=()=>{s(P),B&&!B.persisted&&B.afterLeave&&B.afterLeave()};if(T.shapeFlag&1&&B&&!B.persisted){const{leave:X,delayLeave:G}=B,H=()=>X(P,O);G?G(T.el,O,H):H()}else O()},tn=(T,S)=>{let P;for(;T!==S;)P=m(T),s(T),T=P;s(S)},en=(T,S,P)=>{const{bum:L,scope:B,job:O,subTree:X,um:G,m:H,a:j}=T;Ph(H),Ph(j),L&&wo(L),B.stop(),O&&(O.flags|=8,fe(X,T,S,P)),G&&ke(G,S),ke(()=>{T.isUnmounted=!0},S)},Ee=(T,S,P,L=!1,B=!1,O=0)=>{for(let X=O;X<T.length;X++)fe(T[X],S,P,L,B)},M=T=>{if(T.shapeFlag&6)return M(T.component.subTree);if(T.shapeFlag&128)return T.suspense.next();const S=m(T.anchor||T.el),P=S&&S[wp];return P?m(P):S};let tt=!1;const Y=(T,S,P)=>{T==null?S._vnode&&fe(S._vnode,null,null,!0):x(S._vnode||null,T,S,null,null,null,P),S._vnode=T,tt||(tt=!0,vh(),yp(),tt=!1)},it={p:x,um:fe,m:ze,r:bn,mt:Rt,mc:v,pc:wt,pbc:I,n:M,o:e};return{render:Y,hydrate:void 0,createApp:o0(Y)}}function il({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Ir({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function m0(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Pc(e,t,n=!1){const r=e.children,s=t.children;if(dt(r)&&dt(s))for(let i=0;i<r.length;i++){const o=r[i];let l=s[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[i]=Wn(s[i]),l.el=o.el),!n&&l.patchFlag!==-2&&Pc(o,l)),l.type===pa&&l.patchFlag!==-1&&(l.el=o.el),l.type===Re&&!l.el&&(l.el=o.el)}}function g0(e){const t=e.slice(),n=[0];let r,s,i,o,l;const c=e.length;for(r=0;r<c;r++){const u=e[r];if(u!==0){if(s=n[n.length-1],e[s]<u){t[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)l=i+o>>1,e[n[l]]<u?i=l+1:o=l;u<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}function Gp(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Gp(t)}function Ph(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const _0=Symbol.for("v-scx"),y0=()=>Vn(_0);function li(e,t,n){return Kp(e,t,n)}function Kp(e,t,n=Mt){const{immediate:r,deep:s,flush:i,once:o}=n,l=ce({},n),c=t&&r||!t&&i!=="post";let u;if(Ri){if(i==="sync"){const _=y0();u=_.__watcherHandles||(_.__watcherHandles=[])}else if(!c){const _=()=>{};return _.stop=_n,_.resume=_n,_.pause=_n,_}}const h=Le;l.call=(_,C,x)=>sn(_,h,C,x);let d=!1;i==="post"?l.scheduler=_=>{ke(_,h&&h.suspense)}:i!=="sync"&&(d=!0,l.scheduler=(_,C)=>{C?_():Rc(_)}),l.augmentJob=_=>{t&&(_.flags|=4),d&&(_.flags|=2,h&&(_.id=h.uid,_.i=h))};const m=Ny(e,t,l);return Ri&&(u?u.push(m):c&&m()),m}function v0(e,t,n){const r=this.proxy,s=Kt(e)?e.includes(".")?Wp(r,e):()=>r[e]:e.bind(r,r);let i;mt(t)?i=t:(i=t.handler,n=t);const o=Bi(this),l=Kp(s,i.bind(r),n);return o(),l}function Wp(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const E0=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ir(t)}Modifiers`]||e[`${mr(t)}Modifiers`];function w0(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Mt;let s=n;const i=t.startsWith("update:"),o=i&&E0(r,t.slice(7));o&&(o.trim&&(s=n.map(h=>Kt(h)?h.trim():h)),o.number&&(s=n.map(_c)));let l,c=r[l=Ya(t)]||r[l=Ya(ir(t))];!c&&i&&(c=r[l=Ya(mr(t))]),c&&sn(c,e,6,s);const u=r[l+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,sn(u,e,6,s)}}const T0=new WeakMap;function Qp(e,t,n=!1){const r=n?T0:t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let o={},l=!1;if(!mt(e)){const c=u=>{const h=Qp(u,t,!0);h&&(l=!0,ce(o,h))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!i&&!l?(Ut(e)&&r.set(e,null),null):(dt(i)?i.forEach(c=>o[c]=null):ce(o,i),Ut(e)&&r.set(e,o),o)}function da(e,t){return!e||!sa(t)?!1:(t=t.slice(2).replace(/Once$/,""),Dt(e,t[0].toLowerCase()+t.slice(1))||Dt(e,mr(t))||Dt(e,t))}function Vh(e){const{type:t,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:l,emit:c,render:u,renderCache:h,props:d,data:m,setupState:_,ctx:C,inheritAttrs:x}=e,D=Mo(e);let F,$;try{if(n.shapeFlag&4){const q=s||r,rt=q;F=mn(u.call(rt,q,h,d,_,m,C)),$=l}else{const q=t;F=mn(q.length>1?q(d,{attrs:l,slots:o,emit:c}):q(d,null)),$=t.props?l:b0(l)}}catch(q){ci.length=0,ua(q,e,1),F=At(Re)}let z=F;if($&&x!==!1){const q=Object.keys($),{shapeFlag:rt}=z;q.length&&rt&7&&(i&&q.some(pc)&&($=A0($,i)),z=ar(z,$,!1,!0))}return n.dirs&&(z=ar(z,null,!1,!0),z.dirs=z.dirs?z.dirs.concat(n.dirs):n.dirs),n.transition&&Ti(z,n.transition),F=z,Mo(D),F}const b0=e=>{let t;for(const n in e)(n==="class"||n==="style"||sa(n))&&((t||(t={}))[n]=e[n]);return t},A0=(e,t)=>{const n={};for(const r in e)(!pc(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function I0(e,t,n){const{props:r,children:s,component:i}=e,{props:o,children:l,patchFlag:c}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?Dh(r,o,u):!!o;if(c&8){const h=t.dynamicProps;for(let d=0;d<h.length;d++){const m=h[d];if(o[m]!==r[m]&&!da(u,m))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:r===o?!1:r?o?Dh(r,o,u):!0:!!o;return!1}function Dh(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!da(n,i))return!0}return!1}function R0({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const Xp=e=>e.__isSuspense;function S0(e,t){t&&t.pendingBranch?dt(e)?t.effects.push(...e):t.effects.push(e):Ly(e)}const ne=Symbol.for("v-fgt"),pa=Symbol.for("v-txt"),Re=Symbol.for("v-cmt"),Ao=Symbol.for("v-stc"),ci=[];let We=null;function J(e=!1){ci.push(We=e?null:[])}function C0(){ci.pop(),We=ci[ci.length-1]||null}let Ai=1;function Uo(e,t=!1){Ai+=e,e<0&&We&&t&&(We.hasOnce=!0)}function Yp(e){return e.dynamicChildren=Ai>0?We||ss:null,C0(),Ai>0&&We&&We.push(e),e}function nt(e,t,n,r,s,i){return Yp(b(e,t,n,r,s,i,!0))}function Fr(e,t,n,r,s){return Yp(At(e,t,n,r,s,!0))}function Ii(e){return e?e.__v_isVNode===!0:!1}function Pr(e,t){return e.type===t.type&&e.key===t.key}const Jp=({key:e})=>e??null,Io=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Kt(e)||Ce(e)||mt(e)?{i:Se,r:e,k:t,f:!!n}:e:null);function b(e,t=null,n=null,r=0,s=null,i=e===ne?0:1,o=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Jp(t),ref:t&&Io(t),scopeId:Ep,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Se};return l?(Dc(c,n),i&128&&e.normalize(c)):n&&(c.shapeFlag|=Kt(n)?8:16),Ai>0&&!o&&We&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&We.push(c),c}const At=x0;function x0(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===Jy)&&(e=Re),Ii(e)){const l=ar(e,t,!0);return n&&Dc(l,n),Ai>0&&!i&&We&&(l.shapeFlag&6?We[We.indexOf(e)]=l:We.push(l)),l.patchFlag=-2,l}if(U0(e)&&(e=e.__vccOpts),t){t=P0(t);let{class:l,style:c}=t;l&&!Kt(l)&&(t.class=yi(l)),Ut(c)&&(Ic(c)&&!dt(c)&&(c=ce({},c)),t.style=yc(c))}const o=Kt(e)?1:Xp(e)?128:Tp(e)?64:Ut(e)?4:mt(e)?2:0;return b(e,t,n,r,s,o,i,!0)}function P0(e){return e?Ic(e)||Bp(e)?ce({},e):e:null}function ar(e,t,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:l,transition:c}=e,u=t?V0(s||{},t):s,h={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&Jp(u),ref:t&&t.ref?n&&i?dt(i)?i.concat(Io(t)):[i,Io(t)]:Io(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ne?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ar(e.ssContent),ssFallback:e.ssFallback&&ar(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&r&&Ti(h,c.clone(h)),h}function at(e=" ",t=0){return At(pa,null,e,t)}function Vc(e,t){const n=At(Ao,null,e);return n.staticCount=t,n}function Me(e="",t=!1){return t?(J(),Fr(Re,null,e)):At(Re,null,e)}function mn(e){return e==null||typeof e=="boolean"?At(Re):dt(e)?At(ne,null,e.slice()):Ii(e)?Wn(e):At(pa,null,String(e))}function Wn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ar(e)}function Dc(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(dt(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),Dc(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!Bp(t)?t._ctx=Se:s===3&&Se&&(Se.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else mt(t)?(t={default:t,_ctx:Se},n=32):(t=String(t),r&64?(n=16,t=[at(t)]):n=8);e.children=t,e.shapeFlag|=n}function V0(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=yi([t.class,r.class]));else if(s==="style")t.style=yc([t.style,r.style]);else if(sa(s)){const i=t[s],o=r[s];o&&i!==o&&!(dt(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=r[s])}return t}function fn(e,t,n,r=null){sn(e,t,7,[n,r])}const D0=Lp();let k0=0;function N0(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||D0,i={uid:k0++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Xd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:jp(r,s),emitsOptions:Qp(r,s),emit:null,emitted:null,propsDefaults:Mt,inheritAttrs:r.inheritAttrs,ctx:Mt,data:Mt,props:Mt,attrs:Mt,slots:Mt,refs:Mt,setupState:Mt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=w0.bind(null,i),e.ce&&e.ce(i),i}let Le=null;const Zp=()=>Le||Se;let Bo,Ml;{const e=aa(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};Bo=t("__VUE_INSTANCE_SETTERS__",n=>Le=n),Ml=t("__VUE_SSR_SETTERS__",n=>Ri=n)}const Bi=e=>{const t=Le;return Bo(e),e.scope.on(),()=>{e.scope.off(),Bo(t)}},kh=()=>{Le&&Le.scope.off(),Bo(null)};function tm(e){return e.vnode.shapeFlag&4}let Ri=!1;function O0(e,t=!1,n=!1){t&&Ml(t);const{props:r,children:s}=e.vnode,i=tm(e);a0(e,r,i,t),h0(e,s,n||t);const o=i?M0(e,t):void 0;return t&&Ml(!1),o}function M0(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Zy);const{setup:r}=n;if(r){Dn();const s=e.setupContext=r.length>1?F0(e):null,i=Bi(e),o=Ui(r,e,0,[e.props,s]),l=jd(o);if(kn(),i(),(l||e.sp)&&!ls(e)&&Vp(e),l){if(o.then(kh,kh),t)return o.then(c=>{Nh(e,c)}).catch(c=>{ua(c,e,0)});e.asyncDep=o}else Nh(e,o)}else em(e)}function Nh(e,t,n){mt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ut(t)&&(e.setupState=pp(t)),em(e)}function em(e,t,n){const r=e.type;e.render||(e.render=r.render||_n);{const s=Bi(e);Dn();try{t0(e)}finally{kn(),s()}}}const L0={get(e,t){return Ie(e,"get",""),e[t]}};function F0(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,L0),slots:e.slots,emit:e.emit,expose:t}}function ma(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(pp(fp(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ai)return ai[n](e)},has(t,n){return n in t||n in ai}})):e.proxy}function U0(e){return mt(e)&&"__vccOpts"in e}const le=(e,t)=>Dy(e,t,Ri);function kc(e,t,n){try{Uo(-1);const r=arguments.length;return r===2?Ut(t)&&!dt(t)?Ii(t)?At(e,null,[t]):At(e,t):At(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ii(n)&&(n=[n]),At(e,t,n))}finally{Uo(1)}}const B0="3.5.24";let Ll;const Oh=typeof window<"u"&&window.trustedTypes;if(Oh)try{Ll=Oh.createPolicy("vue",{createHTML:e=>e})}catch{}const nm=Ll?e=>Ll.createHTML(e):e=>e,$0="http://www.w3.org/2000/svg",j0="http://www.w3.org/1998/Math/MathML",Sn=typeof document<"u"?document:null,Mh=Sn&&Sn.createElement("template"),z0={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?Sn.createElementNS($0,e):t==="mathml"?Sn.createElementNS(j0,e):n?Sn.createElement(e,{is:n}):Sn.createElement(e);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>Sn.createTextNode(e),createComment:e=>Sn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Sn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,i){const o=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Mh.innerHTML=nm(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const l=Mh.content;if(r==="svg"||r==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Hn="transition",Gs="animation",Si=Symbol("_vtc"),rm={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},q0=ce({},Rp,rm),H0=e=>(e.displayName="Transition",e.props=q0,e),$o=H0((e,{slots:t})=>kc($y,G0(e),t)),Rr=(e,t=[])=>{dt(e)?e.forEach(n=>n(...t)):e&&e(...t)},Lh=e=>e?dt(e)?e.some(t=>t.length>1):e.length>1:!1;function G0(e){const t={};for(const A in e)A in rm||(t[A]=e[A]);if(e.css===!1)return t;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=i,appearActiveClass:u=o,appearToClass:h=l,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:m=`${n}-leave-active`,leaveToClass:_=`${n}-leave-to`}=e,C=K0(s),x=C&&C[0],D=C&&C[1],{onBeforeEnter:F,onEnter:$,onEnterCancelled:z,onLeave:q,onLeaveCancelled:rt,onBeforeAppear:K=F,onAppear:E=$,onAppearCancelled:v=z}=t,y=(A,w,Rt,Wt)=>{A._enterCancelled=Wt,Sr(A,w?h:l),Sr(A,w?u:o),Rt&&Rt()},I=(A,w)=>{A._isLeaving=!1,Sr(A,d),Sr(A,_),Sr(A,m),w&&w()},R=A=>(w,Rt)=>{const Wt=A?E:$,jt=()=>y(w,A,Rt);Rr(Wt,[w,jt]),Fh(()=>{Sr(w,A?c:i),In(w,A?h:l),Lh(Wt)||Uh(w,r,x,jt)})};return ce(t,{onBeforeEnter(A){Rr(F,[A]),In(A,i),In(A,o)},onBeforeAppear(A){Rr(K,[A]),In(A,c),In(A,u)},onEnter:R(!1),onAppear:R(!0),onLeave(A,w){A._isLeaving=!0;const Rt=()=>I(A,w);In(A,d),A._enterCancelled?(In(A,m),jh(A)):(jh(A),In(A,m)),Fh(()=>{A._isLeaving&&(Sr(A,d),In(A,_),Lh(q)||Uh(A,r,D,Rt))}),Rr(q,[A,Rt])},onEnterCancelled(A){y(A,!1,void 0,!0),Rr(z,[A])},onAppearCancelled(A){y(A,!0,void 0,!0),Rr(v,[A])},onLeaveCancelled(A){I(A),Rr(rt,[A])}})}function K0(e){if(e==null)return null;if(Ut(e))return[ol(e.enter),ol(e.leave)];{const t=ol(e);return[t,t]}}function ol(e){return ey(e)}function In(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Si]||(e[Si]=new Set)).add(t)}function Sr(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[Si];n&&(n.delete(t),n.size||(e[Si]=void 0))}function Fh(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let W0=0;function Uh(e,t,n,r){const s=e._endId=++W0,i=()=>{s===e._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:l,propCount:c}=Q0(e,t);if(!o)return r();const u=o+"end";let h=0;const d=()=>{e.removeEventListener(u,m),i()},m=_=>{_.target===e&&++h>=c&&d()};setTimeout(()=>{h<c&&d()},l+1),e.addEventListener(u,m)}function Q0(e,t){const n=window.getComputedStyle(e),r=C=>(n[C]||"").split(", "),s=r(`${Hn}Delay`),i=r(`${Hn}Duration`),o=Bh(s,i),l=r(`${Gs}Delay`),c=r(`${Gs}Duration`),u=Bh(l,c);let h=null,d=0,m=0;t===Hn?o>0&&(h=Hn,d=o,m=i.length):t===Gs?u>0&&(h=Gs,d=u,m=c.length):(d=Math.max(o,u),h=d>0?o>u?Hn:Gs:null,m=h?h===Hn?i.length:c.length:0);const _=h===Hn&&/\b(?:transform|all)(?:,|$)/.test(r(`${Hn}Property`).toString());return{type:h,timeout:d,propCount:m,hasTransform:_}}function Bh(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>$h(n)+$h(e[r])))}function $h(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function jh(e){return(e?e.ownerDocument:document).body.offsetHeight}function X0(e,t,n){const r=e[Si];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const zh=Symbol("_vod"),Y0=Symbol("_vsh"),J0=Symbol(""),Z0=/(?:^|;)\s*display\s*:/;function tv(e,t,n){const r=e.style,s=Kt(n);let i=!1;if(n&&!s){if(t)if(Kt(t))for(const o of t.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&Ro(r,l,"")}else for(const o in t)n[o]==null&&Ro(r,o,"");for(const o in n)o==="display"&&(i=!0),Ro(r,o,n[o])}else if(s){if(t!==n){const o=r[J0];o&&(n+=";"+o),r.cssText=n,i=Z0.test(n)}}else t&&e.removeAttribute("style");zh in e&&(e[zh]=i?r.display:"",e[Y0]&&(r.display="none"))}const qh=/\s*!important$/;function Ro(e,t,n){if(dt(n))n.forEach(r=>Ro(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=ev(e,t);qh.test(n)?e.setProperty(mr(r),n.replace(qh,""),"important"):e[r]=n}}const Hh=["Webkit","Moz","ms"],al={};function ev(e,t){const n=al[t];if(n)return n;let r=ir(t);if(r!=="filter"&&r in e)return al[t]=r;r=Hd(r);for(let s=0;s<Hh.length;s++){const i=Hh[s]+r;if(i in e)return al[t]=i}return t}const Gh="http://www.w3.org/1999/xlink";function Kh(e,t,n,r,s,i=ay(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Gh,t.slice(6,t.length)):e.setAttributeNS(Gh,t,n):n==null||i&&!Kd(n)?e.removeAttribute(t):e.setAttribute(t,i?"":Ln(n)?String(n):n)}function Wh(e,t,n,r,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?nm(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?e.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=Kd(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(s||t)}function Yr(e,t,n,r){e.addEventListener(t,n,r)}function nv(e,t,n,r){e.removeEventListener(t,n,r)}const Qh=Symbol("_vei");function rv(e,t,n,r,s=null){const i=e[Qh]||(e[Qh]={}),o=i[t];if(r&&o)o.value=r;else{const[l,c]=sv(t);if(r){const u=i[t]=av(r,s);Yr(e,l,u,c)}else o&&(nv(e,l,o,c),i[t]=void 0)}}const Xh=/(?:Once|Passive|Capture)$/;function sv(e){let t;if(Xh.test(e)){t={};let r;for(;r=e.match(Xh);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):mr(e.slice(2)),t]}let ll=0;const iv=Promise.resolve(),ov=()=>ll||(iv.then(()=>ll=0),ll=Date.now());function av(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;sn(lv(r,n.value),t,5,[r])};return n.value=e,n.attached=ov(),n}function lv(e,t){if(dt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const Yh=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,cv=(e,t,n,r,s,i)=>{const o=s==="svg";t==="class"?X0(e,r,o):t==="style"?tv(e,n,r):sa(t)?pc(t)||rv(e,t,n,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):uv(e,t,r,o))?(Wh(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Kh(e,t,r,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Kt(r))?Wh(e,ir(t),r,i,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Kh(e,t,r,o))};function uv(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Yh(t)&&mt(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Yh(t)&&Kt(n)?!1:t in e}const Jh=e=>{const t=e.props["onUpdate:modelValue"]||!1;return dt(t)?n=>wo(t,n):t};function hv(e){e.target.composing=!0}function Zh(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const cl=Symbol("_assign");function tf(e,t,n){return t&&(e=e.trim()),n&&(e=_c(e)),e}const Fl={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e[cl]=Jh(s);const i=r||s.props&&s.props.type==="number";Yr(e,t?"change":"input",o=>{o.target.composing||e[cl](tf(e.value,n,i))}),(n||i)&&Yr(e,"change",()=>{e.value=tf(e.value,n,i)}),t||(Yr(e,"compositionstart",hv),Yr(e,"compositionend",Zh),Yr(e,"change",Zh))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(e[cl]=Jh(o),e.composing)return;const l=(i||e.type==="number")&&!/^0\d/.test(e.value)?_c(e.value):e.value,c=t??"";l!==c&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||s&&e.value.trim()===c)||(e.value=c))}},fv=["ctrl","shift","alt","meta"],dv={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>fv.some(n=>e[`${n}Key`]&&!t.includes(n))},pv=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=((s,...i)=>{for(let o=0;o<t.length;o++){const l=dv[t[o]];if(l&&l(s,t))return}return e(s,...i)}))},mv={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ef=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=(s=>{if(!("key"in s))return;const i=mr(s.key);if(t.some(o=>o===i||mv[o]===i))return e(s)}))},gv=ce({patchProp:cv},z0);let nf;function _v(){return nf||(nf=d0(gv))}const yv=((...e)=>{const t=_v().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=Ev(r);if(!s)return;const i=t._component;!mt(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,vv(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t});function vv(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Ev(e){return Kt(e)?document.querySelector(e):e}const wv=Symbol();var rf;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(rf||(rf={}));function Tv(){const e=ly(!0),t=e.run(()=>xt({}));let n=[],r=[];const s=fp({install(i){s._a=i,i.provide(wv,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return this._a?n.push(i):r.push(i),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}const bv=()=>{};var sf={};const sm=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},Av=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=e[n++],o=e[n++],l=e[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{const i=e[n++],o=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return t.join("")},im={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const i=e[s],o=s+1<e.length,l=o?e[s+1]:0,c=s+2<e.length,u=c?e[s+2]:0,h=i>>2,d=(i&3)<<4|l>>4;let m=(l&15)<<2|u>>6,_=u&63;c||(_=64,o||(m=64)),r.push(n[h],n[d],n[m],n[_])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(sm(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Av(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const i=n[e.charAt(s++)],l=s<e.length?n[e.charAt(s)]:0;++s;const u=s<e.length?n[e.charAt(s)]:64;++s;const d=s<e.length?n[e.charAt(s)]:64;if(++s,i==null||l==null||u==null||d==null)throw new Iv;const m=i<<2|l>>4;if(r.push(m),u!==64){const _=l<<4&240|u>>2;if(r.push(_),d!==64){const C=u<<6&192|d;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Iv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Rv=function(e){const t=sm(e);return im.encodeByteArray(t,!0)},jo=function(e){return Rv(e).replace(/\./g,"")},Sv=function(e){try{return im.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Cv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const xv=()=>Cv().__FIREBASE_DEFAULTS__,Pv=()=>{if(typeof process>"u"||typeof sf>"u")return;const e=sf.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Vv=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Sv(e[1]);return t&&JSON.parse(t)},Nc=()=>{try{return bv()||xv()||Pv()||Vv()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Dv=e=>Nc()?.emulatorHosts?.[e],om=e=>{const t=Dv(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},am=()=>Nc()?.config;class kv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function $i(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lm(e){return(await fetch(e,{credentials:"include"})).ok}function cm(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",s=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...e};return[jo(JSON.stringify(n)),jo(JSON.stringify(o)),""].join(".")}const ui={};function Nv(){const e={prod:[],emulator:[]};for(const t of Object.keys(ui))ui[t]?e.emulator.push(t):e.prod.push(t);return e}function Ov(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let of=!1;function um(e,t){if(typeof window>"u"||typeof document>"u"||!$i(window.location.host)||ui[e]===t||ui[e]||of)return;ui[e]=t;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=Nv().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,_){m.setAttribute("width","24"),m.setAttribute("id",_),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{of=!0,o()},m}function h(m,_){m.setAttribute("id",_),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function d(){const m=Ov(r),_=n("text"),C=document.getElementById(_)||document.createElement("span"),x=n("learnmore"),D=document.getElementById(x)||document.createElement("a"),F=n("preprendIcon"),$=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const z=m.element;l(z),h(D,x);const q=u();c($,F),z.append($,C,D,q),document.body.appendChild(z)}i?(C.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}function Mv(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Lv(){const e=Nc()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Fv(){return!Lv()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Uv(){try{return typeof indexedDB=="object"}catch{return!1}}function Bv(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{t(s.error?.message||"")}}catch(n){t(n)}})}const $v="FirebaseError";class jr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=$v,Object.setPrototypeOf(this,jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hm.prototype.create)}}class hm{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,i=this.errors[t],o=i?jv(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new jr(s,l,r)}}function jv(e,t){return e.replace(zv,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const zv=/\{\$([^}]+)}/g;function zo(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const i=e[s],o=t[s];if(af(i)&&af(o)){if(!zo(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function af(e){return e!==null&&typeof e=="object"}function xe(e){return e&&e._delegate?e._delegate:e}class ds{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const xr="[DEFAULT]";class qv{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new kv;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Gv(t))try{this.getOrInitializeService({instanceIdentifier:xr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(t=xr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=xr){return this.instances.has(t)}getOptions(t=xr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(t),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&t(i,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Hv(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=xr){return this.component?this.component.multipleInstances?t:xr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Hv(e){return e===xr?void 0:e}function Gv(e){return e.instantiationMode==="EAGER"}class Kv{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new qv(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var bt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(bt||(bt={}));const Wv={debug:bt.DEBUG,verbose:bt.VERBOSE,info:bt.INFO,warn:bt.WARN,error:bt.ERROR,silent:bt.SILENT},Qv=bt.INFO,Xv={[bt.DEBUG]:"log",[bt.VERBOSE]:"log",[bt.INFO]:"info",[bt.WARN]:"warn",[bt.ERROR]:"error"},Yv=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=Xv[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class fm{constructor(t){this.name=t,this._logLevel=Qv,this._logHandler=Yv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Wv[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,bt.DEBUG,...t),this._logHandler(this,bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,bt.VERBOSE,...t),this._logHandler(this,bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,bt.INFO,...t),this._logHandler(this,bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,bt.WARN,...t),this._logHandler(this,bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,bt.ERROR,...t),this._logHandler(this,bt.ERROR,...t)}}const Jv=(e,t)=>t.some(n=>e instanceof n);let lf,cf;function Zv(){return lf||(lf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function t1(){return cf||(cf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dm=new WeakMap,Ul=new WeakMap,pm=new WeakMap,ul=new WeakMap,Oc=new WeakMap;function e1(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{n(Zn(e.result)),s()},o=()=>{r(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&dm.set(n,e)}).catch(()=>{}),Oc.set(t,e),t}function n1(e){if(Ul.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});Ul.set(e,t)}let Bl={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Ul.get(e);if(t==="objectStoreNames")return e.objectStoreNames||pm.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function r1(e){Bl=e(Bl)}function s1(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(hl(this),t,...n);return pm.set(r,t.sort?t.sort():[t]),Zn(r)}:t1().includes(e)?function(...t){return e.apply(hl(this),t),Zn(dm.get(this))}:function(...t){return Zn(e.apply(hl(this),t))}}function i1(e){return typeof e=="function"?s1(e):(e instanceof IDBTransaction&&n1(e),Jv(e,Zv())?new Proxy(e,Bl):e)}function Zn(e){if(e instanceof IDBRequest)return e1(e);if(ul.has(e))return ul.get(e);const t=i1(e);return t!==e&&(ul.set(e,t),Oc.set(t,e)),t}const hl=e=>Oc.get(e);function o1(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(e,t),l=Zn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Zn(o.result),c.oldVersion,c.newVersion,Zn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const a1=["get","getKey","getAll","getAllKeys","count"],l1=["put","add","delete","clear"],fl=new Map;function uf(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(fl.get(t))return fl.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=l1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||a1.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return fl.set(t,i),i}r1(e=>({...e,get:(t,n,r)=>uf(t,n)||e.get(t,n,r),has:(t,n)=>!!uf(t,n)||e.has(t,n)}));class c1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(u1(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function u1(e){return e.getComponent()?.type==="VERSION"}const $l="@firebase/app",hf="0.14.6";const Nn=new fm("@firebase/app"),h1="@firebase/app-compat",f1="@firebase/analytics-compat",d1="@firebase/analytics",p1="@firebase/app-check-compat",m1="@firebase/app-check",g1="@firebase/auth",_1="@firebase/auth-compat",y1="@firebase/database",v1="@firebase/data-connect",E1="@firebase/database-compat",w1="@firebase/functions",T1="@firebase/functions-compat",b1="@firebase/installations",A1="@firebase/installations-compat",I1="@firebase/messaging",R1="@firebase/messaging-compat",S1="@firebase/performance",C1="@firebase/performance-compat",x1="@firebase/remote-config",P1="@firebase/remote-config-compat",V1="@firebase/storage",D1="@firebase/storage-compat",k1="@firebase/firestore",N1="@firebase/ai",O1="@firebase/firestore-compat",M1="firebase",L1="12.6.0";const jl="[DEFAULT]",F1={[$l]:"fire-core",[h1]:"fire-core-compat",[d1]:"fire-analytics",[f1]:"fire-analytics-compat",[m1]:"fire-app-check",[p1]:"fire-app-check-compat",[g1]:"fire-auth",[_1]:"fire-auth-compat",[y1]:"fire-rtdb",[v1]:"fire-data-connect",[E1]:"fire-rtdb-compat",[w1]:"fire-fn",[T1]:"fire-fn-compat",[b1]:"fire-iid",[A1]:"fire-iid-compat",[I1]:"fire-fcm",[R1]:"fire-fcm-compat",[S1]:"fire-perf",[C1]:"fire-perf-compat",[x1]:"fire-rc",[P1]:"fire-rc-compat",[V1]:"fire-gcs",[D1]:"fire-gcs-compat",[k1]:"fire-fst",[O1]:"fire-fst-compat",[N1]:"fire-vertex","fire-js":"fire-js",[M1]:"fire-js-all"};const qo=new Map,U1=new Map,zl=new Map;function ff(e,t){try{e.container.addComponent(t)}catch(n){Nn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ci(e){const t=e.name;if(zl.has(t))return Nn.debug(`There were multiple attempts to register component ${t}.`),!1;zl.set(t,e);for(const n of qo.values())ff(n,e);for(const n of U1.values())ff(n,e);return!0}function mm(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function gm(e){return e==null?!1:e.settings!==void 0}const B1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tr=new hm("app","Firebase",B1);class $1{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw tr.create("app-deleted",{appName:this._name})}}const _m=L1;function ym(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:jl,automaticDataCollectionEnabled:!0,...t},s=r.name;if(typeof s!="string"||!s)throw tr.create("bad-app-name",{appName:String(s)});if(n||(n=am()),!n)throw tr.create("no-options");const i=qo.get(s);if(i){if(zo(n,i.options)&&zo(r,i.config))return i;throw tr.create("duplicate-app",{appName:s})}const o=new Kv(s);for(const c of zl.values())o.addComponent(c);const l=new $1(n,r,o);return qo.set(s,l),l}function vm(e=jl){const t=qo.get(e);if(!t&&e===jl&&am())return ym();if(!t)throw tr.create("no-app",{appName:e});return t}function er(e,t,n){let r=F1[e]??e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=t.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${t}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Nn.warn(o.join(" "));return}Ci(new ds(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const j1="firebase-heartbeat-database",z1=1,xi="firebase-heartbeat-store";let dl=null;function Em(){return dl||(dl=o1(j1,z1,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(xi)}catch(n){console.warn(n)}}}}).catch(e=>{throw tr.create("idb-open",{originalErrorMessage:e.message})})),dl}async function q1(e){try{const n=(await Em()).transaction(xi),r=await n.objectStore(xi).get(wm(e));return await n.done,r}catch(t){if(t instanceof jr)Nn.warn(t.message);else{const n=tr.create("idb-get",{originalErrorMessage:t?.message});Nn.warn(n.message)}}}async function df(e,t){try{const r=(await Em()).transaction(xi,"readwrite");await r.objectStore(xi).put(t,wm(e)),await r.done}catch(n){if(n instanceof jr)Nn.warn(n.message);else{const r=tr.create("idb-set",{originalErrorMessage:n?.message});Nn.warn(r.message)}}}function wm(e){return`${e.name}!${e.options.appId}`}const H1=1024,G1=30;class K1{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Q1(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=pf();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>G1){const s=X1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Nn.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=pf(),{heartbeatsToSend:n,unsentEntries:r}=W1(this._heartbeatsCache.heartbeats),s=jo(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Nn.warn(t),""}}}function pf(){return new Date().toISOString().substring(0,10)}function W1(e,t=H1){const n=[];let r=e.slice();for(const s of e){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),mf(n)>t){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),mf(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Q1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Uv()?Bv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await q1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return df(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return df(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function mf(e){return jo(JSON.stringify({version:2,heartbeats:e})).length}function X1(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function Y1(e){Ci(new ds("platform-logger",t=>new c1(t),"PRIVATE")),Ci(new ds("heartbeat",t=>new K1(t),"PRIVATE")),er($l,hf,e),er($l,hf,"esm2020"),er("fire-js","")}Y1("");var J1="firebase",Z1="12.6.0";er(J1,Z1,"app");var gf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var nr,Tm;(function(){var e;function t(E,v){function y(){}y.prototype=v.prototype,E.F=v.prototype,E.prototype=new y,E.prototype.constructor=E,E.D=function(I,R,A){for(var w=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)w[Rt-2]=arguments[Rt];return v.prototype[R].apply(I,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(E,v,y){y||(y=0);const I=Array(16);if(typeof v=="string")for(var R=0;R<16;++R)I[R]=v.charCodeAt(y++)|v.charCodeAt(y++)<<8|v.charCodeAt(y++)<<16|v.charCodeAt(y++)<<24;else for(R=0;R<16;++R)I[R]=v[y++]|v[y++]<<8|v[y++]<<16|v[y++]<<24;v=E.g[0],y=E.g[1],R=E.g[2];let A=E.g[3],w;w=v+(A^y&(R^A))+I[0]+3614090360&4294967295,v=y+(w<<7&4294967295|w>>>25),w=A+(R^v&(y^R))+I[1]+3905402710&4294967295,A=v+(w<<12&4294967295|w>>>20),w=R+(y^A&(v^y))+I[2]+606105819&4294967295,R=A+(w<<17&4294967295|w>>>15),w=y+(v^R&(A^v))+I[3]+3250441966&4294967295,y=R+(w<<22&4294967295|w>>>10),w=v+(A^y&(R^A))+I[4]+4118548399&4294967295,v=y+(w<<7&4294967295|w>>>25),w=A+(R^v&(y^R))+I[5]+1200080426&4294967295,A=v+(w<<12&4294967295|w>>>20),w=R+(y^A&(v^y))+I[6]+2821735955&4294967295,R=A+(w<<17&4294967295|w>>>15),w=y+(v^R&(A^v))+I[7]+4249261313&4294967295,y=R+(w<<22&4294967295|w>>>10),w=v+(A^y&(R^A))+I[8]+1770035416&4294967295,v=y+(w<<7&4294967295|w>>>25),w=A+(R^v&(y^R))+I[9]+2336552879&4294967295,A=v+(w<<12&4294967295|w>>>20),w=R+(y^A&(v^y))+I[10]+4294925233&4294967295,R=A+(w<<17&4294967295|w>>>15),w=y+(v^R&(A^v))+I[11]+2304563134&4294967295,y=R+(w<<22&4294967295|w>>>10),w=v+(A^y&(R^A))+I[12]+1804603682&4294967295,v=y+(w<<7&4294967295|w>>>25),w=A+(R^v&(y^R))+I[13]+4254626195&4294967295,A=v+(w<<12&4294967295|w>>>20),w=R+(y^A&(v^y))+I[14]+2792965006&4294967295,R=A+(w<<17&4294967295|w>>>15),w=y+(v^R&(A^v))+I[15]+1236535329&4294967295,y=R+(w<<22&4294967295|w>>>10),w=v+(R^A&(y^R))+I[1]+4129170786&4294967295,v=y+(w<<5&4294967295|w>>>27),w=A+(y^R&(v^y))+I[6]+3225465664&4294967295,A=v+(w<<9&4294967295|w>>>23),w=R+(v^y&(A^v))+I[11]+643717713&4294967295,R=A+(w<<14&4294967295|w>>>18),w=y+(A^v&(R^A))+I[0]+3921069994&4294967295,y=R+(w<<20&4294967295|w>>>12),w=v+(R^A&(y^R))+I[5]+3593408605&4294967295,v=y+(w<<5&4294967295|w>>>27),w=A+(y^R&(v^y))+I[10]+38016083&4294967295,A=v+(w<<9&4294967295|w>>>23),w=R+(v^y&(A^v))+I[15]+3634488961&4294967295,R=A+(w<<14&4294967295|w>>>18),w=y+(A^v&(R^A))+I[4]+3889429448&4294967295,y=R+(w<<20&4294967295|w>>>12),w=v+(R^A&(y^R))+I[9]+568446438&4294967295,v=y+(w<<5&4294967295|w>>>27),w=A+(y^R&(v^y))+I[14]+3275163606&4294967295,A=v+(w<<9&4294967295|w>>>23),w=R+(v^y&(A^v))+I[3]+4107603335&4294967295,R=A+(w<<14&4294967295|w>>>18),w=y+(A^v&(R^A))+I[8]+1163531501&4294967295,y=R+(w<<20&4294967295|w>>>12),w=v+(R^A&(y^R))+I[13]+2850285829&4294967295,v=y+(w<<5&4294967295|w>>>27),w=A+(y^R&(v^y))+I[2]+4243563512&4294967295,A=v+(w<<9&4294967295|w>>>23),w=R+(v^y&(A^v))+I[7]+1735328473&4294967295,R=A+(w<<14&4294967295|w>>>18),w=y+(A^v&(R^A))+I[12]+2368359562&4294967295,y=R+(w<<20&4294967295|w>>>12),w=v+(y^R^A)+I[5]+4294588738&4294967295,v=y+(w<<4&4294967295|w>>>28),w=A+(v^y^R)+I[8]+2272392833&4294967295,A=v+(w<<11&4294967295|w>>>21),w=R+(A^v^y)+I[11]+1839030562&4294967295,R=A+(w<<16&4294967295|w>>>16),w=y+(R^A^v)+I[14]+4259657740&4294967295,y=R+(w<<23&4294967295|w>>>9),w=v+(y^R^A)+I[1]+2763975236&4294967295,v=y+(w<<4&4294967295|w>>>28),w=A+(v^y^R)+I[4]+1272893353&4294967295,A=v+(w<<11&4294967295|w>>>21),w=R+(A^v^y)+I[7]+4139469664&4294967295,R=A+(w<<16&4294967295|w>>>16),w=y+(R^A^v)+I[10]+3200236656&4294967295,y=R+(w<<23&4294967295|w>>>9),w=v+(y^R^A)+I[13]+681279174&4294967295,v=y+(w<<4&4294967295|w>>>28),w=A+(v^y^R)+I[0]+3936430074&4294967295,A=v+(w<<11&4294967295|w>>>21),w=R+(A^v^y)+I[3]+3572445317&4294967295,R=A+(w<<16&4294967295|w>>>16),w=y+(R^A^v)+I[6]+76029189&4294967295,y=R+(w<<23&4294967295|w>>>9),w=v+(y^R^A)+I[9]+3654602809&4294967295,v=y+(w<<4&4294967295|w>>>28),w=A+(v^y^R)+I[12]+3873151461&4294967295,A=v+(w<<11&4294967295|w>>>21),w=R+(A^v^y)+I[15]+530742520&4294967295,R=A+(w<<16&4294967295|w>>>16),w=y+(R^A^v)+I[2]+3299628645&4294967295,y=R+(w<<23&4294967295|w>>>9),w=v+(R^(y|~A))+I[0]+4096336452&4294967295,v=y+(w<<6&4294967295|w>>>26),w=A+(y^(v|~R))+I[7]+1126891415&4294967295,A=v+(w<<10&4294967295|w>>>22),w=R+(v^(A|~y))+I[14]+2878612391&4294967295,R=A+(w<<15&4294967295|w>>>17),w=y+(A^(R|~v))+I[5]+4237533241&4294967295,y=R+(w<<21&4294967295|w>>>11),w=v+(R^(y|~A))+I[12]+1700485571&4294967295,v=y+(w<<6&4294967295|w>>>26),w=A+(y^(v|~R))+I[3]+2399980690&4294967295,A=v+(w<<10&4294967295|w>>>22),w=R+(v^(A|~y))+I[10]+4293915773&4294967295,R=A+(w<<15&4294967295|w>>>17),w=y+(A^(R|~v))+I[1]+2240044497&4294967295,y=R+(w<<21&4294967295|w>>>11),w=v+(R^(y|~A))+I[8]+1873313359&4294967295,v=y+(w<<6&4294967295|w>>>26),w=A+(y^(v|~R))+I[15]+4264355552&4294967295,A=v+(w<<10&4294967295|w>>>22),w=R+(v^(A|~y))+I[6]+2734768916&4294967295,R=A+(w<<15&4294967295|w>>>17),w=y+(A^(R|~v))+I[13]+1309151649&4294967295,y=R+(w<<21&4294967295|w>>>11),w=v+(R^(y|~A))+I[4]+4149444226&4294967295,v=y+(w<<6&4294967295|w>>>26),w=A+(y^(v|~R))+I[11]+3174756917&4294967295,A=v+(w<<10&4294967295|w>>>22),w=R+(v^(A|~y))+I[2]+718787259&4294967295,R=A+(w<<15&4294967295|w>>>17),w=y+(A^(R|~v))+I[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(R+(w<<21&4294967295|w>>>11))&4294967295,E.g[2]=E.g[2]+R&4294967295,E.g[3]=E.g[3]+A&4294967295}r.prototype.v=function(E,v){v===void 0&&(v=E.length);const y=v-this.blockSize,I=this.C;let R=this.h,A=0;for(;A<v;){if(R==0)for(;A<=y;)s(this,E,A),A+=this.blockSize;if(typeof E=="string"){for(;A<v;)if(I[R++]=E.charCodeAt(A++),R==this.blockSize){s(this,I),R=0;break}}else for(;A<v;)if(I[R++]=E[A++],R==this.blockSize){s(this,I),R=0;break}}this.h=R,this.o+=v},r.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;v=this.o*8;for(var y=E.length-8;y<E.length;++y)E[y]=v&255,v/=256;for(this.v(E),E=Array(16),v=0,y=0;y<4;++y)for(let I=0;I<32;I+=8)E[v++]=this.g[y]>>>I&255;return E};function i(E,v){var y=l;return Object.prototype.hasOwnProperty.call(y,E)?y[E]:y[E]=v(E)}function o(E,v){this.h=v;const y=[];let I=!0;for(let R=E.length-1;R>=0;R--){const A=E[R]|0;I&&A==v||(y[R]=A,I=!1)}this.g=y}var l={};function c(E){return-128<=E&&E<128?i(E,function(v){return new o([v|0],v<0?-1:0)}):new o([E|0],E<0?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return d;if(E<0)return D(u(-E));const v=[];let y=1;for(let I=0;E>=y;I++)v[I]=E/y|0,y*=4294967296;return new o(v,0)}function h(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return D(h(E.substring(1),v));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const y=u(Math.pow(v,8));let I=d;for(let A=0;A<E.length;A+=8){var R=Math.min(8,E.length-A);const w=parseInt(E.substring(A,A+R),v);R<8?(R=u(Math.pow(v,R)),I=I.j(R).add(u(w))):(I=I.j(y),I=I.add(u(w)))}return I}var d=c(0),m=c(1),_=c(16777216);e=o.prototype,e.m=function(){if(x(this))return-D(this).m();let E=0,v=1;for(let y=0;y<this.g.length;y++){const I=this.i(y);E+=(I>=0?I:4294967296+I)*v,v*=4294967296}return E},e.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(C(this))return"0";if(x(this))return"-"+D(this).toString(E);const v=u(Math.pow(E,6));var y=this;let I="";for(;;){const R=q(y,v).g;y=F(y,R.j(v));let A=((y.g.length>0?y.g[0]:y.h)>>>0).toString(E);if(y=R,C(y))return A+I;for(;A.length<6;)A="0"+A;I=A+I}},e.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function C(E){if(E.h!=0)return!1;for(let v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function x(E){return E.h==-1}e.l=function(E){return E=F(this,E),x(E)?-1:C(E)?0:1};function D(E){const v=E.g.length,y=[];for(let I=0;I<v;I++)y[I]=~E.g[I];return new o(y,~E.h).add(m)}e.abs=function(){return x(this)?D(this):this},e.add=function(E){const v=Math.max(this.g.length,E.g.length),y=[];let I=0;for(let R=0;R<=v;R++){let A=I+(this.i(R)&65535)+(E.i(R)&65535),w=(A>>>16)+(this.i(R)>>>16)+(E.i(R)>>>16);I=w>>>16,A&=65535,w&=65535,y[R]=w<<16|A}return new o(y,y[y.length-1]&-2147483648?-1:0)};function F(E,v){return E.add(D(v))}e.j=function(E){if(C(this)||C(E))return d;if(x(this))return x(E)?D(this).j(D(E)):D(D(this).j(E));if(x(E))return D(this.j(D(E)));if(this.l(_)<0&&E.l(_)<0)return u(this.m()*E.m());const v=this.g.length+E.g.length,y=[];for(var I=0;I<2*v;I++)y[I]=0;for(I=0;I<this.g.length;I++)for(let R=0;R<E.g.length;R++){const A=this.i(I)>>>16,w=this.i(I)&65535,Rt=E.i(R)>>>16,Wt=E.i(R)&65535;y[2*I+2*R]+=w*Wt,$(y,2*I+2*R),y[2*I+2*R+1]+=A*Wt,$(y,2*I+2*R+1),y[2*I+2*R+1]+=w*Rt,$(y,2*I+2*R+1),y[2*I+2*R+2]+=A*Rt,$(y,2*I+2*R+2)}for(E=0;E<v;E++)y[E]=y[2*E+1]<<16|y[2*E];for(E=v;E<2*v;E++)y[E]=0;return new o(y,0)};function $(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function z(E,v){this.g=E,this.h=v}function q(E,v){if(C(v))throw Error("division by zero");if(C(E))return new z(d,d);if(x(E))return v=q(D(E),v),new z(D(v.g),D(v.h));if(x(v))return v=q(E,D(v)),new z(D(v.g),v.h);if(E.g.length>30){if(x(E)||x(v))throw Error("slowDivide_ only works with positive integers.");for(var y=m,I=v;I.l(E)<=0;)y=rt(y),I=rt(I);var R=K(y,1),A=K(I,1);for(I=K(I,2),y=K(y,2);!C(I);){var w=A.add(I);w.l(E)<=0&&(R=R.add(y),A=w),I=K(I,1),y=K(y,1)}return v=F(E,R.j(v)),new z(R,v)}for(R=d;E.l(v)>=0;){for(y=Math.max(1,Math.floor(E.m()/v.m())),I=Math.ceil(Math.log(y)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),A=u(y),w=A.j(v);x(w)||w.l(E)>0;)y-=I,A=u(y),w=A.j(v);C(A)&&(A=m),R=R.add(A),E=F(E,w)}return new z(R,E)}e.B=function(E){return q(this,E).h},e.and=function(E){const v=Math.max(this.g.length,E.g.length),y=[];for(let I=0;I<v;I++)y[I]=this.i(I)&E.i(I);return new o(y,this.h&E.h)},e.or=function(E){const v=Math.max(this.g.length,E.g.length),y=[];for(let I=0;I<v;I++)y[I]=this.i(I)|E.i(I);return new o(y,this.h|E.h)},e.xor=function(E){const v=Math.max(this.g.length,E.g.length),y=[];for(let I=0;I<v;I++)y[I]=this.i(I)^E.i(I);return new o(y,this.h^E.h)};function rt(E){const v=E.g.length+1,y=[];for(let I=0;I<v;I++)y[I]=E.i(I)<<1|E.i(I-1)>>>31;return new o(y,E.h)}function K(E,v){const y=v>>5;v%=32;const I=E.g.length-y,R=[];for(let A=0;A<I;A++)R[A]=v>0?E.i(A+y)>>>v|E.i(A+y+1)<<32-v:E.i(A+y);return new o(R,E.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Tm=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,nr=o}).apply(typeof gf<"u"?gf:typeof self<"u"?self:typeof window<"u"?window:{});var fo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var bm,Js,Am,So,ql,Im,Rm,Sm;(function(){var e,t=Object.defineProperty;function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof fo=="object"&&fo];for(var f=0;f<a.length;++f){var p=a[f];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function s(a,f){if(f)t:{var p=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var V=a[g];if(!(V in p))break t;p=p[V]}a=a[a.length-1],g=p[a],f=f(g),f!=g&&f!=null&&t(p,a,{configurable:!0,writable:!0,value:f})}}s("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(a){return a||function(f){var p=[],g;for(g in f)Object.prototype.hasOwnProperty.call(f,g)&&p.push([g,f[g]]);return p}});var i=i||{},o=this||self;function l(a){var f=typeof a;return f=="object"&&a!=null||f=="function"}function c(a,f,p){return a.call.apply(a.bind,arguments)}function u(a,f,p){return u=c,u.apply(null,arguments)}function h(a,f){var p=Array.prototype.slice.call(arguments,1);return function(){var g=p.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function d(a,f){function p(){}p.prototype=f.prototype,a.Z=f.prototype,a.prototype=new p,a.prototype.constructor=a,a.Ob=function(g,V,k){for(var W=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)W[gt-2]=arguments[gt];return f.prototype[V].apply(g,W)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function _(a){const f=a.length;if(f>0){const p=Array(f);for(let g=0;g<f;g++)p[g]=a[g];return p}return[]}function C(a,f){for(let g=1;g<arguments.length;g++){const V=arguments[g];var p=typeof V;if(p=p!="object"?p:V?Array.isArray(V)?"array":p:"null",p=="array"||p=="object"&&typeof V.length=="number"){p=a.length||0;const k=V.length||0;a.length=p+k;for(let W=0;W<k;W++)a[p+W]=V[W]}else a.push(V)}}class x{constructor(f,p){this.i=f,this.j=p,this.h=0,this.g=null}get(){let f;return this.h>0?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function D(a){o.setTimeout(()=>{throw a},0)}function F(){var a=E;let f=null;return a.g&&(f=a.g,a.g=a.g.next,a.g||(a.h=null),f.next=null),f}class ${constructor(){this.h=this.g=null}add(f,p){const g=z.get();g.set(f,p),this.h?this.h.next=g:this.g=g,this.h=g}}var z=new x(()=>new q,a=>a.reset());class q{constructor(){this.next=this.g=this.h=null}set(f,p){this.h=f,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,K=!1,E=new $,v=()=>{const a=Promise.resolve(void 0);rt=()=>{a.then(y)}};function y(){for(var a;a=F();){try{a.h.call(a.g)}catch(p){D(p)}var f=z;f.j(a),f.h<100&&(f.h++,a.next=f.g,f.g=a)}K=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(a,f){this.type=a,this.g=this.target=f,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var A=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var a=!1,f=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const p=()=>{};o.addEventListener("test",p,f),o.removeEventListener("test",p,f)}catch{}return a})();function w(a){return/^[\s\xa0]*$/.test(a)}function Rt(a,f){R.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,f)}d(Rt,R),Rt.prototype.init=function(a,f){const p=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=f,f=a.relatedTarget,f||(p=="mouseover"?f=a.fromElement:p=="mouseout"&&(f=a.toElement)),this.relatedTarget=f,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&Rt.Z.h.call(this)},Rt.prototype.h=function(){Rt.Z.h.call(this);const a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Wt="closure_listenable_"+(Math.random()*1e6|0),jt=0;function Pt(a,f,p,g,V){this.listener=a,this.proxy=null,this.src=f,this.type=p,this.capture=!!g,this.ha=V,this.key=++jt,this.da=this.fa=!1}function wt(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Be(a,f,p){for(const g in a)f.call(p,a[g],g,a)}function cn(a,f){for(const p in a)f.call(void 0,a[p],p,a)}function ze(a){const f={};for(const p in a)f[p]=a[p];return f}const fe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bn(a,f){let p,g;for(let V=1;V<arguments.length;V++){g=arguments[V];for(p in g)a[p]=g[p];for(let k=0;k<fe.length;k++)p=fe[k],Object.prototype.hasOwnProperty.call(g,p)&&(a[p]=g[p])}}function tn(a){this.src=a,this.g={},this.h=0}tn.prototype.add=function(a,f,p,g,V){const k=a.toString();a=this.g[k],a||(a=this.g[k]=[],this.h++);const W=Ee(a,f,g,V);return W>-1?(f=a[W],p||(f.fa=!1)):(f=new Pt(f,this.src,k,!!g,V),f.fa=p,a.push(f)),f};function en(a,f){const p=f.type;if(p in a.g){var g=a.g[p],V=Array.prototype.indexOf.call(g,f,void 0),k;(k=V>=0)&&Array.prototype.splice.call(g,V,1),k&&(wt(f),a.g[p].length==0&&(delete a.g[p],a.h--))}}function Ee(a,f,p,g){for(let V=0;V<a.length;++V){const k=a[V];if(!k.da&&k.listener==f&&k.capture==!!p&&k.ha==g)return V}return-1}var M="closure_lm_"+(Math.random()*1e6|0),tt={};function Y(a,f,p,g,V){if(Array.isArray(f)){for(let k=0;k<f.length;k++)Y(a,f[k],p,g,V);return null}return p=X(p),a&&a[Wt]?a.J(f,p,l(g)?!!g.capture:!1,V):it(a,f,p,!1,g,V)}function it(a,f,p,g,V,k){if(!f)throw Error("Invalid event type");const W=l(V)?!!V.capture:!!V;let gt=B(a);if(gt||(a[M]=gt=new tn(a)),p=gt.add(f,p,g,W,k),p.proxy)return p;if(g=yt(),p.proxy=g,g.src=a,g.listener=p,a.addEventListener)A||(V=W),V===void 0&&(V=!1),a.addEventListener(f.toString(),g,V);else if(a.attachEvent)a.attachEvent(P(f.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return p}function yt(){function a(p){return f.call(a.src,a.listener,p)}const f=L;return a}function T(a,f,p,g,V){if(Array.isArray(f))for(var k=0;k<f.length;k++)T(a,f[k],p,g,V);else g=l(g)?!!g.capture:!!g,p=X(p),a&&a[Wt]?(a=a.i,k=String(f).toString(),k in a.g&&(f=a.g[k],p=Ee(f,p,g,V),p>-1&&(wt(f[p]),Array.prototype.splice.call(f,p,1),f.length==0&&(delete a.g[k],a.h--)))):a&&(a=B(a))&&(f=a.g[f.toString()],a=-1,f&&(a=Ee(f,p,g,V)),(p=a>-1?f[a]:null)&&S(p))}function S(a){if(typeof a!="number"&&a&&!a.da){var f=a.src;if(f&&f[Wt])en(f.i,a);else{var p=a.type,g=a.proxy;f.removeEventListener?f.removeEventListener(p,g,a.capture):f.detachEvent?f.detachEvent(P(p),g):f.addListener&&f.removeListener&&f.removeListener(g),(p=B(f))?(en(p,a),p.h==0&&(p.src=null,f[M]=null)):wt(a)}}}function P(a){return a in tt?tt[a]:tt[a]="on"+a}function L(a,f){if(a.da)a=!0;else{f=new Rt(f,this);const p=a.listener,g=a.ha||a.src;a.fa&&S(a),a=p.call(g,f)}return a}function B(a){return a=a[M],a instanceof tn?a:null}var O="__closure_events_fn_"+(Math.random()*1e9>>>0);function X(a){return typeof a=="function"?a:(a[O]||(a[O]=function(f){return a.handleEvent(f)}),a[O])}function G(){I.call(this),this.i=new tn(this),this.M=this,this.G=null}d(G,I),G.prototype[Wt]=!0,G.prototype.removeEventListener=function(a,f,p,g){T(this,a,f,p,g)};function H(a,f){var p,g=a.G;if(g)for(p=[];g;g=g.G)p.push(g);if(a=a.M,g=f.type||f,typeof f=="string")f=new R(f,a);else if(f instanceof R)f.target=f.target||a;else{var V=f;f=new R(g,a),bn(f,V)}V=!0;let k,W;if(p)for(W=p.length-1;W>=0;W--)k=f.g=p[W],V=j(k,g,!0,f)&&V;if(k=f.g=a,V=j(k,g,!0,f)&&V,V=j(k,g,!1,f)&&V,p)for(W=0;W<p.length;W++)k=f.g=p[W],V=j(k,g,!1,f)&&V}G.prototype.N=function(){if(G.Z.N.call(this),this.i){var a=this.i;for(const f in a.g){const p=a.g[f];for(let g=0;g<p.length;g++)wt(p[g]);delete a.g[f],a.h--}}this.G=null},G.prototype.J=function(a,f,p,g){return this.i.add(String(a),f,!1,p,g)},G.prototype.K=function(a,f,p,g){return this.i.add(String(a),f,!0,p,g)};function j(a,f,p,g){if(f=a.i.g[String(f)],!f)return!0;f=f.concat();let V=!0;for(let k=0;k<f.length;++k){const W=f[k];if(W&&!W.da&&W.capture==p){const gt=W.listener,te=W.ha||W.src;W.fa&&en(a.i,W),V=gt.call(te,g)!==!1&&V}}return V&&!g.defaultPrevented}function ct(a,f){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=u(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(f)>2147483647?-1:o.setTimeout(a,f||0)}function Z(a){a.g=ct(()=>{a.g=null,a.i&&(a.i=!1,Z(a))},a.l);const f=a.h;a.h=null,a.m.apply(null,f)}class ot extends I{constructor(f,p){super(),this.m=f,this.l=p,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Z(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ut(a){I.call(this),this.h=a,this.g={}}d(ut,I);var _t=[];function kt(a){Be(a.g,function(f,p){this.g.hasOwnProperty(p)&&S(f)},a),a.g={}}ut.prototype.N=function(){ut.Z.N.call(this),kt(this)},ut.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var St=o.JSON.stringify,we=o.JSON.parse,Te=class{stringify(a){return o.JSON.stringify(a,void 0)}parse(a){return o.JSON.parse(a,void 0)}};function qe(){}function He(){}var nn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Hr(){R.call(this,"d")}d(Hr,R);function de(){R.call(this,"c")}d(de,R);var se={},Ps=null;function vr(){return Ps=Ps||new G}se.Ia="serverreachability";function Cu(a){R.call(this,se.Ia,a)}d(Cu,R);function Vs(a){const f=vr();H(f,new Cu(f))}se.STAT_EVENT="statevent";function xu(a,f){R.call(this,se.STAT_EVENT,a),this.stat=f}d(xu,R);function Pe(a){const f=vr();H(f,new xu(f,a))}se.Ja="timingevent";function Pu(a,f){R.call(this,se.Ja,a),this.size=f}d(Pu,R);function Ds(a,f){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){a()},f)}function ks(){this.g=!0}ks.prototype.ua=function(){this.g=!1};function x_(a,f,p,g,V,k){a.info(function(){if(a.g)if(k){var W="",gt=k.split("&");for(let Ot=0;Ot<gt.length;Ot++){var te=gt[Ot].split("=");if(te.length>1){const ie=te[0];te=te[1];const hn=ie.split("_");W=hn.length>=2&&hn[1]=="type"?W+(ie+"="+te+"&"):W+(ie+"=redacted&")}}}else W=null;else W=k;return"XMLHTTP REQ ("+g+") [attempt "+V+"]: "+f+`
`+p+`
`+W})}function P_(a,f,p,g,V,k,W){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+V+"]: "+f+`
`+p+`
`+k+" "+W})}function Gr(a,f,p,g){a.info(function(){return"XMLHTTP TEXT ("+f+"): "+D_(a,p)+(g?" "+g:"")})}function V_(a,f){a.info(function(){return"TIMEOUT: "+f})}ks.prototype.info=function(){};function D_(a,f){if(!a.g)return f;if(!f)return null;try{const k=JSON.parse(f);if(k){for(a=0;a<k.length;a++)if(Array.isArray(k[a])){var p=k[a];if(!(p.length<2)){var g=p[1];if(Array.isArray(g)&&!(g.length<1)){var V=g[0];if(V!="noop"&&V!="stop"&&V!="close")for(let W=1;W<g.length;W++)g[W]=""}}}}return St(k)}catch{return f}}var Yi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Vu={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Du;function La(){}d(La,qe),La.prototype.g=function(){return new XMLHttpRequest},Du=new La;function Ns(a){return encodeURIComponent(String(a))}function k_(a){var f=1;a=a.split(":");const p=[];for(;f>0&&a.length;)p.push(a.shift()),f--;return a.length&&p.push(a.join(":")),p}function Un(a,f,p,g){this.j=a,this.i=f,this.l=p,this.S=g||1,this.V=new ut(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ku}function ku(){this.i=null,this.g="",this.h=!1}var Nu={},Fa={};function Ua(a,f,p){a.M=1,a.A=Zi(un(f)),a.u=p,a.R=!0,Ou(a,null)}function Ou(a,f){a.F=Date.now(),Ji(a),a.B=un(a.A);var p=a.B,g=a.S;Array.isArray(g)||(g=[String(g)]),Wu(p.i,"t",g),a.C=0,p=a.j.L,a.h=new ku,a.g=fh(a.j,p?f:null,!a.u),a.P>0&&(a.O=new ot(u(a.Y,a,a.g),a.P)),f=a.V,p=a.g,g=a.ba;var V="readystatechange";Array.isArray(V)||(V&&(_t[0]=V.toString()),V=_t);for(let k=0;k<V.length;k++){const W=Y(p,V[k],g||f.handleEvent,!1,f.h||f);if(!W)break;f.g[W.key]=W}f=a.J?ze(a.J):{},a.u?(a.v||(a.v="POST"),f["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,f)):(a.v="GET",a.g.ea(a.B,a.v,null,f)),Vs(),x_(a.i,a.v,a.B,a.l,a.S,a.u)}Un.prototype.ba=function(a){a=a.target;const f=this.O;f&&jn(a)==3?f.j():this.Y(a)},Un.prototype.Y=function(a){try{if(a==this.g)t:{const gt=jn(this.g),te=this.g.ya(),Ot=this.g.ca();if(!(gt<3)&&(gt!=3||this.g&&(this.h.h||this.g.la()||eh(this.g)))){this.K||gt!=4||te==7||(te==8||Ot<=0?Vs(3):Vs(2)),Ba(this);var f=this.g.ca();this.X=f;var p=N_(this);if(this.o=f==200,P_(this.i,this.v,this.B,this.l,this.S,gt,f),this.o){if(this.U&&!this.L){e:{if(this.g){var g,V=this.g;if((g=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(g)){var k=g;break e}}k=null}if(a=k)Gr(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,$a(this,a);else{this.o=!1,this.m=3,Pe(12),Er(this),Os(this);break t}}if(this.R){a=!0;let ie;for(;!this.K&&this.C<p.length;)if(ie=O_(this,p),ie==Fa){gt==4&&(this.m=4,Pe(14),a=!1),Gr(this.i,this.l,null,"[Incomplete Response]");break}else if(ie==Nu){this.m=4,Pe(15),Gr(this.i,this.l,p,"[Invalid Chunk]"),a=!1;break}else Gr(this.i,this.l,ie,null),$a(this,ie);if(Mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||p.length!=0||this.h.h||(this.m=1,Pe(16),a=!1),this.o=this.o&&a,!a)Gr(this.i,this.l,p,"[Invalid Chunked Response]"),Er(this),Os(this);else if(p.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),Qa(W),W.P=!0,Pe(11))}}else Gr(this.i,this.l,p,null),$a(this,p);gt==4&&Er(this),this.o&&!this.K&&(gt==4?lh(this.j,this):(this.o=!1,Ji(this)))}else Q_(this.g),f==400&&p.indexOf("Unknown SID")>0?(this.m=3,Pe(12)):(this.m=0,Pe(13)),Er(this),Os(this)}}}catch{}finally{}};function N_(a){if(!Mu(a))return a.g.la();const f=eh(a.g);if(f==="")return"";let p="";const g=f.length,V=jn(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return Er(a),Os(a),"";a.h.i=new o.TextDecoder}for(let k=0;k<g;k++)a.h.h=!0,p+=a.h.i.decode(f[k],{stream:!(V&&k==g-1)});return f.length=0,a.h.g+=p,a.C=0,a.h.g}function Mu(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function O_(a,f){var p=a.C,g=f.indexOf(`
`,p);return g==-1?Fa:(p=Number(f.substring(p,g)),isNaN(p)?Nu:(g+=1,g+p>f.length?Fa:(f=f.slice(g,g+p),a.C=g+p,f)))}Un.prototype.cancel=function(){this.K=!0,Er(this)};function Ji(a){a.T=Date.now()+a.H,Lu(a,a.H)}function Lu(a,f){if(a.D!=null)throw Error("WatchDog timer not null");a.D=Ds(u(a.aa,a),f)}function Ba(a){a.D&&(o.clearTimeout(a.D),a.D=null)}Un.prototype.aa=function(){this.D=null;const a=Date.now();a-this.T>=0?(V_(this.i,this.B),this.M!=2&&(Vs(),Pe(17)),Er(this),this.m=2,Os(this)):Lu(this,this.T-a)};function Os(a){a.j.I==0||a.K||lh(a.j,a)}function Er(a){Ba(a);var f=a.O;f&&typeof f.dispose=="function"&&f.dispose(),a.O=null,kt(a.V),a.g&&(f=a.g,a.g=null,f.abort(),f.dispose())}function $a(a,f){try{var p=a.j;if(p.I!=0&&(p.g==a||ja(p.h,a))){if(!a.L&&ja(p.h,a)&&p.I==3){try{var g=p.Ba.g.parse(f)}catch{g=null}if(Array.isArray(g)&&g.length==3){var V=g;if(V[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<a.F)so(p),no(p);else break t;Wa(p),Pe(18)}}else p.xa=V[1],0<p.xa-p.K&&V[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Ds(u(p.Va,p),6e3));Bu(p.h)<=1&&p.ta&&(p.ta=void 0)}else Tr(p,11)}else if((a.L||p.g==a)&&so(p),!w(f))for(V=p.Ba.g.parse(f),f=0;f<V.length;f++){let Ot=V[f];const ie=Ot[0];if(!(ie<=p.K))if(p.K=ie,Ot=Ot[1],p.I==2)if(Ot[0]=="c"){p.M=Ot[1],p.ba=Ot[2];const hn=Ot[3];hn!=null&&(p.ka=hn,p.j.info("VER="+p.ka));const br=Ot[4];br!=null&&(p.za=br,p.j.info("SVER="+p.za));const zn=Ot[5];zn!=null&&typeof zn=="number"&&zn>0&&(g=1.5*zn,p.O=g,p.j.info("backChannelRequestTimeoutMs_="+g)),g=p;const qn=a.g;if(qn){const oo=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oo){var k=g.h;k.g||oo.indexOf("spdy")==-1&&oo.indexOf("quic")==-1&&oo.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(za(k,k.h),k.h=null))}if(g.G){const Xa=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xa&&(g.wa=Xa,Bt(g.J,g.G,Xa))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-a.F,p.j.info("Handshake RTT: "+p.T+"ms")),g=p;var W=a;if(g.na=hh(g,g.L?g.ba:null,g.W),W.L){$u(g.h,W);var gt=W,te=g.O;te&&(gt.H=te),gt.D&&(Ba(gt),Ji(gt)),g.g=W}else oh(g);p.i.length>0&&ro(p)}else Ot[0]!="stop"&&Ot[0]!="close"||Tr(p,7);else p.I==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?Tr(p,7):Ka(p):Ot[0]!="noop"&&p.l&&p.l.qa(Ot),p.A=0)}}Vs(4)}catch{}}var M_=class{constructor(a,f){this.g=a,this.map=f}};function Fu(a){this.l=a||10,o.PerformanceNavigationTiming?(a=o.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Uu(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Bu(a){return a.h?1:a.g?a.g.size:0}function ja(a,f){return a.h?a.h==f:a.g?a.g.has(f):!1}function za(a,f){a.g?a.g.add(f):a.h=f}function $u(a,f){a.h&&a.h==f?a.h=null:a.g&&a.g.has(f)&&a.g.delete(f)}Fu.prototype.cancel=function(){if(this.i=ju(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function ju(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let f=a.i;for(const p of a.g.values())f=f.concat(p.G);return f}return _(a.i)}var zu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function L_(a,f){if(a){a=a.split("&");for(let p=0;p<a.length;p++){const g=a[p].indexOf("=");let V,k=null;g>=0?(V=a[p].substring(0,g),k=a[p].substring(g+1)):V=a[p],f(V,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function Bn(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let f;a instanceof Bn?(this.l=a.l,Ms(this,a.j),this.o=a.o,this.g=a.g,Ls(this,a.u),this.h=a.h,qa(this,Qu(a.i)),this.m=a.m):a&&(f=String(a).match(zu))?(this.l=!1,Ms(this,f[1]||"",!0),this.o=Fs(f[2]||""),this.g=Fs(f[3]||"",!0),Ls(this,f[4]),this.h=Fs(f[5]||"",!0),qa(this,f[6]||"",!0),this.m=Fs(f[7]||"")):(this.l=!1,this.i=new Bs(null,this.l))}Bn.prototype.toString=function(){const a=[];var f=this.j;f&&a.push(Us(f,qu,!0),":");var p=this.g;return(p||f=="file")&&(a.push("//"),(f=this.o)&&a.push(Us(f,qu,!0),"@"),a.push(Ns(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&a.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(Us(p,p.charAt(0)=="/"?B_:U_,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",Us(p,j_)),a.join("")},Bn.prototype.resolve=function(a){const f=un(this);let p=!!a.j;p?Ms(f,a.j):p=!!a.o,p?f.o=a.o:p=!!a.g,p?f.g=a.g:p=a.u!=null;var g=a.h;if(p)Ls(f,a.u);else if(p=!!a.h){if(g.charAt(0)!="/")if(this.g&&!this.h)g="/"+g;else{var V=f.h.lastIndexOf("/");V!=-1&&(g=f.h.slice(0,V+1)+g)}if(V=g,V==".."||V==".")g="";else if(V.indexOf("./")!=-1||V.indexOf("/.")!=-1){g=V.lastIndexOf("/",0)==0,V=V.split("/");const k=[];for(let W=0;W<V.length;){const gt=V[W++];gt=="."?g&&W==V.length&&k.push(""):gt==".."?((k.length>1||k.length==1&&k[0]!="")&&k.pop(),g&&W==V.length&&k.push("")):(k.push(gt),g=!0)}g=k.join("/")}else g=V}return p?f.h=g:p=a.i.toString()!=="",p?qa(f,Qu(a.i)):p=!!a.m,p&&(f.m=a.m),f};function un(a){return new Bn(a)}function Ms(a,f,p){a.j=p?Fs(f,!0):f,a.j&&(a.j=a.j.replace(/:$/,""))}function Ls(a,f){if(f){if(f=Number(f),isNaN(f)||f<0)throw Error("Bad port number "+f);a.u=f}else a.u=null}function qa(a,f,p){f instanceof Bs?(a.i=f,z_(a.i,a.l)):(p||(f=Us(f,$_)),a.i=new Bs(f,a.l))}function Bt(a,f,p){a.i.set(f,p)}function Zi(a){return Bt(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function Fs(a,f){return a?f?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Us(a,f,p){return typeof a=="string"?(a=encodeURI(a).replace(f,F_),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function F_(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var qu=/[#\/\?@]/g,U_=/[#\?:]/g,B_=/[#\?]/g,$_=/[#\?@]/g,j_=/#/g;function Bs(a,f){this.h=this.g=null,this.i=a||null,this.j=!!f}function wr(a){a.g||(a.g=new Map,a.h=0,a.i&&L_(a.i,function(f,p){a.add(decodeURIComponent(f.replace(/\+/g," ")),p)}))}e=Bs.prototype,e.add=function(a,f){wr(this),this.i=null,a=Kr(this,a);let p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(f),this.h+=1,this};function Hu(a,f){wr(a),f=Kr(a,f),a.g.has(f)&&(a.i=null,a.h-=a.g.get(f).length,a.g.delete(f))}function Gu(a,f){return wr(a),f=Kr(a,f),a.g.has(f)}e.forEach=function(a,f){wr(this),this.g.forEach(function(p,g){p.forEach(function(V){a.call(f,V,g,this)},this)},this)};function Ku(a,f){wr(a);let p=[];if(typeof f=="string")Gu(a,f)&&(p=p.concat(a.g.get(Kr(a,f))));else for(a=Array.from(a.g.values()),f=0;f<a.length;f++)p=p.concat(a[f]);return p}e.set=function(a,f){return wr(this),this.i=null,a=Kr(this,a),Gu(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[f]),this.h+=1,this},e.get=function(a,f){return a?(a=Ku(this,a),a.length>0?String(a[0]):f):f};function Wu(a,f,p){Hu(a,f),p.length>0&&(a.i=null,a.g.set(Kr(a,f),_(p)),a.h+=p.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],f=Array.from(this.g.keys());for(let g=0;g<f.length;g++){var p=f[g];const V=Ns(p);p=Ku(this,p);for(let k=0;k<p.length;k++){let W=V;p[k]!==""&&(W+="="+Ns(p[k])),a.push(W)}}return this.i=a.join("&")};function Qu(a){const f=new Bs;return f.i=a.i,a.g&&(f.g=new Map(a.g),f.h=a.h),f}function Kr(a,f){return f=String(f),a.j&&(f=f.toLowerCase()),f}function z_(a,f){f&&!a.j&&(wr(a),a.i=null,a.g.forEach(function(p,g){const V=g.toLowerCase();g!=V&&(Hu(this,g),Wu(this,V,p))},a)),a.j=f}function q_(a,f){const p=new ks;if(o.Image){const g=new Image;g.onload=h($n,p,"TestLoadImage: loaded",!0,f,g),g.onerror=h($n,p,"TestLoadImage: error",!1,f,g),g.onabort=h($n,p,"TestLoadImage: abort",!1,f,g),g.ontimeout=h($n,p,"TestLoadImage: timeout",!1,f,g),o.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else f(!1)}function H_(a,f){const p=new ks,g=new AbortController,V=setTimeout(()=>{g.abort(),$n(p,"TestPingServer: timeout",!1,f)},1e4);fetch(a,{signal:g.signal}).then(k=>{clearTimeout(V),k.ok?$n(p,"TestPingServer: ok",!0,f):$n(p,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(V),$n(p,"TestPingServer: error",!1,f)})}function $n(a,f,p,g,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),g(p)}catch{}}function G_(){this.g=new Te}function Ha(a){this.i=a.Sb||null,this.h=a.ab||!1}d(Ha,qe),Ha.prototype.g=function(){return new to(this.i,this.h)};function to(a,f){G.call(this),this.H=a,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(to,G),e=to.prototype,e.open=function(a,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=f,this.readyState=1,js(this)},e.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const f={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(f.body=a),(this.H||o).fetch(new Request(this.D,f)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,$s(this)),this.readyState=0},e.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,js(this)),this.g&&(this.readyState=3,js(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Xu(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function Xu(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}e.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var f=a.value?a.value:new Uint8Array(0);(f=this.B.decode(f,{stream:!a.done}))&&(this.response=this.responseText+=f)}a.done?$s(this):js(this),this.readyState==3&&Xu(this)}},e.Oa=function(a){this.g&&(this.response=this.responseText=a,$s(this))},e.Na=function(a){this.g&&(this.response=a,$s(this))},e.ga=function(){this.g&&$s(this)};function $s(a){a.readyState=4,a.l=null,a.j=null,a.B=null,js(a)}e.setRequestHeader=function(a,f){this.A.append(a,f)},e.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],f=this.h.entries();for(var p=f.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=f.next();return a.join(`\r
`)};function js(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(to.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Yu(a){let f="";return Be(a,function(p,g){f+=g,f+=":",f+=p,f+=`\r
`}),f}function Ga(a,f,p){t:{for(g in p){var g=!1;break t}g=!0}g||(p=Yu(p),typeof a=="string"?p!=null&&Ns(p):Bt(a,f,p))}function qt(a){G.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(qt,G);var K_=/^https?$/i,W_=["POST","PUT"];e=qt.prototype,e.Fa=function(a){this.H=a},e.ea=function(a,f,p,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);f=f?f.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Du.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(f,String(a),!0),this.B=!1}catch(k){Ju(this,k);return}if(a=p||"",p=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var V in g)p.set(V,g[V]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(const k of g.keys())p.set(k,g.get(k));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(p.keys()).find(k=>k.toLowerCase()=="content-type"),V=o.FormData&&a instanceof o.FormData,!(Array.prototype.indexOf.call(W_,f,void 0)>=0)||g||V||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,W]of p)this.g.setRequestHeader(k,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch(k){Ju(this,k)}};function Ju(a,f){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=f,a.o=5,Zu(a),eo(a)}function Zu(a){a.A||(a.A=!0,H(a,"complete"),H(a,"error"))}e.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,H(this,"complete"),H(this,"abort"),eo(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),eo(this,!0)),qt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?th(this):this.Xa())},e.Xa=function(){th(this)};function th(a){if(a.h&&typeof i<"u"){if(a.v&&jn(a)==4)setTimeout(a.Ca.bind(a),0);else if(H(a,"readystatechange"),jn(a)==4){a.h=!1;try{const k=a.ca();t:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break t;default:f=!1}var p;if(!(p=f)){var g;if(g=k===0){let W=String(a.D).match(zu)[1]||null;!W&&o.self&&o.self.location&&(W=o.self.location.protocol.slice(0,-1)),g=!K_.test(W?W.toLowerCase():"")}p=g}if(p)H(a,"complete"),H(a,"success");else{a.o=6;try{var V=jn(a)>2?a.g.statusText:""}catch{V=""}a.l=V+" ["+a.ca()+"]",Zu(a)}}finally{eo(a)}}}}function eo(a,f){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);const p=a.g;a.g=null,f||H(a,"ready");try{p.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function jn(a){return a.g?a.g.readyState:0}e.ca=function(){try{return jn(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(a){if(this.g){var f=this.g.responseText;return a&&f.indexOf(a)==0&&(f=f.substring(a.length)),we(f)}};function eh(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Q_(a){const f={};a=(a.g&&jn(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(w(a[g]))continue;var p=k_(a[g]);const V=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const k=f[V]||[];f[V]=k,k.push(p)}cn(f,function(g){return g.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function zs(a,f,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||f}function nh(a){this.za=0,this.i=[],this.j=new ks,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=zs("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=zs("baseRetryDelayMs",5e3,a),this.Za=zs("retryDelaySeedMs",1e4,a),this.Ta=zs("forwardChannelMaxRetries",2,a),this.va=zs("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new Fu(a&&a.concurrentRequestLimit),this.Ba=new G_,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=nh.prototype,e.ka=8,e.I=1,e.connect=function(a,f,p,g){Pe(0),this.W=a,this.H=f||{},p&&g!==void 0&&(this.H.OSID=p,this.H.OAID=g),this.F=this.X,this.J=hh(this,null,this.W),ro(this)};function Ka(a){if(rh(a),a.I==3){var f=a.V++,p=un(a.J);if(Bt(p,"SID",a.M),Bt(p,"RID",f),Bt(p,"TYPE","terminate"),qs(a,p),f=new Un(a,a.j,f),f.M=2,f.A=Zi(un(p)),p=!1,o.navigator&&o.navigator.sendBeacon)try{p=o.navigator.sendBeacon(f.A.toString(),"")}catch{}!p&&o.Image&&(new Image().src=f.A,p=!0),p||(f.g=fh(f.j,null),f.g.ea(f.A)),f.F=Date.now(),Ji(f)}uh(a)}function no(a){a.g&&(Qa(a),a.g.cancel(),a.g=null)}function rh(a){no(a),a.v&&(o.clearTimeout(a.v),a.v=null),so(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&o.clearTimeout(a.m),a.m=null)}function ro(a){if(!Uu(a.h)&&!a.m){a.m=!0;var f=a.Ea;rt||v(),K||(rt(),K=!0),E.add(f,a),a.D=0}}function X_(a,f){return Bu(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=f.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=Ds(u(a.Ea,a,f),ch(a,a.D)),a.D++,!0)}e.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;const V=new Un(this,this.j,a);let k=this.o;if(this.U&&(k?(k=ze(k),bn(k,this.U)):k=this.U),this.u!==null||this.R||(V.J=k,k=null),this.S)t:{for(var f=0,p=0;p<this.i.length;p++){e:{var g=this.i[p];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break e}g=void 0}if(g===void 0)break;if(f+=g,f>4096){f=p;break t}if(f===4096||p===this.i.length-1){f=p+1;break t}}f=1e3}else f=1e3;f=ih(this,V,f),p=un(this.J),Bt(p,"RID",a),Bt(p,"CVER",22),this.G&&Bt(p,"X-HTTP-Session-Id",this.G),qs(this,p),k&&(this.R?f="headers="+Ns(Yu(k))+"&"+f:this.u&&Ga(p,this.u,k)),za(this.h,V),this.Ra&&Bt(p,"TYPE","init"),this.S?(Bt(p,"$req",f),Bt(p,"SID","null"),V.U=!0,Ua(V,p,null)):Ua(V,p,f),this.I=2}}else this.I==3&&(a?sh(this,a):this.i.length==0||Uu(this.h)||sh(this))};function sh(a,f){var p;f?p=f.l:p=a.V++;const g=un(a.J);Bt(g,"SID",a.M),Bt(g,"RID",p),Bt(g,"AID",a.K),qs(a,g),a.u&&a.o&&Ga(g,a.u,a.o),p=new Un(a,a.j,p,a.D+1),a.u===null&&(p.J=a.o),f&&(a.i=f.G.concat(a.i)),f=ih(a,p,1e3),p.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),za(a.h,p),Ua(p,g,f)}function qs(a,f){a.H&&Be(a.H,function(p,g){Bt(f,g,p)}),a.l&&Be({},function(p,g){Bt(f,g,p)})}function ih(a,f,p){p=Math.min(a.i.length,p);const g=a.l?u(a.l.Ka,a.l,a):null;t:{var V=a.i;let gt=-1;for(;;){const te=["count="+p];gt==-1?p>0?(gt=V[0].g,te.push("ofs="+gt)):gt=0:te.push("ofs="+gt);let Ot=!0;for(let ie=0;ie<p;ie++){var k=V[ie].g;const hn=V[ie].map;if(k-=gt,k<0)gt=Math.max(0,V[ie].g-100),Ot=!1;else try{k="req"+k+"_"||"";try{var W=hn instanceof Map?hn:Object.entries(hn);for(const[br,zn]of W){let qn=zn;l(zn)&&(qn=St(zn)),te.push(k+br+"="+encodeURIComponent(qn))}}catch(br){throw te.push(k+"type="+encodeURIComponent("_badmap")),br}}catch{g&&g(hn)}}if(Ot){W=te.join("&");break t}}W=void 0}return a=a.i.splice(0,p),f.G=a,W}function oh(a){if(!a.g&&!a.v){a.Y=1;var f=a.Da;rt||v(),K||(rt(),K=!0),E.add(f,a),a.A=0}}function Wa(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=Ds(u(a.Da,a),ch(a,a.A)),a.A++,!0)}e.Da=function(){if(this.v=null,ah(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=Ds(u(this.Wa,this),a)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Pe(10),no(this),ah(this))};function Qa(a){a.B!=null&&(o.clearTimeout(a.B),a.B=null)}function ah(a){a.g=new Un(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var f=un(a.na);Bt(f,"RID","rpc"),Bt(f,"SID",a.M),Bt(f,"AID",a.K),Bt(f,"CI",a.F?"0":"1"),!a.F&&a.ia&&Bt(f,"TO",a.ia),Bt(f,"TYPE","xmlhttp"),qs(a,f),a.u&&a.o&&Ga(f,a.u,a.o),a.O&&(a.g.H=a.O);var p=a.g;a=a.ba,p.M=1,p.A=Zi(un(f)),p.u=null,p.R=!0,Ou(p,a)}e.Va=function(){this.C!=null&&(this.C=null,no(this),Wa(this),Pe(19))};function so(a){a.C!=null&&(o.clearTimeout(a.C),a.C=null)}function lh(a,f){var p=null;if(a.g==f){so(a),Qa(a),a.g=null;var g=2}else if(ja(a.h,f))p=f.G,$u(a.h,f),g=1;else return;if(a.I!=0){if(f.o)if(g==1){p=f.u?f.u.length:0,f=Date.now()-f.F;var V=a.D;g=vr(),H(g,new Pu(g,p)),ro(a)}else oh(a);else if(V=f.m,V==3||V==0&&f.X>0||!(g==1&&X_(a,f)||g==2&&Wa(a)))switch(p&&p.length>0&&(f=a.h,f.i=f.i.concat(p)),V){case 1:Tr(a,5);break;case 4:Tr(a,10);break;case 3:Tr(a,6);break;default:Tr(a,2)}}}function ch(a,f){let p=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(p*=2),p*f}function Tr(a,f){if(a.j.info("Error code "+f),f==2){var p=u(a.bb,a),g=a.Ua;const V=!g;g=new Bn(g||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Ms(g,"https"),Zi(g),V?q_(g.toString(),p):H_(g.toString(),p)}else Pe(2);a.I=0,a.l&&a.l.pa(f),uh(a),rh(a)}e.bb=function(a){a?(this.j.info("Successfully pinged google.com"),Pe(2)):(this.j.info("Failed to ping google.com"),Pe(1))};function uh(a){if(a.I=0,a.ja=[],a.l){const f=ju(a.h);(f.length!=0||a.i.length!=0)&&(C(a.ja,f),C(a.ja,a.i),a.h.i.length=0,_(a.i),a.i.length=0),a.l.oa()}}function hh(a,f,p){var g=p instanceof Bn?un(p):new Bn(p);if(g.g!="")f&&(g.g=f+"."+g.g),Ls(g,g.u);else{var V=o.location;g=V.protocol,f=f?f+"."+V.hostname:V.hostname,V=+V.port;const k=new Bn(null);g&&Ms(k,g),f&&(k.g=f),V&&Ls(k,V),p&&(k.h=p),g=k}return p=a.G,f=a.wa,p&&f&&Bt(g,p,f),Bt(g,"VER",a.ka),qs(a,g),g}function fh(a,f,p){if(f&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return f=a.Aa&&!a.ma?new qt(new Ha({ab:p})):new qt(a.ma),f.Fa(a.L),f}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function dh(){}e=dh.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function io(){}io.prototype.g=function(a,f){return new Ge(a,f)};function Ge(a,f){G.call(this),this.g=new nh(f),this.l=a,this.h=f&&f.messageUrlParams||null,a=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(a?a["X-WebChannel-Content-Type"]=f.messageContentType:a={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.sa&&(a?a["X-WebChannel-Client-Profile"]=f.sa:a={"X-WebChannel-Client-Profile":f.sa}),this.g.U=a,(a=f&&f.Qb)&&!w(a)&&(this.g.u=a),this.A=f&&f.supportsCrossDomainXhr||!1,this.v=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!w(f)&&(this.g.G=f,a=this.h,a!==null&&f in a&&(a=this.h,f in a&&delete a[f])),this.j=new Wr(this)}d(Ge,G),Ge.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ge.prototype.close=function(){Ka(this.g)},Ge.prototype.o=function(a){var f=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.v&&(p={},p.__data__=St(a),a=p);f.i.push(new M_(f.Ya++,a)),f.I==3&&ro(f)},Ge.prototype.N=function(){this.g.l=null,delete this.j,Ka(this.g),delete this.g,Ge.Z.N.call(this)};function ph(a){Hr.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var f=a.__sm__;if(f){t:{for(const p in f){a=p;break t}a=void 0}(this.i=a)&&(a=this.i,f=f!==null&&a in f?f[a]:void 0),this.data=f}else this.data=a}d(ph,Hr);function mh(){de.call(this),this.status=1}d(mh,de);function Wr(a){this.g=a}d(Wr,dh),Wr.prototype.ra=function(){H(this.g,"a")},Wr.prototype.qa=function(a){H(this.g,new ph(a))},Wr.prototype.pa=function(a){H(this.g,new mh)},Wr.prototype.oa=function(){H(this.g,"b")},io.prototype.createWebChannel=io.prototype.g,Ge.prototype.send=Ge.prototype.o,Ge.prototype.open=Ge.prototype.m,Ge.prototype.close=Ge.prototype.close,Sm=function(){return new io},Rm=function(){return vr()},Im=se,ql={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Yi.NO_ERROR=0,Yi.TIMEOUT=8,Yi.HTTP_ERROR=6,So=Yi,Vu.COMPLETE="complete",Am=Vu,He.EventType=nn,nn.OPEN="a",nn.CLOSE="b",nn.ERROR="c",nn.MESSAGE="d",G.prototype.listen=G.prototype.J,Js=He,qt.prototype.listenOnce=qt.prototype.K,qt.prototype.getLastError=qt.prototype.Ha,qt.prototype.getLastErrorCode=qt.prototype.ya,qt.prototype.getStatus=qt.prototype.ca,qt.prototype.getResponseJson=qt.prototype.La,qt.prototype.getResponseText=qt.prototype.la,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Fa,bm=qt}).apply(typeof fo<"u"?fo:typeof self<"u"?self:typeof window<"u"?window:{});const _f="@firebase/firestore",yf="4.9.2";class Ae{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ae.UNAUTHENTICATED=new Ae(null),Ae.GOOGLE_CREDENTIALS=new Ae("google-credentials-uid"),Ae.FIRST_PARTY=new Ae("first-party-uid"),Ae.MOCK_USER=new Ae("mock-user");let bs="12.3.0";const Ur=new fm("@firebase/firestore");function Jr(){return Ur.logLevel}function et(e,...t){if(Ur.logLevel<=bt.DEBUG){const n=t.map(Mc);Ur.debug(`Firestore (${bs}): ${e}`,...n)}}function On(e,...t){if(Ur.logLevel<=bt.ERROR){const n=t.map(Mc);Ur.error(`Firestore (${bs}): ${e}`,...n)}}function ps(e,...t){if(Ur.logLevel<=bt.WARN){const n=t.map(Mc);Ur.warn(`Firestore (${bs}): ${e}`,...n)}}function Mc(e){if(typeof e=="string")return e;try{return(function(n){return JSON.stringify(n)})(e)}catch{return e}}function lt(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,Cm(e,r,n)}function Cm(e,t,n){let r=`FIRESTORE (${bs}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw On(r),new Error(r)}function It(e,t,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,e||Cm(t,s,r)}function pt(e,t){return e}const N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends jr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yn{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class xm{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class tE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Ae.UNAUTHENTICATED)))}shutdown(){}}class eE{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class nE{constructor(t){this.t=t,this.currentUser=Ae.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){It(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new yn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new yn,t.enqueueRetryable((()=>s(this.currentUser)))};const o=()=>{const c=i;t.enqueueRetryable((async()=>{await c.promise,await s(this.currentUser)}))},l=c=>{et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(et("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new yn)}}),0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(It(typeof r.accessToken=="string",31837,{l:r}),new xm(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return It(t===null||typeof t=="string",2055,{h:t}),new Ae(t)}}class rE{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=Ae.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sE{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new rE(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Ae.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vf{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iE{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gm(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){It(this.o===void 0,3512);const r=i=>{i.error!=null&&et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,et("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable((()=>r(i)))};const s=i=>{et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vf(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(It(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new vf(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function oE(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Lc{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=oE(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=t.charAt(s[i]%62))}return r}}function vt(e,t){return e<t?-1:e>t?1:0}function Hl(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const s=e.charAt(r),i=t.charAt(r);if(s!==i)return pl(s)===pl(i)?vt(s,i):pl(s)?1:-1}return vt(e.length,t.length)}const aE=55296,lE=57343;function pl(e){const t=e.charCodeAt(0);return t>=aE&&t<=lE}function ms(e,t,n){return e.length===t.length&&e.every(((r,s)=>n(r,t[s])))}const Ef="__name__";class pn{constructor(t,n,r){n===void 0?n=0:n>t.length&&lt(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&lt(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return pn.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof pn?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let s=0;s<r;s++){const i=pn.compareSegments(t.get(s),n.get(s));if(i!==0)return i}return vt(t.length,n.length)}static compareSegments(t,n){const r=pn.isNumericId(t),s=pn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?pn.extractNumericId(t).compare(pn.extractNumericId(n)):Hl(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return nr.fromString(t.substring(4,t.length-2))}}class Nt extends pn{construct(t,n,r){return new Nt(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new Q(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new Nt(n)}static emptyPath(){return new Nt([])}}const cE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _e extends pn{construct(t,n,r){return new _e(t,n,r)}static isValidIdentifier(t){return cE.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_e.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ef}static keyField(){return new _e([Ef])}static fromServerFormat(t){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Q(N.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<t.length;){const l=t[s];if(l==="\\"){if(s+1===t.length)throw new Q(N.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Q(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new Q(N.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new _e(n)}static emptyPath(){return new _e([])}}class st{constructor(t){this.path=t}static fromPath(t){return new st(Nt.fromString(t))}static fromName(t){return new st(Nt.fromString(t).popFirst(5))}static empty(){return new st(Nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Nt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Nt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new st(new Nt(t.slice()))}}function Pm(e,t,n){if(!n)throw new Q(N.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function uE(e,t,n,r){if(t===!0&&r===!0)throw new Q(N.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function wf(e){if(!st.isDocumentKey(e))throw new Q(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Tf(e){if(st.isDocumentKey(e))throw new Q(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Vm(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function ga(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":lt(12329,{type:typeof e})}function Ze(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Q(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ga(e);throw new Q(N.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Zt(e,t){const n={typeString:e};return t&&(n.value=t),n}function ji(e,t){if(!Vm(e))throw new Q(N.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const s=t[r].typeString,i="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const o=e[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Q(N.INVALID_ARGUMENT,n);return!0}const bf=-62135596800,Af=1e6;class $t{static now(){return $t.fromMillis(Date.now())}static fromDate(t){return $t.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*Af);return new $t(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Q(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<bf)throw new Q(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Q(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Af}_compareTo(t){return this.seconds===t.seconds?vt(this.nanoseconds,t.nanoseconds):vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:$t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ji(t,$t._jsonSchema))return new $t(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-bf;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}$t._jsonSchemaVersion="firestore/timestamp/1.0",$t._jsonSchema={type:Zt("string",$t._jsonSchemaVersion),seconds:Zt("number"),nanoseconds:Zt("number")};class ft{static fromTimestamp(t){return new ft(t)}static min(){return new ft(new $t(0,0))}static max(){return new ft(new $t(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Pi=-1;function hE(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=ft.fromTimestamp(r===1e9?new $t(n+1,0):new $t(n,r));return new lr(s,st.empty(),t)}function fE(e){return new lr(e.readTime,e.key,Pi)}class lr{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new lr(ft.min(),st.empty(),Pi)}static max(){return new lr(ft.max(),st.empty(),Pi)}}function dE(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=st.comparator(e.documentKey,t.documentKey),n!==0?n:vt(e.largestBatchId,t.largestBatchId))}const pE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function As(e){if(e.code!==N.FAILED_PRECONDITION||e.message!==pE)throw e;et("LocalStore","Unexpectedly lost primary lease")}class U{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&lt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new U(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):U.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):U.reject(n)}static resolve(t){return new U(((n,r)=>{n(t)}))}static reject(t){return new U(((n,r)=>{r(t)}))}static waitFor(t){return new U(((n,r)=>{let s=0,i=0,o=!1;t.forEach((l=>{++s,l.next((()=>{++i,o&&i===s&&n()}),(c=>r(c)))})),o=!0,i===s&&n()}))}static or(t){let n=U.resolve(!1);for(const r of t)n=n.next((s=>s?U.resolve(s):r()));return n}static forEach(t,n){const r=[];return t.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(t,n){return new U(((r,s)=>{const i=t.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;n(t[u]).next((h=>{o[u]=h,++l,l===i&&r(o)}),(h=>s(h)))}}))}static doWhile(t,n){return new U(((r,s)=>{const i=()=>{t()===!0?n().next((()=>{i()}),s):r()};i()}))}}function gE(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Is(e){return e.name==="IndexedDbTransactionError"}class _a{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}_a.ce=-1;const Fc=-1;function zi(e){return e==null}function Ho(e){return e===0&&1/e==-1/0}function _E(e){return typeof e=="number"&&Number.isInteger(e)&&!Ho(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Dm="";function yE(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=If(t)),t=vE(e.get(n),t);return If(t)}function vE(e,t){let n=t;const r=e.length;for(let s=0;s<r;s++){const i=e.charAt(s);switch(i){case"\0":n+="";break;case Dm:n+="";break;default:n+=i}}return n}function If(e){return e+Dm+""}function Rf(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function gr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function km(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class zt{constructor(t,n){this.comparator=t,this.root=n||me.EMPTY}insert(t,n){return new zt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,me.BLACK,null,null))}remove(t){return new zt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,me.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new po(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new po(this.root,t,this.comparator,!1)}getReverseIterator(){return new po(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new po(this.root,t,this.comparator,!0)}}class po{constructor(t,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=n?r(t.key,n):1,n&&s&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class me{constructor(t,n,r,s,i){this.key=t,this.value=n,this.color=r??me.RED,this.left=s??me.EMPTY,this.right=i??me.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,s,i){return new me(t??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let s=this;const i=r(t,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(t,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return me.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return me.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,me.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,me.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw lt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw lt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw lt(27949);return t+(this.isRed()?0:1)}}me.EMPTY=null,me.RED=!0,me.BLACK=!1;me.EMPTY=new class{constructor(){this.size=0}get key(){throw lt(57766)}get value(){throw lt(16141)}get color(){throw lt(16727)}get left(){throw lt(29726)}get right(){throw lt(36894)}copy(t,n,r,s,i){return this}insert(t,n,r){return new me(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class re{constructor(t){this.comparator=t,this.data=new zt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Sf(this.data.getIterator())}getIteratorFrom(t){return new Sf(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof re)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new re(this.comparator);return n.data=t,n}}class Sf{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Qe{constructor(t){this.fields=t,t.sort(_e.comparator)}static empty(){return new Qe([])}unionWith(t){let n=new re(_e.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Qe(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ms(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}class Nm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ve{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Nm("Invalid base64 string: "+i):i}})(t);return new ve(n)}static fromUint8Array(t){const n=(function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i})(t);return new ve(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ve.EMPTY_BYTE_STRING=new ve("");const EE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cr(e){if(It(!!e,39018),typeof e=="string"){let t=0;const n=EE.exec(e);if(It(!!n,46558,{timestamp:e}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Qt(e.seconds),nanos:Qt(e.nanos)}}function Qt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ur(e){return typeof e=="string"?ve.fromBase64String(e):ve.fromUint8Array(e)}const Om="server_timestamp",Mm="__type__",Lm="__previous_value__",Fm="__local_write_time__";function Uc(e){return(e?.mapValue?.fields||{})[Mm]?.stringValue===Om}function ya(e){const t=e.mapValue.fields[Lm];return Uc(t)?ya(t):t}function Vi(e){const t=cr(e.mapValue.fields[Fm].timestampValue);return new $t(t.seconds,t.nanos)}class wE{constructor(t,n,r,s,i,o,l,c,u,h){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=h}}const Go="(default)";class Di{constructor(t,n){this.projectId=t,this.database=n||Go}static empty(){return new Di("","")}get isDefaultDatabase(){return this.database===Go}isEqual(t){return t instanceof Di&&t.projectId===this.projectId&&t.database===this.database}}const Um="__type__",TE="__max__",mo={mapValue:{}},Bm="__vector__",Ko="value";function hr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Uc(e)?4:AE(e)?9007199254740991:bE(e)?10:11:lt(28295,{value:e})}function Tn(e,t){if(e===t)return!0;const n=hr(e);if(n!==hr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Vi(e).isEqual(Vi(t));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=cr(s.timestampValue),l=cr(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(s,i){return ur(s.bytesValue).isEqual(ur(i.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(s,i){return Qt(s.geoPointValue.latitude)===Qt(i.geoPointValue.latitude)&&Qt(s.geoPointValue.longitude)===Qt(i.geoPointValue.longitude)})(e,t);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return Qt(s.integerValue)===Qt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Qt(s.doubleValue),l=Qt(i.doubleValue);return o===l?Ho(o)===Ho(l):isNaN(o)&&isNaN(l)}return!1})(e,t);case 9:return ms(e.arrayValue.values||[],t.arrayValue.values||[],Tn);case 10:case 11:return(function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(Rf(o)!==Rf(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Tn(o[c],l[c])))return!1;return!0})(e,t);default:return lt(52216,{left:e})}}function ki(e,t){return(e.values||[]).find((n=>Tn(n,t)))!==void 0}function gs(e,t){if(e===t)return 0;const n=hr(e),r=hr(t);if(n!==r)return vt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return vt(e.booleanValue,t.booleanValue);case 2:return(function(i,o){const l=Qt(i.integerValue||i.doubleValue),c=Qt(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(e,t);case 3:return Cf(e.timestampValue,t.timestampValue);case 4:return Cf(Vi(e),Vi(t));case 5:return Hl(e.stringValue,t.stringValue);case 6:return(function(i,o){const l=ur(i),c=ur(o);return l.compareTo(c)})(e.bytesValue,t.bytesValue);case 7:return(function(i,o){const l=i.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const h=vt(l[u],c[u]);if(h!==0)return h}return vt(l.length,c.length)})(e.referenceValue,t.referenceValue);case 8:return(function(i,o){const l=vt(Qt(i.latitude),Qt(o.latitude));return l!==0?l:vt(Qt(i.longitude),Qt(o.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return xf(e.arrayValue,t.arrayValue);case 10:return(function(i,o){const l=i.fields||{},c=o.fields||{},u=l[Ko]?.arrayValue,h=c[Ko]?.arrayValue,d=vt(u?.values?.length||0,h?.values?.length||0);return d!==0?d:xf(u,h)})(e.mapValue,t.mapValue);case 11:return(function(i,o){if(i===mo.mapValue&&o===mo.mapValue)return 0;if(i===mo.mapValue)return 1;if(o===mo.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=o.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let d=0;d<c.length&&d<h.length;++d){const m=Hl(c[d],h[d]);if(m!==0)return m;const _=gs(l[c[d]],u[h[d]]);if(_!==0)return _}return vt(c.length,h.length)})(e.mapValue,t.mapValue);default:throw lt(23264,{he:n})}}function Cf(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return vt(e,t);const n=cr(e),r=cr(t),s=vt(n.seconds,r.seconds);return s!==0?s:vt(n.nanos,r.nanos)}function xf(e,t){const n=e.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=gs(n[s],r[s]);if(i)return i}return vt(n.length,r.length)}function _s(e){return Gl(e)}function Gl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const r=cr(n);return`time(${r.seconds},${r.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return ur(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return st.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Gl(i);return r+"]"})(e.arrayValue):"mapValue"in e?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Gl(n.fields[o])}`;return s+"}"})(e.mapValue):lt(61005,{value:e})}function Co(e){switch(hr(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ya(e);return t?16+Co(t):16;case 5:return 2*e.stringValue.length;case 6:return ur(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+Co(i)),0)})(e.arrayValue);case 10:case 11:return(function(r){let s=0;return gr(r.fields,((i,o)=>{s+=i.length+Co(o)})),s})(e.mapValue);default:throw lt(13486,{value:e})}}function Pf(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Kl(e){return!!e&&"integerValue"in e}function Bc(e){return!!e&&"arrayValue"in e}function Vf(e){return!!e&&"nullValue"in e}function Df(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function xo(e){return!!e&&"mapValue"in e}function bE(e){return(e?.mapValue?.fields||{})[Um]?.stringValue===Bm}function hi(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return gr(e.mapValue.fields,((n,r)=>t.mapValue.fields[n]=hi(r))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=hi(e.arrayValue.values[n]);return t}return{...e}}function AE(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===TE}class Fe{constructor(t){this.value=t}static empty(){return new Fe({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!xo(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=hi(n)}setAll(t){let n=_e.emptyPath(),r={},s=[];t.forEach(((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=hi(o):s.push(l.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(t){const n=this.field(t.popLast());xo(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Tn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let s=n.mapValue.fields[t.get(r)];xo(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,r){gr(n,((s,i)=>t[s]=i));for(const s of r)delete t[s]}clone(){return new Fe(hi(this.value))}}function $m(e){const t=[];return gr(e.fields,((n,r)=>{const s=new _e([n]);if(xo(r)){const i=$m(r.mapValue).fields;if(i.length===0)t.push(s);else for(const o of i)t.push(s.child(o))}else t.push(s)})),new Qe(t)}class ae{constructor(t,n,r,s,i,o,l){this.key=t,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(t){return new ae(t,0,ft.min(),ft.min(),ft.min(),Fe.empty(),0)}static newFoundDocument(t,n,r,s){return new ae(t,1,n,ft.min(),r,s,0)}static newNoDocument(t,n){return new ae(t,2,n,ft.min(),ft.min(),Fe.empty(),0)}static newUnknownDocument(t,n){return new ae(t,3,n,ft.min(),ft.min(),Fe.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ft.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Fe.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Fe.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ft.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ae&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ae(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wo{constructor(t,n){this.position=t,this.inclusive=n}}function kf(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],o=e.position[s];if(i.field.isKeyField()?r=st.comparator(st.fromName(o.referenceValue),n.key):r=gs(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Nf(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Tn(e.position[n],t.position[n]))return!1;return!0}class Ni{constructor(t,n="asc"){this.field=t,this.dir=n}}function IE(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class jm{}class Jt extends jm{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new SE(t,n,r):n==="array-contains"?new PE(t,r):n==="in"?new VE(t,r):n==="not-in"?new DE(t,r):n==="array-contains-any"?new kE(t,r):new Jt(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new CE(t,r):new xE(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(gs(n,this.value)):n!==null&&hr(this.value)===hr(n)&&this.matchesComparison(gs(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return lt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class on extends jm{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new on(t,n)}matches(t){return zm(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function zm(e){return e.op==="and"}function qm(e){return RE(e)&&zm(e)}function RE(e){for(const t of e.filters)if(t instanceof on)return!1;return!0}function Wl(e){if(e instanceof Jt)return e.field.canonicalString()+e.op.toString()+_s(e.value);if(qm(e))return e.filters.map((t=>Wl(t))).join(",");{const t=e.filters.map((n=>Wl(n))).join(",");return`${e.op}(${t})`}}function Hm(e,t){return e instanceof Jt?(function(r,s){return s instanceof Jt&&r.op===s.op&&r.field.isEqual(s.field)&&Tn(r.value,s.value)})(e,t):e instanceof on?(function(r,s){return s instanceof on&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,o,l)=>i&&Hm(o,s.filters[l])),!0):!1})(e,t):void lt(19439)}function Gm(e){return e instanceof Jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${_s(n.value)}`})(e):e instanceof on?(function(n){return n.op.toString()+" {"+n.getFilters().map(Gm).join(" ,")+"}"})(e):"Filter"}class SE extends Jt{constructor(t,n,r){super(t,n,r),this.key=st.fromName(r.referenceValue)}matches(t){const n=st.comparator(t.key,this.key);return this.matchesComparison(n)}}class CE extends Jt{constructor(t,n){super(t,"in",n),this.keys=Km("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class xE extends Jt{constructor(t,n){super(t,"not-in",n),this.keys=Km("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function Km(e,t){return(t.arrayValue?.values||[]).map((n=>st.fromName(n.referenceValue)))}class PE extends Jt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Bc(n)&&ki(n.arrayValue,this.value)}}class VE extends Jt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&ki(this.value.arrayValue,n)}}class DE extends Jt{constructor(t,n){super(t,"not-in",n)}matches(t){if(ki(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ki(this.value.arrayValue,n)}}class kE extends Jt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Bc(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>ki(this.value.arrayValue,r)))}}class NE{constructor(t,n=null,r=[],s=[],i=null,o=null,l=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.Te=null}}function Of(e,t=null,n=[],r=[],s=null,i=null,o=null){return new NE(e,t,n,r,s,i,o)}function $c(e){const t=pt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>Wl(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),zi(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>_s(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>_s(r))).join(",")),t.Te=n}return t.Te}function jc(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!IE(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Hm(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Nf(e.startAt,t.startAt)&&Nf(e.endAt,t.endAt)}function Ql(e){return st.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class Rs{constructor(t,n=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function OE(e,t,n,r,s,i,o,l){return new Rs(e,t,n,r,s,i,o,l)}function va(e){return new Rs(e)}function Mf(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Wm(e){return e.collectionGroup!==null}function fi(e){const t=pt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),n.add(i.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new re(_e.comparator);return o.filters.forEach((c=>{c.getFlattenedFilters().forEach((u=>{u.isInequality()&&(l=l.add(u.field))}))})),l})(t).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||t.Ie.push(new Ni(i,r))})),n.has(_e.keyField().canonicalString())||t.Ie.push(new Ni(_e.keyField(),r))}return t.Ie}function vn(e){const t=pt(e);return t.Ee||(t.Ee=ME(t,fi(e))),t.Ee}function ME(e,t){if(e.limitType==="F")return Of(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new Ni(s.field,i)}));const n=e.endAt?new Wo(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Wo(e.startAt.position,e.startAt.inclusive):null;return Of(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Xl(e,t){const n=e.filters.concat([t]);return new Rs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Yl(e,t,n){return new Rs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ea(e,t){return jc(vn(e),vn(t))&&e.limitType===t.limitType}function Qm(e){return`${$c(vn(e))}|lt:${e.limitType}`}function Zr(e){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>Gm(s))).join(", ")}]`),zi(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>_s(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>_s(s))).join(",")),`Target(${r})`})(vn(e))}; limitType=${e.limitType})`}function wa(e,t){return t.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):st.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(e,t)&&(function(r,s){for(const i of fi(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(e,t)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(e,t)&&(function(r,s){return!(r.startAt&&!(function(o,l,c){const u=kf(o,l,c);return o.inclusive?u<=0:u<0})(r.startAt,fi(r),s)||r.endAt&&!(function(o,l,c){const u=kf(o,l,c);return o.inclusive?u>=0:u>0})(r.endAt,fi(r),s))})(e,t)}function LE(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Xm(e){return(t,n)=>{let r=!1;for(const s of fi(e)){const i=FE(s,t,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function FE(e,t,n){const r=e.field.isKeyField()?st.comparator(t.key,n.key):(function(i,o,l){const c=o.data.field(i),u=l.data.field(i);return c!==null&&u!==null?gs(c,u):lt(42886)})(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return lt(19790,{direction:e.dir})}}class zr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,t))return i}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],t))return void(s[i]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(t){gr(this.inner,((n,r)=>{for(const[s,i]of r)t(s,i)}))}isEmpty(){return km(this.inner)}size(){return this.innerSize}}const UE=new zt(st.comparator);function Mn(){return UE}const Ym=new zt(st.comparator);function Zs(...e){let t=Ym;for(const n of e)t=t.insert(n.key,n);return t}function Jm(e){let t=Ym;return e.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function Vr(){return di()}function Zm(){return di()}function di(){return new zr((e=>e.toString()),((e,t)=>e.isEqual(t)))}const BE=new zt(st.comparator),$E=new re(st.comparator);function Et(...e){let t=$E;for(const n of e)t=t.add(n);return t}const jE=new re(vt);function zE(){return jE}function zc(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ho(t)?"-0":t}}function tg(e){return{integerValue:""+e}}function qE(e,t){return _E(t)?tg(t):zc(e,t)}class Ta{constructor(){this._=void 0}}function HE(e,t,n){return e instanceof Oi?(function(s,i){const o={fields:{[Mm]:{stringValue:Om},[Fm]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Uc(i)&&(i=ya(i)),i&&(o.fields[Lm]=i),{mapValue:o}})(n,t):e instanceof Mi?ng(e,t):e instanceof Li?rg(e,t):(function(s,i){const o=eg(s,i),l=Lf(o)+Lf(s.Ae);return Kl(o)&&Kl(s.Ae)?tg(l):zc(s.serializer,l)})(e,t)}function GE(e,t,n){return e instanceof Mi?ng(e,t):e instanceof Li?rg(e,t):n}function eg(e,t){return e instanceof Qo?(function(r){return Kl(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(t)?t:{integerValue:0}:null}class Oi extends Ta{}class Mi extends Ta{constructor(t){super(),this.elements=t}}function ng(e,t){const n=sg(t);for(const r of e.elements)n.some((s=>Tn(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Li extends Ta{constructor(t){super(),this.elements=t}}function rg(e,t){let n=sg(t);for(const r of e.elements)n=n.filter((s=>!Tn(s,r)));return{arrayValue:{values:n}}}class Qo extends Ta{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function Lf(e){return Qt(e.integerValue||e.doubleValue)}function sg(e){return Bc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class KE{constructor(t,n){this.field=t,this.transform=n}}function WE(e,t){return e.field.isEqual(t.field)&&(function(r,s){return r instanceof Mi&&s instanceof Mi||r instanceof Li&&s instanceof Li?ms(r.elements,s.elements,Tn):r instanceof Qo&&s instanceof Qo?Tn(r.Ae,s.Ae):r instanceof Oi&&s instanceof Oi})(e.transform,t.transform)}class QE{constructor(t,n){this.version=t,this.transformResults=n}}class ye{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ye}static exists(t){return new ye(void 0,t)}static updateTime(t){return new ye(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Po(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class ba{}function ig(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Aa(e.key,ye.none()):new qi(e.key,e.data,ye.none());{const n=e.data,r=Fe.empty();let s=new re(_e.comparator);for(let i of t.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new _r(e.key,r,new Qe(s.toArray()),ye.none())}}function XE(e,t,n){e instanceof qi?(function(s,i,o){const l=s.value.clone(),c=Uf(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(e,t,n):e instanceof _r?(function(s,i,o){if(!Po(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=Uf(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(og(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(e,t,n):(function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()})(0,t,n)}function pi(e,t,n,r){return e instanceof qi?(function(i,o,l,c){if(!Po(i.precondition,o))return l;const u=i.value.clone(),h=Bf(i.fieldTransforms,c,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null})(e,t,n,r):e instanceof _r?(function(i,o,l,c){if(!Po(i.precondition,o))return l;const u=Bf(i.fieldTransforms,c,o),h=o.data;return h.setAll(og(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((d=>d.field)))})(e,t,n,r):(function(i,o,l){return Po(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l})(e,t,n)}function YE(e,t){let n=null;for(const r of e.fieldTransforms){const s=t.data.field(r.field),i=eg(r.transform,s||null);i!=null&&(n===null&&(n=Fe.empty()),n.set(r.field,i))}return n||null}function Ff(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ms(r,s,((i,o)=>WE(i,o)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class qi extends ba{constructor(t,n,r,s=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class _r extends ba{constructor(t,n,r,s,i=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function og(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Uf(e,t,n){const r=new Map;It(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let s=0;s<n.length;s++){const i=e[s],o=i.transform,l=t.data.field(i.field);r.set(i.field,GE(o,l,n[s]))}return r}function Bf(e,t,n){const r=new Map;for(const s of e){const i=s.transform,o=n.data.field(s.field);r.set(s.field,HE(i,o,t))}return r}class Aa extends ba{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ag extends ba{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class JE{constructor(t,n,r,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(t.key)&&XE(i,t,r[s])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=pi(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=pi(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=Zm();return this.mutations.forEach((s=>{const i=t.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const c=ig(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(ft.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Et())}isEqual(t){return this.batchId===t.batchId&&ms(this.mutations,t.mutations,((n,r)=>Ff(n,r)))&&ms(this.baseMutations,t.baseMutations,((n,r)=>Ff(n,r)))}}class qc{constructor(t,n,r,s){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(t,n,r){It(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let s=(function(){return BE})();const i=t.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new qc(t,n,r,s)}}class ZE{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class tw{constructor(t,n){this.count=t,this.unchangedNames=n}}var Xt,Tt;function lg(e){switch(e){case N.OK:return lt(64938);case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0;default:return lt(15467,{code:e})}}function cg(e){if(e===void 0)return On("GRPC error has no .code"),N.UNKNOWN;switch(e){case Xt.OK:return N.OK;case Xt.CANCELLED:return N.CANCELLED;case Xt.UNKNOWN:return N.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return N.INTERNAL;case Xt.UNAVAILABLE:return N.UNAVAILABLE;case Xt.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Xt.NOT_FOUND:return N.NOT_FOUND;case Xt.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Xt.ABORTED:return N.ABORTED;case Xt.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Xt.DATA_LOSS:return N.DATA_LOSS;default:return lt(39323,{code:e})}}(Tt=Xt||(Xt={}))[Tt.OK=0]="OK",Tt[Tt.CANCELLED=1]="CANCELLED",Tt[Tt.UNKNOWN=2]="UNKNOWN",Tt[Tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tt[Tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tt[Tt.NOT_FOUND=5]="NOT_FOUND",Tt[Tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tt[Tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tt[Tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tt[Tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tt[Tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tt[Tt.ABORTED=10]="ABORTED",Tt[Tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tt[Tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tt[Tt.INTERNAL=13]="INTERNAL",Tt[Tt.UNAVAILABLE=14]="UNAVAILABLE",Tt[Tt.DATA_LOSS=15]="DATA_LOSS";function ew(){return new TextEncoder}const nw=new nr([4294967295,4294967295],0);function $f(e){const t=ew().encode(e),n=new Tm;return n.update(t),new Uint8Array(n.digest())}function jf(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new nr([n,r],0),new nr([s,i],0)]}class Hc{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ti(`Invalid padding: ${n}`);if(r<0)throw new ti(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new ti(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new ti(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=nr.fromNumber(this.ge)}ye(t,n,r){let s=t.add(n.multiply(nr.fromNumber(r)));return s.compare(nw)===1&&(s=new nr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=$f(t),[r,s]=jf(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(t,n,r){const s=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),o=new Hc(i,s,n);return r.forEach((l=>o.insert(l))),o}insert(t){if(this.ge===0)return;const n=$f(t),[r,s]=jf(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class ti extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ia{constructor(t,n,r,s,i){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const s=new Map;return s.set(t,Hi.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Ia(ft.min(),s,new zt(vt),Mn(),Et())}}class Hi{constructor(t,n,r,s,i){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Hi(r,n,Et(),Et(),Et())}}class Vo{constructor(t,n,r,s){this.be=t,this.removedTargetIds=n,this.key=r,this.De=s}}class ug{constructor(t,n){this.targetId=t,this.Ce=n}}class hg{constructor(t,n,r=ve.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=s}}class zf{constructor(){this.ve=0,this.Fe=qf(),this.Me=ve.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Et(),n=Et(),r=Et();return this.Fe.forEach(((s,i)=>{switch(i){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:lt(38017,{changeType:i})}})),new Hi(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=qf()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,It(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class rw{constructor(t){this.Ge=t,this.ze=new Map,this.je=Mn(),this.Je=go(),this.He=go(),this.Ye=new zt(vt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:lt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(t){const n=t.targetId,r=t.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Ql(i))if(r===0){const o=new st(i.path);this.et(n,o,ae.newNoDocument(o,ft.min()))}else It(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(t),c=l?this.ct(l,t,o):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=ur(r).toUint8Array()}catch(c){if(c instanceof Nm)return ps("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Hc(o,s,i)}catch(c){return ps(c instanceof ti?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;t.mightContain(l)||(this.et(n,i,null),s++)})),s}Tt(t){const n=new Map;this.ze.forEach(((i,o)=>{const l=this.ot(o);if(l){if(i.current&&Ql(l.target)){const c=new st(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,ae.newNoDocument(c,t))}i.Be&&(n.set(o,i.ke()),i.qe())}}));let r=Et();this.He.forEach(((i,o)=>{let l=!0;o.forEachWhile((c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(i))})),this.je.forEach(((i,o)=>o.setReadTime(t)));const s=new Ia(t,n,this.Ye,this.je,r);return this.je=Mn(),this.Je=go(),this.He=go(),this.Ye=new zt(vt),s}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new zf,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new re(vt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new re(vt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||et("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new zf),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function go(){return new zt(st.comparator)}function qf(){return new zt(st.comparator)}const sw={asc:"ASCENDING",desc:"DESCENDING"},iw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ow={and:"AND",or:"OR"};class aw{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Jl(e,t){return e.useProto3Json||zi(t)?t:{value:t}}function Xo(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function fg(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function lw(e,t){return Xo(e,t.toTimestamp())}function Xe(e){return It(!!e,49232),ft.fromTimestamp((function(n){const r=cr(n);return new $t(r.seconds,r.nanos)})(e))}function Gc(e,t){return Zl(e,t).canonicalString()}function Zl(e,t){const n=(function(s){return new Nt(["projects",s.projectId,"databases",s.database])})(e).child("documents");return t===void 0?n:n.child(t)}function dg(e){const t=Nt.fromString(e);return It(vg(t),10190,{key:t.toString()}),t}function Yo(e,t){return Gc(e.databaseId,t.path)}function mi(e,t){const n=dg(t);if(n.get(1)!==e.databaseId.projectId)throw new Q(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Q(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new st(mg(n))}function pg(e,t){return Gc(e.databaseId,t)}function cw(e){const t=dg(e);return t.length===4?Nt.emptyPath():mg(t)}function tc(e){return new Nt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function mg(e){return It(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function Hf(e,t,n){return{name:Yo(e,t),fields:n.value.mapValue.fields}}function uw(e,t){return"found"in t?(function(r,s){It(!!s.found,43571),s.found.name,s.found.updateTime;const i=mi(r,s.found.name),o=Xe(s.found.updateTime),l=s.found.createTime?Xe(s.found.createTime):ft.min(),c=new Fe({mapValue:{fields:s.found.fields}});return ae.newFoundDocument(i,o,l,c)})(e,t):"missing"in t?(function(r,s){It(!!s.missing,3894),It(!!s.readTime,22933);const i=mi(r,s.missing),o=Xe(s.readTime);return ae.newNoDocument(i,o)})(e,t):lt(7234,{result:t})}function hw(e,t){let n;if("targetChange"in t){t.targetChange;const r=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:lt(39313,{state:u})})(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=(function(u,h){return u.useProto3Json?(It(h===void 0||typeof h=="string",58123),ve.fromBase64String(h||"")):(It(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),ve.fromUint8Array(h||new Uint8Array))})(e,t.targetChange.resumeToken),o=t.targetChange.cause,l=o&&(function(u){const h=u.code===void 0?N.UNKNOWN:cg(u.code);return new Q(h,u.message||"")})(o);n=new hg(r,s,i,l||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=mi(e,r.document.name),i=Xe(r.document.updateTime),o=r.document.createTime?Xe(r.document.createTime):ft.min(),l=new Fe({mapValue:{fields:r.document.fields}}),c=ae.newFoundDocument(s,i,o,l),u=r.targetIds||[],h=r.removedTargetIds||[];n=new Vo(u,h,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=mi(e,r.document),i=r.readTime?Xe(r.readTime):ft.min(),o=ae.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Vo([],l,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=mi(e,r.document),i=r.removedTargetIds||[];n=new Vo([],i,s,null)}else{if(!("filter"in t))return lt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new tw(s,i),l=r.targetId;n=new ug(l,o)}}return n}function gg(e,t){let n;if(t instanceof qi)n={update:Hf(e,t.key,t.value)};else if(t instanceof Aa)n={delete:Yo(e,t.key)};else if(t instanceof _r)n={update:Hf(e,t.key,t.data),updateMask:Ew(t.fieldMask)};else{if(!(t instanceof ag))return lt(16599,{Vt:t.type});n={verify:Yo(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(i,o){const l=o.transform;if(l instanceof Oi)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Mi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Li)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Qo)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw lt(20930,{transform:o.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:lw(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:lt(27497)})(e,t.precondition)),n}function fw(e,t){return e&&e.length>0?(It(t!==void 0,14353),e.map((n=>(function(s,i){let o=s.updateTime?Xe(s.updateTime):Xe(i);return o.isEqual(ft.min())&&(o=Xe(i)),new QE(o,s.transformResults||[])})(n,t)))):[]}function dw(e,t){return{documents:[pg(e,t.path)]}}function pw(e,t){const n={structuredQuery:{}},r=t.path;let s;t.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=pg(e,s);const i=(function(u){if(u.length!==0)return yg(on.create(u,"and"))})(t.filters);i&&(n.structuredQuery.where=i);const o=(function(u){if(u.length!==0)return u.map((h=>(function(m){return{field:ts(m.field),direction:_w(m.dir)}})(h)))})(t.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Jl(e,t.limit);return l!==null&&(n.structuredQuery.limit=l),t.startAt&&(n.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(t.endAt)),{ft:n,parent:s}}function mw(e){let t=cw(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){It(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:t=t.child(h.collectionId)}let i=[];n.where&&(i=(function(d){const m=_g(d);return m instanceof on&&qm(m)?m.getFilters():[m]})(n.where));let o=[];n.orderBy&&(o=(function(d){return d.map((m=>(function(C){return new Ni(es(C.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(m)))})(n.orderBy));let l=null;n.limit&&(l=(function(d){let m;return m=typeof d=="object"?d.value:d,zi(m)?null:m})(n.limit));let c=null;n.startAt&&(c=(function(d){const m=!!d.before,_=d.values||[];return new Wo(_,m)})(n.startAt));let u=null;return n.endAt&&(u=(function(d){const m=!d.before,_=d.values||[];return new Wo(_,m)})(n.endAt)),OE(t,s,o,i,l,"F",c,u)}function gw(e,t){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return lt(28987,{purpose:s})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function _g(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=es(n.unaryFilter.field);return Jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=es(n.unaryFilter.field);return Jt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=es(n.unaryFilter.field);return Jt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=es(n.unaryFilter.field);return Jt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return lt(61313);default:return lt(60726)}})(e):e.fieldFilter!==void 0?(function(n){return Jt.create(es(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return lt(58110);default:return lt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return on.create(n.compositeFilter.filters.map((r=>_g(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return lt(1026)}})(n.compositeFilter.op))})(e):lt(30097,{filter:e})}function _w(e){return sw[e]}function yw(e){return iw[e]}function vw(e){return ow[e]}function ts(e){return{fieldPath:e.canonicalString()}}function es(e){return _e.fromServerFormat(e.fieldPath)}function yg(e){return e instanceof Jt?(function(n){if(n.op==="=="){if(Df(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NAN"}};if(Vf(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Df(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NOT_NAN"}};if(Vf(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ts(n.field),op:yw(n.op),value:n.value}}})(e):e instanceof on?(function(n){const r=n.getFilters().map((s=>yg(s)));return r.length===1?r[0]:{compositeFilter:{op:vw(n.op),filters:r}}})(e):lt(54877,{filter:e})}function Ew(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function vg(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}class Xn{constructor(t,n,r,s,i=ft.min(),o=ft.min(),l=ve.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(t){return new Xn(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Xn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Xn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Xn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class ww{constructor(t){this.yt=t}}function Tw(e){const t=mw({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Yl(t,t.limit,"L"):t}class bw{constructor(){this.Cn=new Aw}addToCollectionParentIndex(t,n){return this.Cn.add(n),U.resolve()}getCollectionParents(t,n){return U.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return U.resolve()}deleteFieldIndex(t,n){return U.resolve()}deleteAllFieldIndexes(t){return U.resolve()}createTargetIndexes(t,n){return U.resolve()}getDocumentsMatchingTarget(t,n){return U.resolve(null)}getIndexType(t,n){return U.resolve(0)}getFieldIndexes(t,n){return U.resolve([])}getNextCollectionGroupToUpdate(t){return U.resolve(null)}getMinOffset(t,n){return U.resolve(lr.min())}getMinOffsetFromCollectionGroup(t,n){return U.resolve(lr.min())}updateCollectionGroup(t,n,r){return U.resolve()}updateIndexEntries(t,n){return U.resolve()}}class Aw{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n]||new re(Nt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(t){return(this.index[t]||new re(Nt.comparator)).toArray()}}const Gf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Eg=41943040;class je{static withCacheSize(t){return new je(t,je.DEFAULT_COLLECTION_PERCENTILE,je.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}je.DEFAULT_COLLECTION_PERCENTILE=10,je.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,je.DEFAULT=new je(Eg,je.DEFAULT_COLLECTION_PERCENTILE,je.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),je.DISABLED=new je(-1,0,0);class ys{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ys(0)}static cr(){return new ys(-1)}}const Kf="LruGarbageCollector",Iw=1048576;function Wf([e,t],[n,r]){const s=vt(e,n);return s===0?vt(t,r):s}class Rw{constructor(t){this.Ir=t,this.buffer=new re(Wf),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Wf(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Sw{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){et(Kf,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Is(n)?et(Kf,"Ignoring IndexedDB error during garbage collection: ",n):await As(n)}await this.Vr(3e5)}))}}class Cw{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return U.resolve(_a.ce);const r=new Rw(n);return this.mr.forEachTarget(t,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(t,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(et("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(Gf)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(et("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gf):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,s,i,o,l,c,u;const h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((d=>(d>this.params.maximumSequenceNumbersToCollect?(et("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),s=this.params.maximumSequenceNumbersToCollect):s=d,o=Date.now(),this.nthSequenceNumber(t,s)))).next((d=>(r=d,l=Date.now(),this.removeTargets(t,r,n)))).next((d=>(i=d,c=Date.now(),this.removeOrphanedDocuments(t,r)))).next((d=>(u=Date.now(),Jr()<=bt.DEBUG&&et("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${d} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:d}))))}}function xw(e,t){return new Cw(e,t)}class Pw{constructor(){this.changes=new zr((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ae.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Vw{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class Dw{constructor(t,n,r,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(t,n)))).next((s=>(r!==null&&pi(r.mutation,s,Qe.empty(),$t.now()),s)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,Et()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=Et()){const s=Vr();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,r).next((i=>{let o=Zs();return i.forEach(((l,c)=>{o=o.insert(l,c.overlayedDocument)})),o}))))}getOverlayedDocuments(t,n){const r=Vr();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,Et())))}populateOverlays(t,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(t,s).next((i=>{i.forEach(((o,l)=>{n.set(o,l)}))}))}computeViews(t,n,r,s){let i=Mn();const o=di(),l=(function(){return di()})();return n.forEach(((c,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof _r)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),pi(h.mutation,u,h.mutation.getFieldMask(),$t.now())):o.set(u.key,Qe.empty())})),this.recalculateAndSaveOverlays(t,i).next((c=>(c.forEach(((u,h)=>o.set(u,h))),n.forEach(((u,h)=>l.set(u,new Vw(h,o.get(u)??null)))),l)))}recalculateAndSaveOverlays(t,n){const r=di();let s=new zt(((o,l)=>o-l)),i=Et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((o=>{for(const l of o)l.keys().forEach((c=>{const u=n.get(c);if(u===null)return;let h=r.get(c)||Qe.empty();h=l.applyToLocalView(u,h),r.set(c,h);const d=(s.get(l.batchId)||Et()).add(c);s=s.insert(l.batchId,d)}))})).next((()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,h=c.value,d=Zm();h.forEach((m=>{if(!i.has(m)){const _=ig(n.get(m),r.get(m));_!==null&&d.set(m,_),i=i.add(m)}})),o.push(this.documentOverlayCache.saveOverlays(t,u,d))}return U.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,s){return(function(o){return st.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Wm(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,s):this.getDocumentsMatchingCollectionQuery(t,n,r,s)}getNextDocuments(t,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,s).next((i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,s-i.size):U.resolve(Vr());let l=Pi,c=i;return o.next((u=>U.forEach(u,((h,d)=>(l<d.largestBatchId&&(l=d.largestBatchId),i.get(h)?U.resolve():this.remoteDocumentCache.getEntry(t,h).next((m=>{c=c.insert(h,m)}))))).next((()=>this.populateOverlays(t,u,i))).next((()=>this.computeViews(t,c,u,Et()))).next((h=>({batchId:l,changes:Jm(h)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new st(n)).next((r=>{let s=Zs();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,s){const i=n.collectionGroup;let o=Zs();return this.indexManager.getCollectionParents(t,i).next((l=>U.forEach(l,(c=>{const u=(function(d,m){return new Rs(m,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)})(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(t,u,r,s).next((h=>{h.forEach(((d,m)=>{o=o.insert(d,m)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(t,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,i,s)))).next((o=>{i.forEach(((c,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,ae.newInvalidDocument(h)))}));let l=Zs();return o.forEach(((c,u)=>{const h=i.get(c);h!==void 0&&pi(h.mutation,u,Qe.empty(),$t.now()),wa(n,u)&&(l=l.insert(c,u))})),l}))}}class kw{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return U.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Xe(s.createTime)}})(n)),U.resolve()}getNamedQuery(t,n){return U.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:Tw(s.bundledQuery),readTime:Xe(s.readTime)}})(n)),U.resolve()}}class Nw{constructor(){this.overlays=new zt(st.comparator),this.qr=new Map}getOverlay(t,n){return U.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Vr();return U.forEach(n,(s=>this.getOverlay(t,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((s,i)=>{this.St(t,n,i)})),U.resolve()}removeOverlaysForBatchId(t,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),U.resolve()}getOverlaysForCollection(t,n,r){const s=Vr(),i=n.length+1,o=new st(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return U.resolve(s)}getOverlaysForCollectionGroup(t,n,r,s){let i=new zt(((u,h)=>u-h));const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=Vr(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const l=Vr(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((u,h)=>l.set(u,h))),!(l.size()>=s)););return U.resolve(l)}St(t,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ZE(n,r));let i=this.qr.get(n);i===void 0&&(i=Et(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}class Ow{constructor(){this.sessionToken=ve.EMPTY_BYTE_STRING}getSessionToken(t){return U.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,U.resolve()}}class Kc{constructor(){this.Qr=new re(oe.$r),this.Ur=new re(oe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new oe(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Gr(new oe(t,n))}zr(t,n){t.forEach((r=>this.removeReference(r,n)))}jr(t){const n=new st(new Nt([])),r=new oe(n,t),s=new oe(n,t+1),i=[];return this.Ur.forEachInRange([r,s],(o=>{this.Gr(o),i.push(o.key)})),i}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new st(new Nt([])),r=new oe(n,t),s=new oe(n,t+1);let i=Et();return this.Ur.forEachInRange([r,s],(o=>{i=i.add(o.key)})),i}containsKey(t){const n=new oe(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class oe{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return st.comparator(t.key,n.key)||vt(t.Yr,n.Yr)}static Kr(t,n){return vt(t.Yr,n.Yr)||st.comparator(t.key,n.key)}}class Mw{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new re(oe.$r)}checkEmpty(t){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new JE(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.Zr=this.Zr.add(new oe(l.key,i)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return U.resolve(o)}lookupMutationBatch(t,n){return U.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?Fc:this.tr-1)}getAllMutationBatches(t){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new oe(n,0),s=new oe(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(o=>{const l=this.Xr(o.Yr);i.push(l)})),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new re(vt);return n.forEach((s=>{const i=new oe(s,0),o=new oe(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],(l=>{r=r.add(l.Yr)}))})),U.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,s=r.length+1;let i=r;st.isDocumentKey(i)||(i=i.child(""));const o=new oe(new st(i),0);let l=new re(vt);return this.Zr.forEachWhile((c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.Yr)),!0)}),o),U.resolve(this.ti(l))}ti(t){const n=[];return t.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(t,n){It(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return U.forEach(n.mutations,(s=>{const i=new oe(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,n){const r=new oe(n,0),s=this.Zr.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,U.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Lw{constructor(t){this.ri=t,this.docs=(function(){return new zt(st.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():ae.newInvalidDocument(n))}getEntries(t,n){let r=Mn();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():ae.newInvalidDocument(s))})),U.resolve(r)}getDocumentsMatchingQuery(t,n,r,s){let i=Mn();const o=n.path,l=new st(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||dE(fE(h),r)<=0||(s.has(h.key)||wa(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(t,n,r,s){lt(9500)}ii(t,n){return U.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new Fw(this)}getSize(t){return U.resolve(this.size)}}class Fw extends Pw{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(t,s)):this.Nr.removeEntry(r)})),U.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class Uw{constructor(t){this.persistence=t,this.si=new zr((n=>$c(n)),jc),this.lastRemoteSnapshotVersion=ft.min(),this.highestTargetId=0,this.oi=0,this._i=new Kc,this.targetCount=0,this.ai=ys.ur()}forEachTarget(t,n){return this.si.forEach(((r,s)=>n(s))),U.resolve()}getLastRemoteSnapshotVersion(t){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return U.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),U.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new ys(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,U.resolve()}updateTargetData(t,n){return this.Pr(n),U.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(t,n,r){let s=0;const i=[];return this.si.forEach(((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(t,l.targetId)),s++)})),U.waitFor(i).next((()=>s))}getTargetCount(t){return U.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return U.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),U.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((o=>{i.push(s.markPotentiallyOrphaned(t,o))})),U.waitFor(i)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),U.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return U.resolve(r)}containsKey(t,n){return U.resolve(this._i.containsKey(n))}}class wg{constructor(t,n){this.ui={},this.overlays={},this.ci=new _a(0),this.li=!1,this.li=!0,this.hi=new Ow,this.referenceDelegate=t(this),this.Pi=new Uw(this),this.indexManager=new bw,this.remoteDocumentCache=(function(s){return new Lw(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new ww(n),this.Ii=new kw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Nw,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new Mw(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){et("MemoryPersistence","Starting transaction:",t);const s=new Bw(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(t,n){return U.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,n))))}}class Bw extends mE{constructor(t){super(),this.currentSequenceNumber=t}}class Wc{constructor(t){this.persistence=t,this.Ri=new Kc,this.Vi=null}static mi(t){return new Wc(t)}get fi(){if(this.Vi)return this.Vi;throw lt(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),U.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),U.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),U.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.fi,(r=>{const s=st.fromPath(r);return this.gi(t,s).next((i=>{i||n.removeEntry(s,ft.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return U.or([()=>U.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Jo{constructor(t,n){this.persistence=t,this.pi=new zr((r=>yE(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=xw(this,n)}static mi(t,n){return new Jo(t,n)}Ei(){}di(t){return U.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((s=>r+s))))}wr(t){let n=0;return this.pr(t,(r=>{n++})).next((()=>n))}pr(t,n){return U.forEach(this.pi,((r,s)=>this.br(t,r,s).next((i=>i?U.resolve():n(s)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(t,(o=>this.br(t,o,n).next((l=>{l||(r++,i.removeEntry(o,ft.min()))})))).next((()=>i.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),U.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),U.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),U.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),U.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Co(t.data.value)),n}br(t,n,r){return U.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const s=this.pi.get(n);return U.resolve(s!==void 0&&s>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Qc{constructor(t,n,r,s){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=s}static As(t,n){let r=Et(),s=Et();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Qc(t,n.fromCache,r,s)}}class $w{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class jw{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Fv()?8:gE(Mv())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,s){const i={result:null};return this.ys(t,n).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ws(t,n,s,r).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new $w;return this.Ss(t,n,o).next((l=>{if(i.result=l,this.Vs)return this.bs(t,n,o,l.size)}))})).next((()=>i.result))}bs(t,n,r,s){return r.documentReadCount<this.fs?(Jr()<=bt.DEBUG&&et("QueryEngine","SDK will not create cache indexes for query:",Zr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),U.resolve()):(Jr()<=bt.DEBUG&&et("QueryEngine","Query:",Zr(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Jr()<=bt.DEBUG&&et("QueryEngine","The SDK decides to create cache indexes for query:",Zr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,vn(n))):U.resolve())}ys(t,n){if(Mf(n))return U.resolve(null);let r=vn(n);return this.indexManager.getIndexType(t,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=Yl(n,null,"F"),r=vn(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((i=>{const o=Et(...i);return this.ps.getDocuments(t,o).next((l=>this.indexManager.getMinOffset(t,r).next((c=>{const u=this.Ds(n,l);return this.Cs(n,u,o,c.readTime)?this.ys(t,Yl(n,null,"F")):this.vs(t,u,n,c)}))))})))))}ws(t,n,r,s){return Mf(n)||s.isEqual(ft.min())?U.resolve(null):this.ps.getDocuments(t,r).next((i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?U.resolve(null):(Jr()<=bt.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Zr(n)),this.vs(t,o,n,hE(s,Pi)).next((l=>l)))}))}Ds(t,n){let r=new re(Xm(t));return n.forEach(((s,i)=>{wa(t,i)&&(r=r.add(i))})),r}Cs(t,n,r,s){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const i=t.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(t,n,r){return Jr()<=bt.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",Zr(n)),this.ps.getDocumentsMatchingQuery(t,n,lr.min(),r)}vs(t,n,r,s){return this.ps.getDocumentsMatchingQuery(t,r,s).next((i=>(n.forEach((o=>{i=i.insert(o.key,o)})),i)))}}const Xc="LocalStore",zw=3e8;class qw{constructor(t,n,r,s){this.persistence=t,this.Fs=n,this.serializer=s,this.Ms=new zt(vt),this.xs=new zr((i=>$c(i)),jc),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Dw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function Hw(e,t,n,r){return new qw(e,t,n,r)}async function Tg(e,t){const n=pt(e);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const o=[],l=[];let c=Et();for(const u of s){o.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of i){l.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next((u=>({Ls:u,removedBatchIds:o,addedBatchIds:l})))}))}))}function Gw(e,t){const n=pt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,c,u,h){const d=u.batch,m=d.keys();let _=U.resolve();return m.forEach((C=>{_=_.next((()=>h.getEntry(c,C))).next((x=>{const D=u.docVersions.get(C);It(D!==null,48541),x.version.compareTo(D)<0&&(d.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),h.addEntry(x)))}))})),_.next((()=>l.mutationQueue.removeMutationBatch(c,d)))})(n,r,t,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let c=Et();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c})(t)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function bg(e){const t=pt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function Kw(e,t){const n=pt(e),r=t.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const l=[];t.targetChanges.forEach(((h,d)=>{const m=s.get(d);if(!m)return;l.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,d).next((()=>n.Pi.addMatchingKeys(i,h.addedDocuments,d))));let _=m.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(d)!==null?_=_.withResumeToken(ve.EMPTY_BYTE_STRING,ft.min()).withLastLimboFreeSnapshotVersion(ft.min()):h.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(h.resumeToken,r)),s=s.insert(d,_),(function(x,D,F){return x.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=zw?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(m,_,h)&&l.push(n.Pi.updateTargetData(i,_))}));let c=Mn(),u=Et();if(t.documentUpdates.forEach((h=>{t.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))})),l.push(Ww(i,o,t.documentUpdates).next((h=>{c=h.ks,u=h.qs}))),!r.isEqual(ft.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next((d=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));l.push(h)}return U.waitFor(l).next((()=>o.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,c,u))).next((()=>c))})).then((i=>(n.Ms=s,i)))}function Ww(e,t,n){let r=Et(),s=Et();return n.forEach((i=>r=r.add(i))),t.getEntries(e,r).next((i=>{let o=Mn();return n.forEach(((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(ft.min())?(t.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(c),o=o.insert(l,c)):et(Xc,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)})),{ks:o,qs:s}}))}function Qw(e,t){const n=pt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Fc),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function Xw(e,t){const n=pt(e);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,t).next((i=>i?(s=i,U.resolve(s)):n.Pi.allocateTargetId(r).next((o=>(s=new Xn(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r}))}async function ec(e,t,n){const r=pt(e),s=r.Ms.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(o=>r.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!Is(o))throw o;et(Xc,`Failed to update sequence numbers for target ${t}: ${o}`)}r.Ms=r.Ms.remove(t),r.xs.delete(s.target)}function Qf(e,t,n){const r=pt(e);let s=ft.min(),i=Et();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(c,u,h){const d=pt(c),m=d.xs.get(h);return m!==void 0?U.resolve(d.Ms.get(m)):d.Pi.getTargetData(u,h)})(r,o,vn(t)).next((l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next((c=>{i=c}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,t,n?s:ft.min(),n?i:Et()))).next((l=>(Yw(r,LE(t),l),{documents:l,Qs:i})))))}function Yw(e,t,n){let r=e.Os.get(t)||ft.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),e.Os.set(t,r)}class Xf{constructor(){this.activeTargetIds=zE()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Jw{constructor(){this.Mo=new Xf,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Xf,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Zw{Oo(t){}shutdown(){}}const Yf="ConnectivityMonitor";class Jf{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){et(Yf,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){et(Yf,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let _o=null;function nc(){return _o===null?_o=(function(){return 268435456+Math.round(2147483648*Math.random())})():_o++,"0x"+_o.toString(16)}const ml="RestConnection",tT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eT{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Go?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(t,n,r,s,i){const o=nc(),l=this.zo(t,n.toUriEncodedString());et(ml,`Sending RPC '${t}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:u}=new URL(l),h=$i(u);return this.Jo(t,l,c,r,h).then((d=>(et(ml,`Received RPC '${t}' ${o}: `,d),d)),(d=>{throw ps(ml,`RPC '${t}' ${o} failed with error: `,d,"url: ",l,"request:",r),d}))}Ho(t,n,r,s,i,o){return this.Go(t,n,r,s,i)}jo(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bs})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>t[i]=s)),r&&r.headers.forEach(((s,i)=>t[i]=s))}zo(t,n){const r=tT[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class nT{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const be="WebChannelConnection";class rT extends eT{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,s,i){const o=nc();return new Promise(((l,c)=>{const u=new bm;u.setWithCredentials(!0),u.listenOnce(Am.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case So.NO_ERROR:const d=u.getResponseJson();et(be,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(d)),l(d);break;case So.TIMEOUT:et(be,`RPC '${t}' ${o} timed out`),c(new Q(N.DEADLINE_EXCEEDED,"Request time out"));break;case So.HTTP_ERROR:const m=u.getStatus();if(et(be,`RPC '${t}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);const C=_?.error;if(C&&C.status&&C.message){const x=(function(F){const $=F.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf($)>=0?$:N.UNKNOWN})(C.status);c(new Q(x,C.message))}else c(new Q(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Q(N.UNAVAILABLE,"Connection failed."));break;default:lt(9055,{l_:t,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{et(be,`RPC '${t}' ${o} completed.`)}}));const h=JSON.stringify(s);et(be,`RPC '${t}' ${o} sending request:`,s),u.send(n,"POST",h,r,15)}))}T_(t,n,r){const s=nc(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=Sm(),l=Rm(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");et(be,`Creating RPC '${t}' stream ${s}: ${h}`,c);const d=o.createWebChannel(h,c);this.I_(d);let m=!1,_=!1;const C=new nT({Yo:D=>{_?et(be,`Not sending because RPC '${t}' stream ${s} is closed:`,D):(m||(et(be,`Opening RPC '${t}' stream ${s} transport.`),d.open(),m=!0),et(be,`RPC '${t}' stream ${s} sending:`,D),d.send(D))},Zo:()=>d.close()}),x=(D,F,$)=>{D.listen(F,(z=>{try{$(z)}catch(q){setTimeout((()=>{throw q}),0)}}))};return x(d,Js.EventType.OPEN,(()=>{_||(et(be,`RPC '${t}' stream ${s} transport opened.`),C.o_())})),x(d,Js.EventType.CLOSE,(()=>{_||(_=!0,et(be,`RPC '${t}' stream ${s} transport closed`),C.a_(),this.E_(d))})),x(d,Js.EventType.ERROR,(D=>{_||(_=!0,ps(be,`RPC '${t}' stream ${s} transport errored. Name:`,D.name,"Message:",D.message),C.a_(new Q(N.UNAVAILABLE,"The operation could not be completed")))})),x(d,Js.EventType.MESSAGE,(D=>{if(!_){const F=D.data[0];It(!!F,16349);const $=F,z=$?.error||$[0]?.error;if(z){et(be,`RPC '${t}' stream ${s} received error:`,z);const q=z.status;let rt=(function(v){const y=Xt[v];if(y!==void 0)return cg(y)})(q),K=z.message;rt===void 0&&(rt=N.INTERNAL,K="Unknown error status: "+q+" with message "+z.message),_=!0,C.a_(new Q(rt,K)),d.close()}else et(be,`RPC '${t}' stream ${s} received:`,F),C.u_(F)}})),x(l,Im.STAT_EVENT,(D=>{D.stat===ql.PROXY?et(be,`RPC '${t}' stream ${s} detected buffering proxy`):D.stat===ql.NOPROXY&&et(be,`RPC '${t}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function gl(){return typeof document<"u"?document:null}function Ra(e){return new aw(e,!0)}class Yc{constructor(t,n,r=1e3,s=1.5,i=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&et("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Zf="PersistentStream";class Ag{constructor(t,n,r,s,i,o,l,c){this.Mi=t,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Yc(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(On(n.toString()),On("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{t((()=>{const s=new Q(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return et(Zf,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(et(Zf,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class sT extends Ag{constructor(t,n,r,s,i,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=hw(this.serializer,t),r=(function(i){if(!("targetChange"in i))return ft.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ft.min():o.readTime?Xe(o.readTime):ft.min()})(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=tc(this.serializer),n.addTarget=(function(i,o){let l;const c=o.target;if(l=Ql(c)?{documents:dw(i,c)}:{query:pw(i,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=fg(i,o.resumeToken);const u=Jl(i,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(ft.min())>0){l.readTime=Xo(i,o.snapshotVersion.toTimestamp());const u=Jl(i,o.expectedCount);u!==null&&(l.expectedCount=u)}return l})(this.serializer,t);const r=gw(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=tc(this.serializer),n.removeTarget=t,this.q_(n)}}class iT extends Ag{constructor(t,n,r,s,i,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return It(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,It(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){It(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=fw(t.writeResults,t.commitTime),r=Xe(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=tc(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>gg(this.serializer,r)))};this.q_(n)}}class oT{}class aT extends oT{constructor(t,n,r,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Q(N.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Go(t,Zl(n,r),s,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Q(N.UNKNOWN,i.toString())}))}Ho(t,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Ho(t,Zl(n,r),s,o,l,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(N.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class lT{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(On(n),this.aa=!1):et("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Br="RemoteStore";class cT{constructor(t,n,r,s,i){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{qr(this)&&(et(Br,"Restarting streams for network reachability change."),await(async function(c){const u=pt(c);u.Ea.add(4),await Gi(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Sa(u)})(this))}))})),this.Ra=new lT(r,s)}}async function Sa(e){if(qr(e))for(const t of e.da)await t(!0)}async function Gi(e){for(const t of e.da)await t(!1)}function Ig(e,t){const n=pt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),eu(n)?tu(n):Ss(n).O_()&&Zc(n,t))}function Jc(e,t){const n=pt(e),r=Ss(n);n.Ia.delete(t),r.O_()&&Rg(n,t),n.Ia.size===0&&(r.O_()?r.L_():qr(n)&&n.Ra.set("Unknown"))}function Zc(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ft.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ss(e).Y_(t)}function Rg(e,t){e.Va.Ue(t),Ss(e).Z_(t)}function tu(e){e.Va=new rw({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Ss(e).start(),e.Ra.ua()}function eu(e){return qr(e)&&!Ss(e).x_()&&e.Ia.size>0}function qr(e){return pt(e).Ea.size===0}function Sg(e){e.Va=void 0}async function uT(e){e.Ra.set("Online")}async function hT(e){e.Ia.forEach(((t,n)=>{Zc(e,t)}))}async function fT(e,t){Sg(e),eu(e)?(e.Ra.ha(t),tu(e)):e.Ra.set("Unknown")}async function dT(e,t,n){if(e.Ra.set("Online"),t instanceof hg&&t.state===2&&t.cause)try{await(async function(s,i){const o=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.Ia.delete(l),s.Va.removeTarget(l))})(e,t)}catch(r){et(Br,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Zo(e,r)}else if(t instanceof Vo?e.Va.Ze(t):t instanceof ug?e.Va.st(t):e.Va.tt(t),!n.isEqual(ft.min()))try{const r=await bg(e.localStore);n.compareTo(r)>=0&&await(function(i,o){const l=i.Va.Tt(o);return l.targetChanges.forEach(((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ia.get(u);h&&i.Ia.set(u,h.withResumeToken(c.resumeToken,o))}})),l.targetMismatches.forEach(((c,u)=>{const h=i.Ia.get(c);if(!h)return;i.Ia.set(c,h.withResumeToken(ve.EMPTY_BYTE_STRING,h.snapshotVersion)),Rg(i,c);const d=new Xn(h.target,c,u,h.sequenceNumber);Zc(i,d)})),i.remoteSyncer.applyRemoteEvent(l)})(e,n)}catch(r){et(Br,"Failed to raise snapshot:",r),await Zo(e,r)}}async function Zo(e,t,n){if(!Is(t))throw t;e.Ea.add(1),await Gi(e),e.Ra.set("Offline"),n||(n=()=>bg(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{et(Br,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Sa(e)}))}function Cg(e,t){return t().catch((n=>Zo(e,n,t)))}async function Ca(e){const t=pt(e),n=fr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Fc;for(;pT(t);)try{const s=await Qw(t.localStore,r);if(s===null){t.Ta.length===0&&n.L_();break}r=s.batchId,mT(t,s)}catch(s){await Zo(t,s)}xg(t)&&Pg(t)}function pT(e){return qr(e)&&e.Ta.length<10}function mT(e,t){e.Ta.push(t);const n=fr(e);n.O_()&&n.X_&&n.ea(t.mutations)}function xg(e){return qr(e)&&!fr(e).x_()&&e.Ta.length>0}function Pg(e){fr(e).start()}async function gT(e){fr(e).ra()}async function _T(e){const t=fr(e);for(const n of e.Ta)t.ea(n.mutations)}async function yT(e,t,n){const r=e.Ta.shift(),s=qc.from(r,t,n);await Cg(e,(()=>e.remoteSyncer.applySuccessfulWrite(s))),await Ca(e)}async function vT(e,t){t&&fr(e).X_&&await(async function(r,s){if((function(o){return lg(o)&&o!==N.ABORTED})(s.code)){const i=r.Ta.shift();fr(r).B_(),await Cg(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await Ca(r)}})(e,t),xg(e)&&Pg(e)}async function td(e,t){const n=pt(e);n.asyncQueue.verifyOperationInProgress(),et(Br,"RemoteStore received new credentials");const r=qr(n);n.Ea.add(3),await Gi(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Sa(n)}async function ET(e,t){const n=pt(e);t?(n.Ea.delete(2),await Sa(n)):t||(n.Ea.add(2),await Gi(n),n.Ra.set("Unknown"))}function Ss(e){return e.ma||(e.ma=(function(n,r,s){const i=pt(n);return i.sa(),new sT(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(e.datastore,e.asyncQueue,{Xo:uT.bind(null,e),t_:hT.bind(null,e),r_:fT.bind(null,e),H_:dT.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),eu(e)?tu(e):e.Ra.set("Unknown")):(await e.ma.stop(),Sg(e))}))),e.ma}function fr(e){return e.fa||(e.fa=(function(n,r,s){const i=pt(n);return i.sa(),new iT(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:gT.bind(null,e),r_:vT.bind(null,e),ta:_T.bind(null,e),na:yT.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await Ca(e)):(await e.fa.stop(),e.Ta.length>0&&(et(Br,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}class nu{constructor(t,n,r,s,i){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new yn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,s,i){const o=Date.now()+r,l=new nu(t,n,o,s,i);return l.start(r),l}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(N.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ru(e,t){if(On("AsyncQueue",`${t}: ${e}`),Is(e))return new Q(N.UNAVAILABLE,`${t}: ${e}`);throw e}class us{static emptySet(t){return new us(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||st.comparator(n.key,r.key):(n,r)=>st.comparator(n.key,r.key),this.keyedMap=Zs(),this.sortedSet=new zt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof us)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new us;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}class ed{constructor(){this.ga=new zt(st.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):lt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class vs{constructor(t,n,r,s,i,o,l,c,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,s,i){const o=[];return n.forEach((l=>{o.push({type:0,doc:l})})),new vs(t,n,us.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ea(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}class wT{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class TT{constructor(){this.queries=nd(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=pt(n),i=s.queries;s.queries=nd(),i.forEach(((o,l)=>{for(const c of l.Sa)c.onError(r)}))})(this,new Q(N.ABORTED,"Firestore shutting down"))}}function nd(){return new zr((e=>Qm(e)),Ea)}async function su(e,t){const n=pt(e);let r=3;const s=t.query;let i=n.queries.get(s);i?!i.ba()&&t.Da()&&(r=2):(i=new wT,r=t.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=ru(o,`Initialization of query '${Zr(t.query)}' failed`);return void t.onError(l)}n.queries.set(s,i),i.Sa.push(t),t.va(n.onlineState),i.wa&&t.Fa(i.wa)&&ou(n)}async function iu(e,t){const n=pt(e),r=t.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(t);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=t.Da()?0:1:!i.ba()&&t.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function bT(e,t){const n=pt(e);let r=!1;for(const s of t){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.Sa)l.Fa(s)&&(r=!0);o.wa=s}}r&&ou(n)}function AT(e,t,n){const r=pt(e),s=r.queries.get(t);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(t)}function ou(e){e.Ca.forEach((t=>{t.next()}))}var rc,rd;(rd=rc||(rc={})).Ma="default",rd.Cache="cache";class au{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const s of t.docChanges)s.type!==3&&r.push(s);t=new vs(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=vs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==rc.Cache}}class Vg{constructor(t){this.key=t}}class Dg{constructor(t){this.key=t}}class IT{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Et(),this.mutatedKeys=Et(),this.eu=Xm(t),this.tu=new us(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new ed,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(((h,d)=>{const m=s.get(h),_=wa(this.query,d)?d:null,C=!!m&&this.mutatedKeys.has(m.key),x=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let D=!1;m&&_?m.data.isEqual(_.data)?C!==x&&(r.track({type:3,doc:_}),D=!0):this.su(m,_)||(r.track({type:2,doc:_}),D=!0,(c&&this.eu(_,c)>0||u&&this.eu(_,u)<0)&&(l=!0)):!m&&_?(r.track({type:0,doc:_}),D=!0):m&&!_&&(r.track({type:1,doc:m}),D=!0,(c||u)&&(l=!0)),D&&(_?(o=o.add(_),i=x?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:l,mutatedKeys:i}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,s){const i=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const o=t.iu.ya();o.sort(((h,d)=>(function(_,C){const x=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lt(20277,{Rt:D})}};return x(_)-x(C)})(h.type,d.type)||this.eu(h.doc,d.doc))),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,u=c!==this.Za;return this.Za=c,o.length!==0||u?{snapshot:new vs(this.query,t.tu,i,o,t.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ed,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Et(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return t.forEach((r=>{this.Xa.has(r)||n.push(new Dg(r))})),this.Xa.forEach((r=>{t.has(r)||n.push(new Vg(r))})),n}cu(t){this.Ya=t.Qs,this.Xa=Et();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return vs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const lu="SyncEngine";class RT{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class ST{constructor(t){this.key=t,this.hu=!1}}class CT{constructor(t,n,r,s,i,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new zr((l=>Qm(l)),Ea),this.Iu=new Map,this.Eu=new Set,this.du=new zt(st.comparator),this.Au=new Map,this.Ru=new Kc,this.Vu={},this.mu=new Map,this.fu=ys.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function xT(e,t,n=!0){const r=Fg(e);let s;const i=r.Tu.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await kg(r,t,n,!0),s}async function PT(e,t){const n=Fg(e);await kg(n,t,!0,!1)}async function kg(e,t,n,r){const s=await Xw(e.localStore,vn(t)),i=s.targetId,o=e.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await VT(e,t,i,o==="current",s.resumeToken)),e.isPrimaryClient&&n&&Ig(e.remoteStore,s),l}async function VT(e,t,n,r,s){e.pu=(d,m,_)=>(async function(x,D,F,$){let z=D.view.ru(F);z.Cs&&(z=await Qf(x.localStore,D.query,!1).then((({documents:E})=>D.view.ru(E,z))));const q=$&&$.targetChanges.get(D.targetId),rt=$&&$.targetMismatches.get(D.targetId)!=null,K=D.view.applyChanges(z,x.isPrimaryClient,q,rt);return id(x,D.targetId,K.au),K.snapshot})(e,d,m,_);const i=await Qf(e.localStore,t,!0),o=new IT(t,i.Qs),l=o.ru(i.documents),c=Hi.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",s),u=o.applyChanges(l,e.isPrimaryClient,c);id(e,n,u.au);const h=new RT(t,n,o);return e.Tu.set(t,h),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),u.snapshot}async function DT(e,t,n){const r=pt(e),s=r.Tu.get(t),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((o=>!Ea(o,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await ec(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Jc(r.remoteStore,s.targetId),sc(r,s.targetId)})).catch(As)):(sc(r,s.targetId),await ec(r.localStore,s.targetId,!0))}async function kT(e,t){const n=pt(e),r=n.Tu.get(t),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Jc(n.remoteStore,r.targetId))}async function NT(e,t,n){const r=$T(e);try{const s=await(function(o,l){const c=pt(o),u=$t.now(),h=l.reduce(((_,C)=>_.add(C.key)),Et());let d,m;return c.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let C=Mn(),x=Et();return c.Ns.getEntries(_,h).next((D=>{C=D,C.forEach(((F,$)=>{$.isValidDocument()||(x=x.add(F))}))})).next((()=>c.localDocuments.getOverlayedDocuments(_,C))).next((D=>{d=D;const F=[];for(const $ of l){const z=YE($,d.get($.key).overlayedDocument);z!=null&&F.push(new _r($.key,z,$m(z.value.mapValue),ye.exists(!0)))}return c.mutationQueue.addMutationBatch(_,u,F,l)})).next((D=>{m=D;const F=D.applyToLocalDocumentSet(d,x);return c.documentOverlayCache.saveOverlays(_,D.batchId,F)}))})).then((()=>({batchId:m.batchId,changes:Jm(d)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(s.batchId),(function(o,l,c){let u=o.Vu[o.currentUser.toKey()];u||(u=new zt(vt)),u=u.insert(l,c),o.Vu[o.currentUser.toKey()]=u})(r,s.batchId,n),await Ki(r,s.changes),await Ca(r.remoteStore)}catch(s){const i=ru(s,"Failed to persist write");n.reject(i)}}async function Ng(e,t){const n=pt(e);try{const r=await Kw(n.localStore,t);t.targetChanges.forEach(((s,i)=>{const o=n.Au.get(i);o&&(It(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?It(o.hu,14607):s.removedDocuments.size>0&&(It(o.hu,42227),o.hu=!1))})),await Ki(n,r,t)}catch(r){await As(r)}}function sd(e,t,n){const r=pt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,o)=>{const l=o.view.va(t);l.snapshot&&s.push(l.snapshot)})),(function(o,l){const c=pt(o);c.onlineState=l;let u=!1;c.queries.forEach(((h,d)=>{for(const m of d.Sa)m.va(l)&&(u=!0)})),u&&ou(c)})(r.eventManager,t),s.length&&r.Pu.H_(s),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function OT(e,t,n){const r=pt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Au.get(t),i=s&&s.key;if(i){let o=new zt(st.comparator);o=o.insert(i,ae.newNoDocument(i,ft.min()));const l=Et().add(i),c=new Ia(ft.min(),new Map,new zt(vt),o,l);await Ng(r,c),r.du=r.du.remove(i),r.Au.delete(t),cu(r)}else await ec(r.localStore,t,!1).then((()=>sc(r,t,n))).catch(As)}async function MT(e,t){const n=pt(e),r=t.batch.batchId;try{const s=await Gw(n.localStore,t);Mg(n,r,null),Og(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ki(n,s)}catch(s){await As(s)}}async function LT(e,t,n){const r=pt(e);try{const s=await(function(o,l){const c=pt(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",(u=>{let h;return c.mutationQueue.lookupMutationBatch(u,l).next((d=>(It(d!==null,37113),h=d.keys(),c.mutationQueue.removeMutationBatch(u,d)))).next((()=>c.mutationQueue.performConsistencyCheck(u))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h))).next((()=>c.localDocuments.getDocuments(u,h)))}))})(r.localStore,t);Mg(r,t,n),Og(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Ki(r,s)}catch(s){await As(s)}}function Og(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function Mg(e,t,n){const r=pt(e);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(t);i&&(n?i.reject(n):i.resolve(),s=s.remove(t)),r.Vu[r.currentUser.toKey()]=s}}function sc(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((r=>{e.Ru.containsKey(r)||Lg(e,r)}))}function Lg(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(Jc(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),cu(e))}function id(e,t,n){for(const r of n)r instanceof Vg?(e.Ru.addReference(r.key,t),FT(e,r)):r instanceof Dg?(et(lu,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||Lg(e,r.key)):lt(19791,{wu:r})}function FT(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(et(lu,"New document in limbo: "+n),e.Eu.add(r),cu(e))}function cu(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new st(Nt.fromString(t)),r=e.fu.next();e.Au.set(r,new ST(n)),e.du=e.du.insert(n,r),Ig(e.remoteStore,new Xn(vn(va(n.path)),r,"TargetPurposeLimboResolution",_a.ce))}}async function Ki(e,t,n){const r=pt(e),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,c)=>{o.push(r.pu(c,t,n).then((u=>{if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:n?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(u){s.push(u);const h=Qc.As(c.targetId,u);i.push(h)}})))})),await Promise.all(o),r.Pu.H_(s),await(async function(c,u){const h=pt(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(d=>U.forEach(u,(m=>U.forEach(m.Es,(_=>h.persistence.referenceDelegate.addReference(d,m.targetId,_))).next((()=>U.forEach(m.ds,(_=>h.persistence.referenceDelegate.removeReference(d,m.targetId,_)))))))))}catch(d){if(!Is(d))throw d;et(Xc,"Failed to update sequence numbers: "+d)}for(const d of u){const m=d.targetId;if(!d.fromCache){const _=h.Ms.get(m),C=_.snapshotVersion,x=_.withLastLimboFreeSnapshotVersion(C);h.Ms=h.Ms.insert(m,x)}}})(r.localStore,i))}async function UT(e,t){const n=pt(e);if(!n.currentUser.isEqual(t)){et(lu,"User change. New user:",t.toKey());const r=await Tg(n.localStore,t);n.currentUser=t,(function(i,o){i.mu.forEach((l=>{l.forEach((c=>{c.reject(new Q(N.CANCELLED,o))}))})),i.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Ki(n,r.Ls)}}function BT(e,t){const n=pt(e),r=n.Au.get(t);if(r&&r.hu)return Et().add(r.key);{let s=Et();const i=n.Iu.get(t);if(!i)return s;for(const o of i){const l=n.Tu.get(o);s=s.unionWith(l.view.nu)}return s}}function Fg(e){const t=pt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ng.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=BT.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=OT.bind(null,t),t.Pu.H_=bT.bind(null,t.eventManager),t.Pu.yu=AT.bind(null,t.eventManager),t}function $T(e){const t=pt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=MT.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=LT.bind(null,t),t}class ta{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ra(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return Hw(this.persistence,new jw,t.initialUser,this.serializer)}Cu(t){return new wg(Wc.mi,this.serializer)}Du(t){return new Jw}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ta.provider={build:()=>new ta};class jT extends ta{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){It(this.persistence.referenceDelegate instanceof Jo,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Sw(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?je.withCacheSize(this.cacheSizeBytes):je.DEFAULT;return new wg((r=>Jo.mi(r,n)),this.serializer)}}class ic{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sd(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=UT.bind(null,this.syncEngine),await ET(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new TT})()}createDatastore(t){const n=Ra(t.databaseInfo.databaseId),r=(function(i){return new rT(i)})(t.databaseInfo);return(function(i,o,l,c){return new aT(i,o,l,c)})(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,s,i,o,l){return new cT(r,s,i,o,l)})(this.localStore,this.datastore,t.asyncQueue,(n=>sd(this.syncEngine,n,0)),(function(){return Jf.v()?new Jf:new Zw})())}createSyncEngine(t,n){return(function(s,i,o,l,c,u,h){const d=new CT(s,i,o,l,c,u);return h&&(d.gu=!0),d})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=pt(n);et(Br,"RemoteStore shutting down."),r.Ea.add(5),await Gi(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ic.provider={build:()=>new ic};class uu{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):On("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}class zT{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Q(N.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(s,i){const o=pt(s),l={documents:i.map((d=>Yo(o.serializer,d)))},c=await o.Ho("BatchGetDocuments",o.serializer.databaseId,Nt.emptyPath(),l,i.length),u=new Map;c.forEach((d=>{const m=uw(o.serializer,d);u.set(m.key.toString(),m)}));const h=[];return i.forEach((d=>{const m=u.get(d.toString());It(!!m,55234,{key:d}),h.push(m)})),h})(this.datastore,t);return n.forEach((r=>this.recordVersion(r))),n}set(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new Aa(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((n=>{t.delete(n.key.toString())})),t.forEach(((n,r)=>{const s=st.fromPath(r);this.mutations.push(new ag(s,this.precondition(s)))})),await(async function(r,s){const i=pt(r),o={writes:s.map((l=>gg(i.serializer,l)))};await i.Go("Commit",i.serializer.databaseId,Nt.emptyPath(),o)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw lt(50498,{Gu:t.constructor.name});n=ft.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new Q(N.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)}precondition(t){const n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?n.isEqual(ft.min())?ye.exists(!1):ye.updateTime(n):ye.none()}preconditionForUpdate(t){const n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(ft.min()))throw new Q(N.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ye.updateTime(n)}return ye.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class qT{constructor(t,n,r,s,i){this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=s,this.deferred=i,this.zu=r.maxAttempts,this.M_=new Yc(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const t=new zT(this.datastore),n=this.Hu(t);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(r)})).catch((s=>{this.Yu(s)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(t){try{const n=this.updateFunction(t);return!zi(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(t){this.zu>0&&this.Zu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(t)}Zu(t){if(t?.name==="FirebaseError"){const n=t.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!lg(n)}return!1}}const dr="FirestoreClient";class HT{constructor(t,n,r,s,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ae.UNAUTHENTICATED,this.clientId=Lc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async o=>{et(dr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(et(dr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new yn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=ru(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function _l(e,t){e.asyncQueue.verifyOperationInProgress(),et(dr,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async s=>{r.isEqual(s)||(await Tg(t.localStore,s),r=s)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function od(e,t){e.asyncQueue.verifyOperationInProgress();const n=await GT(e);et(dr,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((r=>td(t.remoteStore,r))),e.setAppCheckTokenChangeListener(((r,s)=>td(t.remoteStore,s))),e._onlineComponents=t}async function GT(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){et(dr,"Using user provided OfflineComponentProvider");try{await _l(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(s){return s.name==="FirebaseError"?s.code===N.FAILED_PRECONDITION||s.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;ps("Error using user provided cache. Falling back to memory cache: "+n),await _l(e,new ta)}}else et(dr,"Using default OfflineComponentProvider"),await _l(e,new jT(void 0));return e._offlineComponents}async function hu(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(et(dr,"Using user provided OnlineComponentProvider"),await od(e,e._uninitializedComponentsProvider._online)):(et(dr,"Using default OnlineComponentProvider"),await od(e,new ic))),e._onlineComponents}function KT(e){return hu(e).then((t=>t.syncEngine))}function WT(e){return hu(e).then((t=>t.datastore))}async function ea(e){const t=await hu(e),n=t.eventManager;return n.onListen=xT.bind(null,t.syncEngine),n.onUnlisten=DT.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=PT.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=kT.bind(null,t.syncEngine),n}function QT(e,t,n={}){const r=new yn;return e.asyncQueue.enqueueAndForget((async()=>(function(i,o,l,c,u){const h=new uu({next:m=>{h.Nu(),o.enqueueAndForget((()=>iu(i,d)));const _=m.docs.has(l);!_&&m.fromCache?u.reject(new Q(N.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&m.fromCache&&c&&c.source==="server"?u.reject(new Q(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),d=new au(va(l.path),h,{includeMetadataChanges:!0,qa:!0});return su(i,d)})(await ea(e),e.asyncQueue,t,n,r))),r.promise}function XT(e,t,n={}){const r=new yn;return e.asyncQueue.enqueueAndForget((async()=>(function(i,o,l,c,u){const h=new uu({next:m=>{h.Nu(),o.enqueueAndForget((()=>iu(i,d))),m.fromCache&&c.source==="server"?u.reject(new Q(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),d=new au(l,h,{includeMetadataChanges:!0,qa:!0});return su(i,d)})(await ea(e),e.asyncQueue,t,n,r))),r.promise}function Ug(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const ad=new Map;const Bg="firestore.googleapis.com",ld=!0;class cd{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Q(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Bg,this.ssl=ld}else this.host=t.host,this.ssl=t.ssl??ld;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Eg;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Iw)throw new Q(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}uE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ug(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Q(N.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Q(N.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Q(N.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class xa{constructor(t,n,r,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cd({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Q(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cd(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new tE;switch(r.type){case"firstParty":return new sE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=ad.get(n);r&&(et("ComponentProvider","Removing Datastore"),ad.delete(n),r.terminate())})(this),Promise.resolve()}}function YT(e,t,n,r={}){e=Ze(e,xa);const s=$i(t),i=e._getSettings(),o={...i,emulatorOptions:e._getEmulatorOptions()},l=`${t}:${n}`;s&&(lm(`https://${l}`),um("Firestore",!0)),i.host!==Bg&&i.host!==l&&ps("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:l,ssl:s,emulatorOptions:r};if(!zo(c,o)&&(e._setSettings(c),r.mockUserToken)){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=Ae.MOCK_USER;else{u=cm(r.mockUserToken,e._app?.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new Q(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ae(d)}e._authCredentials=new eE(new xm(u,h))}}class yr{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new yr(this.firestore,t,this._query)}}class Gt{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Gt(this.firestore,t,this._key)}toJSON(){return{type:Gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(ji(n,Gt._jsonSchema))return new Gt(t,r||null,new st(Nt.fromString(n.referencePath)))}}Gt._jsonSchemaVersion="firestore/documentReference/1.0",Gt._jsonSchema={type:Zt("string",Gt._jsonSchemaVersion),referencePath:Zt("string")};class rr extends yr{constructor(t,n,r){super(t,n,va(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Gt(this.firestore,null,new st(t))}withConverter(t){return new rr(this.firestore,t,this._path)}}function gn(e,t,...n){if(e=xe(e),Pm("collection","path",t),e instanceof xa){const r=Nt.fromString(t,...n);return Tf(r),new rr(e,null,r)}{if(!(e instanceof Gt||e instanceof rr))throw new Q(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Nt.fromString(t,...n));return Tf(r),new rr(e.firestore,null,r)}}function Dr(e,t,...n){if(e=xe(e),arguments.length===1&&(t=Lc.newId()),Pm("doc","path",t),e instanceof xa){const r=Nt.fromString(t,...n);return wf(r),new Gt(e,null,new st(r))}{if(!(e instanceof Gt||e instanceof rr))throw new Q(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Nt.fromString(t,...n));return wf(r),new Gt(e.firestore,e instanceof rr?e.converter:null,new st(r))}}const ud="AsyncQueue";class hd{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Yc(this,"async_queue_retry"),this._c=()=>{const r=gl();r&&et(ud,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=gl();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=gl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new yn;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Is(t))throw t;et(ud,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,On("INTERNAL UNHANDLED ERROR: ",fd(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const s=nu.createAndSchedule(this,t,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&lt(47125,{Pc:fd(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function fd(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}function dd(e){return(function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1})(e,["next","error","complete"])}class pr extends xa{constructor(t,n,r,s){super(t,n,r,s),this.type="firestore",this._queue=new hd,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new hd(t),this._firestoreClient=void 0,await t}}}function JT(e,t){const n=typeof e=="object"?e:vm(),r=typeof e=="string"?e:Go,s=mm(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=om("firestore");i&&YT(s,...i)}return s}function Cs(e){if(e._terminated)throw new Q(N.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||ZT(e),e._firestoreClient}function ZT(e){const t=e._freezeSettings(),n=(function(s,i,o,l){return new wE(s,i,o,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,Ug(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new HT(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(s){const i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}})(e._componentsProvider))}class Ke{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ke(ve.fromBase64String(t))}catch(n){throw new Q(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ke(ve.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ke._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ji(t,Ke._jsonSchema))return Ke.fromBase64String(t.bytes)}}Ke._jsonSchemaVersion="firestore/bytes/1.0",Ke._jsonSchema={type:Zt("string",Ke._jsonSchemaVersion),bytes:Zt("string")};class Wi{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Q(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _e(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Pa{constructor(t){this._methodName=t}}class En{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Q(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Q(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return vt(this._lat,t._lat)||vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:En._jsonSchemaVersion}}static fromJSON(t){if(ji(t,En._jsonSchema))return new En(t.latitude,t.longitude)}}En._jsonSchemaVersion="firestore/geoPoint/1.0",En._jsonSchema={type:Zt("string",En._jsonSchemaVersion),latitude:Zt("number"),longitude:Zt("number")};class wn{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,t._values)}toJSON(){return{type:wn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ji(t,wn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new wn(t.vectorValues);throw new Q(N.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wn._jsonSchemaVersion="firestore/vectorValue/1.0",wn._jsonSchema={type:Zt("string",wn._jsonSchemaVersion),vectorValues:Zt("object")};const tb=/^__.*__$/;class eb{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new _r(t,this.data,this.fieldMask,n,this.fieldTransforms):new qi(t,this.data,n,this.fieldTransforms)}}class $g{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new _r(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function jg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lt(40011,{Ac:e})}}class fu{constructor(t,n,r,s,i,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new fu({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return na(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(jg(this.Ac)&&tb.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class nb{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Ra(t)}Cc(t,n,r,s=!1){return new fu({Ac:t,methodName:n,Dc:r,path:_e.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Va(e){const t=e._freezeSettings(),n=Ra(e._databaseId);return new nb(e._databaseId,!!t.ignoreUndefinedProperties,n)}function du(e,t,n,r,s,i={}){const o=e.Cc(i.merge||i.mergeFields?2:0,t,n,s);mu("Data must be an object, but it was:",o,r);const l=Hg(r,o);let c,u;if(i.merge)c=new Qe(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const d of i.mergeFields){const m=oc(t,d,n);if(!o.contains(m))throw new Q(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);Kg(h,m)||h.push(m)}c=new Qe(h),u=o.fieldTransforms.filter((d=>c.covers(d.field)))}else c=null,u=o.fieldTransforms;return new eb(new Fe(l),c,u)}class Da extends Pa{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Da}}class pu extends Pa{_toFieldTransform(t){return new KE(t.path,new Oi)}isEqual(t){return t instanceof pu}}function zg(e,t,n,r){const s=e.Cc(1,t,n);mu("Data must be an object, but it was:",s,r);const i=[],o=Fe.empty();gr(r,((c,u)=>{const h=gu(t,c,n);u=xe(u);const d=s.yc(h);if(u instanceof Da)i.push(h);else{const m=Qi(u,d);m!=null&&(i.push(h),o.set(h,m))}}));const l=new Qe(i);return new $g(o,l,s.fieldTransforms)}function qg(e,t,n,r,s,i){const o=e.Cc(1,t,n),l=[oc(t,r,n)],c=[s];if(i.length%2!=0)throw new Q(N.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)l.push(oc(t,i[m])),c.push(i[m+1]);const u=[],h=Fe.empty();for(let m=l.length-1;m>=0;--m)if(!Kg(u,l[m])){const _=l[m];let C=c[m];C=xe(C);const x=o.yc(_);if(C instanceof Da)u.push(_);else{const D=Qi(C,x);D!=null&&(u.push(_),h.set(_,D))}}const d=new Qe(u);return new $g(h,d,o.fieldTransforms)}function rb(e,t,n,r=!1){return Qi(n,e.Cc(r?4:3,t))}function Qi(e,t){if(Gg(e=xe(e)))return mu("Unsupported field value:",t,e),Hg(e,t);if(e instanceof Pa)return(function(r,s){if(!jg(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,s){const i=[];let o=0;for(const l of r){let c=Qi(l,s.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}})(e,t)}return(function(r,s){if((r=xe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qE(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=$t.fromDate(r);return{timestampValue:Xo(s.serializer,i)}}if(r instanceof $t){const i=new $t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xo(s.serializer,i)}}if(r instanceof En)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ke)return{bytesValue:fg(s.serializer,r._byteString)};if(r instanceof Gt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Gc(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof wn)return(function(o,l){return{mapValue:{fields:{[Um]:{stringValue:Bm},[Ko]:{arrayValue:{values:o.toArray().map((u=>{if(typeof u!="number")throw l.Sc("VectorValues must only contain numeric values.");return zc(l.serializer,u)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${ga(r)}`)})(e,t)}function Hg(e,t){const n={};return km(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):gr(e,((r,s)=>{const i=Qi(s,t.mc(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function Gg(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof $t||e instanceof En||e instanceof Ke||e instanceof Gt||e instanceof Pa||e instanceof wn)}function mu(e,t,n){if(!Gg(n)||!Vm(n)){const r=ga(n);throw r==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function oc(e,t,n){if((t=xe(t))instanceof Wi)return t._internalPath;if(typeof t=="string")return gu(e,t);throw na("Field path arguments must be of type string or ",e,!1,void 0,n)}const sb=new RegExp("[~\\*/\\[\\]]");function gu(e,t,n){if(t.search(sb)>=0)throw na(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Wi(...t.split("."))._internalPath}catch{throw na(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function na(e,t,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${t}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new Q(N.INVALID_ARGUMENT,l+e+c)}function Kg(e,t){return e.some((n=>n.isEqual(t)))}class ra{constructor(t,n,r,s,i){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new ib(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(ka("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ib extends ra{data(){return super.data()}}function ka(e,t){return typeof t=="string"?gu(e,t):t instanceof Wi?t._internalPath:t._delegate._internalPath}function Wg(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Q(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _u{}class Qg extends _u{}function kr(e,t,...n){let r=[];t instanceof _u&&r.push(t),r=r.concat(n),(function(i){const o=i.filter((c=>c instanceof yu)).length,l=i.filter((c=>c instanceof Na)).length;if(o>1||o>0&&l>0)throw new Q(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)e=s._apply(e);return e}class Na extends Qg{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Na(t,n,r)}_apply(t){const n=this._parse(t);return Xg(t._query,n),new yr(t.firestore,t.converter,Xl(t._query,n))}_parse(t){const n=Va(t.firestore);return(function(i,o,l,c,u,h,d){let m;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Q(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){md(d,h);const C=[];for(const x of d)C.push(pd(c,i,x));m={arrayValue:{values:C}}}else m=pd(c,i,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||md(d,h),m=rb(l,o,d,h==="in"||h==="not-in");return Jt.create(u,h,m)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function hs(e,t,n){const r=t,s=ka("where",e);return Na._create(s,r,n)}class yu extends _u{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new yu(t,n)}_parse(t){const n=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:on.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(s,i){let o=s;const l=i.getFlattenedFilters();for(const c of l)Xg(o,c),o=Xl(o,c)})(t._query,n),new yr(t.firestore,t.converter,Xl(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vu extends Qg{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new vu(t,n)}_apply(t){const n=(function(s,i,o){if(s.startAt!==null)throw new Q(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Q(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ni(i,o)})(t._query,this._field,this._direction);return new yr(t.firestore,t.converter,(function(s,i){const o=s.explicitOrderBy.concat([i]);return new Rs(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(t._query,n))}}function ob(e,t="asc"){const n=t,r=ka("orderBy",e);return vu._create(r,n)}function pd(e,t,n){if(typeof(n=xe(n))=="string"){if(n==="")throw new Q(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wm(t)&&n.indexOf("/")!==-1)throw new Q(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Nt.fromString(n));if(!st.isDocumentKey(r))throw new Q(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Pf(e,new st(r))}if(n instanceof Gt)return Pf(e,n._key);throw new Q(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ga(n)}.`)}function md(e,t){if(!Array.isArray(e)||e.length===0)throw new Q(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Xg(e,t){const n=(function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null})(e.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new Q(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Q(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Yg{convertValue(t,n="none"){switch(hr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Qt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ur(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw lt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return gr(t,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(t){const n=t.fields?.[Ko].arrayValue?.values?.map((r=>Qt(r.doubleValue)));return new wn(n)}convertGeoPoint(t){return new En(Qt(t.latitude),Qt(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=ya(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vi(t));default:return null}}convertTimestamp(t){const n=cr(t);return new $t(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Nt.fromString(t);It(vg(r),9688,{name:t});const s=new Di(r.get(1),r.get(3)),i=new st(r.popFirst(5));return s.isEqual(n)||On(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}function Eu(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class ab extends Yg{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ke(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Gt(this.firestore,null,n)}}class rs{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class sr extends ra{constructor(t,n,r,s,i,o){super(t,n,r,s,o),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Do(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(ka("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Q(N.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=sr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}sr._jsonSchemaVersion="firestore/documentSnapshot/1.0",sr._jsonSchema={type:Zt("string",sr._jsonSchemaVersion),bundleSource:Zt("string","DocumentSnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class Do extends sr{data(t={}){return super.data(t)}}class Mr{constructor(t,n,r,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new rs(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new Do(this._firestore,this._userDataWriter,r.key,r,new rs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map((l=>{const c=new Do(s._firestore,s._userDataWriter,l.doc.key,l.doc,new rs(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}}))}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((l=>i||l.type!==3)).map((l=>{const c=new Do(s._firestore,s._userDataWriter,l.doc.key,l.doc,new rs(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:lb(l.type),doc:c,oldIndex:u,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Q(N.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Mr._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Lc.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function lb(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lt(61501,{type:e})}}function wu(e){e=Ze(e,Gt);const t=Ze(e.firestore,pr);return QT(Cs(t),e._key).then((n=>Zg(t,e,n)))}Mr._jsonSchemaVersion="firestore/querySnapshot/1.0",Mr._jsonSchema={type:Zt("string",Mr._jsonSchemaVersion),bundleSource:Zt("string","QuerySnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class Oa extends Yg{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ke(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Gt(this.firestore,null,n)}}function fs(e){e=Ze(e,yr);const t=Ze(e.firestore,pr),n=Cs(t),r=new Oa(t);return Wg(e._query),XT(n,e._query).then((s=>new Mr(t,r,e,s)))}function cb(e,t,n){e=Ze(e,Gt);const r=Ze(e.firestore,pr),s=Eu(e.converter,t,n);return Jg(r,[du(Va(r),"setDoc",e._key,s,e.converter!==null,n).toMutation(e._key,ye.none())])}function ub(e,...t){e=xe(e);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||dd(t[r])||(n=t[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(dd(t[r])){const c=t[r];t[r]=c.next?.bind(c),t[r+1]=c.error?.bind(c),t[r+2]=c.complete?.bind(c)}let i,o,l;if(e instanceof Gt)o=Ze(e.firestore,pr),l=va(e._key.path),i={next:c=>{t[r]&&t[r](Zg(o,e,c))},error:t[r+1],complete:t[r+2]};else{const c=Ze(e,yr);o=Ze(c.firestore,pr),l=c._query;const u=new Oa(o);i={next:h=>{t[r]&&t[r](new Mr(o,u,c,h))},error:t[r+1],complete:t[r+2]},Wg(e._query)}return(function(u,h,d,m){const _=new uu(m),C=new au(h,_,d);return u.asyncQueue.enqueueAndForget((async()=>su(await ea(u),C))),()=>{_.Nu(),u.asyncQueue.enqueueAndForget((async()=>iu(await ea(u),C)))}})(Cs(o),l,s,i)}function Jg(e,t){return(function(r,s){const i=new yn;return r.asyncQueue.enqueueAndForget((async()=>NT(await KT(r),s,i))),i.promise})(Cs(e),t)}function Zg(e,t,n){const r=n.docs.get(t._key),s=new Oa(e);return new sr(e,s,t._key,r,new rs(n.hasPendingWrites,n.fromCache),t.converter)}const hb={maxAttempts:5};class fb{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Va(t)}set(t,n,r){this._verifyNotCommitted();const s=Yn(t,this._firestore),i=Eu(s.converter,n,r),o=du(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(o.toMutation(s._key,ye.none())),this}update(t,n,r,...s){this._verifyNotCommitted();const i=Yn(t,this._firestore);let o;return o=typeof(n=xe(n))=="string"||n instanceof Wi?qg(this._dataReader,"WriteBatch.update",i._key,n,r,s):zg(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(o.toMutation(i._key,ye.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=Yn(t,this._firestore);return this._mutations=this._mutations.concat(new Aa(n._key,ye.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Q(N.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Yn(e,t){if((e=xe(e)).firestore!==t)throw new Q(N.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class db{constructor(t,n){this._firestore=t,this._transaction=n,this._dataReader=Va(t)}get(t){const n=Yn(t,this._firestore),r=new ab(this._firestore);return this._transaction.lookup([n._key]).then((s=>{if(!s||s.length!==1)return lt(24041);const i=s[0];if(i.isFoundDocument())return new ra(this._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new ra(this._firestore,r,n._key,null,n.converter);throw lt(18433,{doc:i})}))}set(t,n,r){const s=Yn(t,this._firestore),i=Eu(s.converter,n,r),o=du(this._dataReader,"Transaction.set",s._key,i,s.converter!==null,r);return this._transaction.set(s._key,o),this}update(t,n,r,...s){const i=Yn(t,this._firestore);let o;return o=typeof(n=xe(n))=="string"||n instanceof Wi?qg(this._dataReader,"Transaction.update",i._key,n,r,s):zg(this._dataReader,"Transaction.update",i._key,n),this._transaction.update(i._key,o),this}delete(t){const n=Yn(t,this._firestore);return this._transaction.delete(n._key),this}}class pb extends db{constructor(t,n){super(t,n),this._firestore=t}get(t){const n=Yn(t,this._firestore),r=new Oa(this._firestore);return super.get(t).then((s=>new sr(this._firestore,r,n._key,s._document,new rs(!1,!1),n.converter)))}}function mb(e,t,n){e=Ze(e,pr);const r={...hb,...n};return(function(i){if(i.maxAttempts<1)throw new Q(N.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(i,o,l){const c=new yn;return i.asyncQueue.enqueueAndForget((async()=>{const u=await WT(i);new qT(i.asyncQueue,u,l,o,c).ju()})),c.promise})(Cs(e),(s=>t(new pb(e,s))),r)}function gi(){return new pu("serverTimestamp")}function gd(e){return Cs(e=Ze(e,pr)),new fb(e,(t=>Jg(e,t)))}(function(t,n=!0){(function(s){bs=s})(_m),Ci(new ds("firestore",((r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new pr(new nE(r.getProvider("auth-internal")),new iE(o,r.getProvider("app-check-internal")),(function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Q(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Di(u.options.projectId,h)})(o,s),o);return i={useFetchStreams:n,...i},l._setSettings(i),l}),"PUBLIC").setMultipleInstances(!0)),er(_f,yf,t),er(_f,yf,"esm2020")})();const t_="firebasestorage.googleapis.com",e_="storageBucket",gb=120*1e3,_b=600*1e3;class he extends jr{constructor(t,n,r=0){super(yl(t),`Firebase Storage: ${n} (${yl(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,he.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return yl(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ue;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ue||(ue={}));function yl(e){return"storage/"+e}function n_(){const e="An unknown error occurred, please check the error payload for server response.";return new he(ue.UNKNOWN,e)}function yb(e){return new he(ue.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function vb(e){return new he(ue.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Eb(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new he(ue.UNAUTHENTICATED,e)}function wb(){return new he(ue.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Tb(e){return new he(ue.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function bb(){return new he(ue.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ab(){return new he(ue.CANCELED,"User canceled the upload/download.")}function Ib(e){return new he(ue.INVALID_URL,"Invalid URL '"+e+"'.")}function Rb(e){return new he(ue.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function Sb(){return new he(ue.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+e_+"' property when initializing the app?")}function Cb(){return new he(ue.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ac(e){return new he(ue.INVALID_ARGUMENT,e)}function r_(){return new he(ue.APP_DELETED,"The Firebase app was deleted.")}function xb(e){return new he(ue.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ks(e){throw new he(ue.INTERNAL_ERROR,"Internal error: "+e)}class Ue{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Ue.makeFromUrl(t,n)}catch{return new Ue(t,"")}if(r.path==="")return r;throw Rb(t)}static makeFromUrl(t,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(q){q.path.charAt(q.path.length-1)==="/"&&(q.path_=q.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function u(q){q.path_=decodeURIComponent(q.path)}const h="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",_=new RegExp(`^https?://${d}/${h}/b/${s}/o${m}`,"i"),C={bucket:1,path:3},x=n===t_?"(?:storage.googleapis.com|storage.cloud.google.com)":n,D="([^?#]*)",F=new RegExp(`^https?://${x}/${s}/${D}`,"i"),z=[{regex:l,indices:c,postModify:i},{regex:_,indices:C,postModify:u},{regex:F,indices:{bucket:1,path:2},postModify:u}];for(let q=0;q<z.length;q++){const rt=z[q],K=rt.regex.exec(t);if(K){const E=K[rt.indices.bucket];let v=K[rt.indices.path];v||(v=""),r=new Ue(E,v),rt.postModify(r);break}}if(r==null)throw Ib(t);return r}}class Pb{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function Vb(e,t,n){let r=1,s=null,i=null,o=!1,l=0;function c(){return l===2}let u=!1;function h(...D){u||(u=!0,t.apply(null,D))}function d(D){s=setTimeout(()=>{s=null,e(_,c())},D)}function m(){i&&clearTimeout(i)}function _(D,...F){if(u){m();return}if(D){m(),h.call(null,D,...F);return}if(c()||o){m(),h.call(null,D,...F);return}r<64&&(r*=2);let z;l===1?(l=2,z=0):z=(r+Math.random())*1e3,d(z)}let C=!1;function x(D){C||(C=!0,m(),!u&&(s!==null?(D||(l=2),clearTimeout(s),d(0)):D||(l=1)))}return d(0),i=setTimeout(()=>{o=!0,x(!0)},n),x}function Db(e){e(!1)}function kb(e){return e!==void 0}function Nb(e){return typeof e=="object"&&!Array.isArray(e)}function s_(e){return typeof e=="string"||e instanceof String}function lc(e,t,n,r){if(r<t)throw ac(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw ac(`Invalid value for '${e}'. Expected ${n} or less.`)}function Tu(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function i_(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const s=t(r)+"="+t(e[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Lr;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Lr||(Lr={}));function Ob(e,t){const n=e>=500&&e<600,s=[408,429].indexOf(e)!==-1,i=t.indexOf(e)!==-1;return n||s||i}class Mb{constructor(t,n,r,s,i,o,l,c,u,h,d,m=!0,_=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=d,this.retry=m,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,x)=>{this.resolve_=C,this.reject_=x,this.start_()})}start_(){const t=(r,s)=>{if(s){r(!1,new yo(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const l=i.getErrorCode()===Lr.NO_ERROR,c=i.getStatus();if(!l||Ob(c,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===Lr.ABORT;r(!1,new yo(!1,null,h));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new yo(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());kb(c)?i(c):i()}catch(c){o(c)}else if(l!==null){const c=n_();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(s.canceled){const c=this.appDelete_?r_():Ab();o(c)}else{const c=bb();o(c)}};this.canceled_?n(!1,new yo(!1,null,!0)):this.backoffId_=Vb(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Db(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class yo{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function Lb(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function Fb(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Ub(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Bb(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function $b(e,t,n,r,s,i,o=!0,l=!1){const c=i_(e.urlParams),u=e.url+c,h=Object.assign({},e.headers);return Ub(h,t),Lb(h,n),Fb(h,i),Bb(h,r),new Mb(u,e.method,h,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,o,l)}function bu(e){let t;try{t=JSON.parse(e)}catch{return null}return Nb(t)?t:null}function jb(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function zb(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function o_(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}function qb(e,t){return t}class Ve{constructor(t,n,r,s){this.server=t,this.local=n||t,this.writable=!!r,this.xform=s||qb}}let vo=null;function Hb(e){return!s_(e)||e.length<2?e:o_(e)}function Gb(){if(vo)return vo;const e=[];e.push(new Ve("bucket")),e.push(new Ve("generation")),e.push(new Ve("metageneration")),e.push(new Ve("name","fullPath",!0));function t(i,o){return Hb(o)}const n=new Ve("name");n.xform=t,e.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new Ve("size");return s.xform=r,e.push(s),e.push(new Ve("timeCreated")),e.push(new Ve("updated")),e.push(new Ve("md5Hash",null,!0)),e.push(new Ve("cacheControl",null,!0)),e.push(new Ve("contentDisposition",null,!0)),e.push(new Ve("contentEncoding",null,!0)),e.push(new Ve("contentLanguage",null,!0)),e.push(new Ve("contentType",null,!0)),e.push(new Ve("metadata","customMetadata",!0)),vo=e,vo}function Kb(e,t){function n(){const r=e.bucket,s=e.fullPath,i=new Ue(r,s);return t._makeStorageReference(i)}Object.defineProperty(e,"ref",{get:n})}function Wb(e,t,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,t[o.server])}return Kb(r,e),r}function Qb(e,t,n){const r=bu(t);return r===null?null:Wb(e,r,n)}function Xb(e,t,n,r){const s=bu(t);if(s===null||!s_(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(u=>{const h=e.bucket,d=e.fullPath,m="/b/"+o(h)+"/o/"+o(d),_=Tu(m,n,r),C=i_({alt:"media",token:u});return _+C})[0]}const _d="prefixes",yd="items";function Yb(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[_d])for(const s of n[_d]){const i=s.replace(/\/$/,""),o=e._makeStorageReference(new Ue(t,i));r.prefixes.push(o)}if(n[yd])for(const s of n[yd]){const i=e._makeStorageReference(new Ue(t,s.name));r.items.push(i)}return r}function Jb(e,t,n){const r=bu(n);return r===null?null:Yb(e,t,r)}class a_{constructor(t,n,r,s){this.url=t,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function l_(e){if(!e)throw n_()}function Zb(e,t){function n(r,s){const i=Jb(e,t,s);return l_(i!==null),i}return n}function tA(e,t){function n(r,s){const i=Qb(e,s,t);return l_(i!==null),Xb(i,s,e.host,e._protocol)}return n}function c_(e){function t(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=wb():s=Eb():n.getStatus()===402?s=vb(e.bucket):n.getStatus()===403?s=Tb(e.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return t}function eA(e){const t=c_(e);function n(r,s){let i=t(r,s);return r.getStatus()===404&&(i=yb(e.path)),i.serverResponse=s.serverResponse,i}return n}function nA(e,t,n,r,s){const i={};t.isRoot?i.prefix="":i.prefix=t.path+"/",n.length>0&&(i.delimiter=n),r&&(i.pageToken=r),s&&(i.maxResults=s);const o=t.bucketOnlyServerUrl(),l=Tu(o,e.host,e._protocol),c="GET",u=e.maxOperationRetryTime,h=new a_(l,c,Zb(e,t.bucket),u);return h.urlParams=i,h.errorHandler=c_(t),h}function rA(e,t,n){const r=t.fullServerUrl(),s=Tu(r,e.host,e._protocol),i="GET",o=e.maxOperationRetryTime,l=new a_(s,i,tA(e,n),o);return l.errorHandler=eA(t),l}class sA{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Lr.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Lr.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Lr.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,s,i){if(this.sent_)throw Ks("cannot .send() more than once");if($i(t)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ks("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ks("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ks("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ks("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class iA extends sA{initXhr(){this.xhr_.responseType="text"}}function u_(){return new iA}class $r{constructor(t,n){this._service=t,n instanceof Ue?this._location=n:this._location=Ue.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new $r(t,n)}get root(){const t=new Ue(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return o_(this._location.path)}get storage(){return this._service}get parent(){const t=jb(this._location.path);if(t===null)return null;const n=new Ue(this._location.bucket,t);return new $r(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw xb(t)}}function oA(e){const t={prefixes:[],items:[]};return h_(e,t).then(()=>t)}async function h_(e,t,n){const s=await aA(e,{pageToken:n});t.prefixes.push(...s.prefixes),t.items.push(...s.items),s.nextPageToken!=null&&await h_(e,t,s.nextPageToken)}function aA(e,t){t!=null&&typeof t.maxResults=="number"&&lc("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=nA(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,u_)}function lA(e){e._throwIfRoot("getDownloadURL");const t=rA(e.storage,e._location,Gb());return e.storage.makeRequestWithTokens(t,u_).then(n=>{if(n===null)throw Cb();return n})}function cA(e,t){const n=zb(e._location.path,t),r=new Ue(e._location.bucket,n);return new $r(e.storage,r)}function uA(e){return/^[A-Za-z]+:\/\//.test(e)}function hA(e,t){return new $r(e,t)}function f_(e,t){if(e instanceof Au){const n=e;if(n._bucket==null)throw Sb();const r=new $r(n,n._bucket);return f_(r,t)}else return cA(e,t)}function fA(e,t){if(uA(t)){if(e instanceof Au)return hA(e,t);throw ac("To use ref(service, url), the first argument must be a Storage instance.")}else return f_(e,t)}function vd(e,t){const n=t?.[e_];return n==null?null:Ue.makeFromBucketSpec(n,e)}function dA(e,t,n,r={}){e.host=`${t}:${n}`;const s=$i(t);s&&(lm(`https://${e.host}/b`),um("Storage",!0)),e._isUsingEmulator=!0,e._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:cm(i,e.app.options.projectId))}class Au{constructor(t,n,r,s,i,o=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=t_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=gb,this._maxUploadRetryTime=_b,this._requests=new Set,s!=null?this._bucket=Ue.makeFromBucketSpec(s,this._host):this._bucket=vd(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Ue.makeFromBucketSpec(this._url,t):this._bucket=vd(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){lc("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){lc("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(gm(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new $r(this,t)}_makeRequest(t,n,r,s,i=!0){if(this._deleted)return new Pb(r_());{const o=$b(t,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,s).getPromise()}}const Ed="@firebase/storage",wd="0.14.0";const d_="storage";function pA(e){return e=xe(e),oA(e)}function mA(e){return e=xe(e),lA(e)}function gA(e,t){return e=xe(e),fA(e,t)}function _A(e=vm(),t){e=xe(e);const r=mm(e,d_).getImmediate({identifier:t}),s=om("storage");return s&&yA(r,...s),r}function yA(e,t,n,r={}){dA(e,t,n,r)}function vA(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Au(n,r,s,t,_m)}function EA(){Ci(new ds(d_,vA,"PUBLIC").setMultipleInstances(!0)),er(Ed,wd,""),er(Ed,wd,"esm2020")}EA();const wA={apiKey:"AIzaSyDDKt1f46GuXySEOkHg8qQcc1OFxkQmkPk",authDomain:"gsa-ac.firebaseapp.com",projectId:"gsa-ac",storageBucket:"gsa-ac.firebasestorage.app",messagingSenderId:"708496330298",appId:"1:708496330298:web:b220c6513dec715168af03"},p_=ym(wA),pe=JT(p_),TA=_A(p_);function bA(){const e=xt(null),t=xt(null),n=xt(new Date),r=xt(!0),s=()=>{n.value=new Date},i=le(()=>e.value?n.value<e.value?1:2:1),o=le(()=>{if(!e.value||i.value===2)return null;const c=e.value.getTime()-n.value.getTime(),u=Math.floor(c/(1e3*60*60*24)),h=Math.floor(c%(1e3*60*60*24)/(1e3*60*60)),d=Math.floor(c%(1e3*60*60)/(1e3*60)),m=Math.floor(c%(1e3*60)/1e3);return{days:u,hours:h,minutes:d,seconds:m}}),l=async()=>{try{r.value=!0;const c=localStorage.getItem("phaseConfig");if(c)try{const u=JSON.parse(c);e.value=new Date(u.phase1Deadline),t.value=new Date(u.phase2Start)}catch(u){console.warn("Failed to parse cached config:",u)}try{const u=await wu(Dr(pe,"config","settings"));if(u.exists()){const h=u.data();h.phase1Deadline&&(e.value=h.phase1Deadline.toDate()),h.phase2Start&&(t.value=h.phase2Start.toDate()),localStorage.setItem("phaseConfig",JSON.stringify({phase1Deadline:e.value?.toISOString(),phase2Start:t.value?.toISOString()}))}else e.value||(e.value=new Date("2025-11-25T23:59:00"),t.value=new Date("2025-11-26T00:00:00"))}catch(u){const h=u;h.code==="unavailable"||h.message?.includes("offline")?console.warn("Firebase offline, using cached or default config"):console.error("Error loading phase config from Firebase:",u),e.value||(e.value=new Date("2025-11-25T23:59:00"),t.value=new Date("2025-11-26T00:00:00"))}}catch(c){console.error("Unexpected error loading phase config:",c),e.value||(e.value=new Date("2025-11-25T23:59:00"),t.value=new Date("2025-11-26T00:00:00"))}finally{r.value=!1}};return Ts(()=>{l(),setInterval(s,1e3)}),{currentPhase:i,timeRemaining:o,phase1Deadline:e,phase2Start:t,loading:r,loadPhaseConfig:l}}let Eo=null;function AA(){const e=async()=>{if(Eo&&Eo.length>0)return Eo;try{const n=gA(TA,"avatars/"),s=(await pA(n)).items.map(o=>mA(o)),i=await Promise.all(s);return Eo=i,i}catch(n){return console.error("Error fetching avatar URLs:",n),[]}};return{getAvatarUrls:e,getRandomAvatarUrl:async()=>{const n=await e();if(n.length===0)return console.warn("No avatars found in Firebase Storage"),null;const r=Math.floor(Math.random()*n.length);return n[r]??null}}}const ei=xt(null),vl=xt(!1),Ws=xt(null),Td=localStorage.getItem("currentUser");if(Td)try{ei.value=JSON.parse(Td)}catch(e){console.error("Error loading user from storage:",e),localStorage.removeItem("currentUser")}function Xi(){const e=le(()=>ei.value!==null),{getRandomAvatarUrl:t}=AA();return{currentUser:ei,isLoggedIn:e,loading:vl,error:Ws,login:async(s,i)=>{if(!s.trim()||s.trim().length>20)return Ws.value=" 1-20 ",!1;if(!/^\d{4}$/.test(i))return Ws.value="440101",!1;try{vl.value=!0,Ws.value=null;const o=`${s.trim()}_${i}`,l=Dr(pe,"users",o),c=await wu(l);let u;if(c.exists()){const h=c.data();u={id:o,nickname:h.nickname,birthCode:h.birthCode,avatarUrl:h.avatarUrl||null,createdAt:h.createdAt}}else{const h=await t();u={id:o,nickname:s.trim(),birthCode:i,avatarUrl:h,createdAt:new Date},await cb(l,{nickname:u.nickname,birthCode:u.birthCode,avatarUrl:u.avatarUrl,createdAt:gi()})}return localStorage.setItem("currentUser",JSON.stringify(u)),ei.value=u,!0}catch(o){return console.error("Error during login:",o),Ws.value=o.message||"",!1}finally{vl.value=!1}},logout:()=>{ei.value=null,localStorage.removeItem("currentUser"),localStorage.removeItem("hasSubmitted"),localStorage.removeItem("hasDrawn"),localStorage.removeItem("drawnKeywords"),localStorage.removeItem("submissionId")}}}function IA(){const e=xt(!1),t=xt(null),n=xt(!1),r=xt([]),s=xt(!1);return{submitKeywords:async(l,c,u)=>{if(l.length<3||l.length>5)return t.value=" 3-5 ",!1;for(const h of l){const d=h.trim();if(!d||d.length>20)return t.value=" 1-20 ",!1}try{e.value=!0,t.value=null;let h=localStorage.getItem("submissionId");if(!h||!n.value){const _=gn(pe,"submissions"),C=kr(_,hs("userId","==",c)),x=await fs(C);!x.empty&&x.docs[0]&&(h=x.docs[0].id,n.value=!0)}if(h&&n.value){const _=kr(gn(pe,"keywords"),hs("submittedBy","==",h)),C=await fs(_),x=gd(pe);C.docs.forEach(D=>{x.delete(D.ref)}),await x.commit()}const d=gd(pe),m=h&&n.value?Dr(pe,"submissions",h):Dr(gn(pe,"submissions"));d.set(m,{keywords:l.map(_=>_.trim()),userId:c,userNickname:u,submitTime:gi(),updatedAt:gi()});for(const _ of l){const C=Dr(gn(pe,"keywords"));d.set(C,{word:_.trim(),submittedBy:m.id,submittedByUserId:c,submittedByUserNickname:u,isDrawn:!1,drawnBy:null,submitTime:gi()})}return await d.commit(),localStorage.setItem("hasSubmitted","true"),localStorage.setItem("submissionId",m.id),n.value=!0,r.value=l.map(_=>_.trim()),!0}catch(h){return console.error("Error submitting keywords:",h),t.value="",!1}finally{e.value=!1}},submitting:e,error:t,hasSubmitted:n,submittedKeywords:r,isLoading:s,checkSubmissionStatus:async l=>{if(!l)return n.value=!1,r.value=[],!1;s.value=!0;try{const c=localStorage.getItem("hasSubmitted"),u=localStorage.getItem("submissionId");if(c==="true"&&u){const _=await wu(Dr(pe,"submissions",u));if(_.exists()){const C=_.data();if(C.userId===l)return n.value=!0,r.value=C.keywords||[],!0}}const h=gn(pe,"submissions"),d=kr(h,hs("userId","==",l)),m=await fs(d);if(m.empty)return n.value=!1,r.value=[],localStorage.removeItem("hasSubmitted"),localStorage.removeItem("submissionId"),!1;{const _=m.docs[0],C=_?_.data():null;return n.value=!0,r.value=C?.keywords||[],_&&(localStorage.setItem("hasSubmitted","true"),localStorage.setItem("submissionId",_.id)),!0}}catch(c){return console.error("Error checking submission status:",c),n.value=!1,r.value=[],!1}finally{s.value=!1}}}}const RA={class:"min-h-screen px-4 py-8"},SA={class:"max-w-2xl mx-auto"},CA={class:"p-8 bg-gray-800 border border-gray-700 shadow-2xl rounded-xl"},xA={class:"flex items-center justify-between pb-4 mb-6 border-b border-gray-700"},PA={class:"flex items-center gap-3"},VA={class:"w-10 h-10 bg-[#c03221] rounded-full flex items-center justify-center overflow-hidden"},DA=["src","alt"],kA={key:1,class:"w-6 h-6 text-[#f2d0a4]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},NA={class:"font-semibold text-[#f2d0a4]"},OA={key:0,class:"py-8 text-center"},MA={key:1},LA={key:0,class:"flex items-center gap-2 p-3 mb-4 text-sm border rounded-lg bg-[#28464b]/30 border-[#28464b]"},FA={key:1,class:"flex items-center gap-2 p-3 mb-4 text-sm border rounded-lg bg-[#28464b]/30 border-[#28464b]"},UA={class:"mb-6"},BA={class:"space-y-3"},$A={class:"w-8 font-medium text-gray-400"},jA=["onUpdate:modelValue","placeholder","disabled","onFocus"],zA=["onClick"],qA={class:"mt-3 text-sm text-gray-400"},HA={key:0,class:"text-[#c03221]"},GA={key:2,class:"mb-4 p-4 bg-[#c03221]/20 border border-[#c03221]/50 rounded-lg text-[#ff6b5a]"},KA=["disabled"],WA={class:"font-black text-gray-900"},QA=ln({__name:"PhaseOne",setup(e){const{submitKeywords:t,submitting:n,error:r,hasSubmitted:s,submittedKeywords:i,isLoading:o,checkSubmissionStatus:l}=IA(),{currentUser:c,logout:u}=Xi(),h=xt(["","","","",""]),d=xt(!1),m=xt(null),_=le(()=>h.value.filter(K=>K.trim()!=="").length),C=le(()=>s.value&&i.value.length>0),x=le(()=>n.value?"...":C.value?"":"");Ts(async()=>{if(c.value&&(await l(c.value.id),i.value.length>0)){const K=["","","","",""];i.value.forEach((E,v)=>{v<5&&(K[v]=E)}),h.value=K}}),li(i,K=>{if(K.length>0){const E=["","","","",""];K.forEach((v,y)=>{y<5&&(E[y]=v)}),h.value=E}});const D=async()=>{if(!c.value){r.value="";return}const K=h.value.filter(v=>v.trim()!=="");if(K.length<3){r.value=" 3 ";return}await t(K,c.value.id,c.value.nickname)&&(d.value=!0,m.value=null,setTimeout(()=>{d.value=!1},5e3))},F=K=>{m.value=K},$=K=>{if(n.value||o.value)return!0;if(!s.value)return!1;const E=h.value[K];return(E?E.trim()!=="":!1)?m.value!==K:!1},z=K=>{if(!s.value||m.value===K)return!1;const E=h.value[K];return E?E.trim()!=="":!1},q=K=>s.value?m.value===K:!1,rt=()=>{if(i.value.length>0){const K=["","","","",""];i.value.forEach((E,v)=>{v<5&&(K[v]=E)}),h.value=K}m.value=null};return(K,E)=>(J(),nt("div",RA,[b("div",SA,[b("div",CA,[b("div",xA,[b("div",PA,[b("div",VA,[ht(c)?.avatarUrl?(J(),nt("img",{key:0,src:ht(c).avatarUrl,alt:ht(c).nickname,class:"object-cover w-full h-full"},null,8,DA)):(J(),nt("svg",kA,[...E[2]||(E[2]=[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1)])]))]),b("div",null,[E[3]||(E[3]=b("p",{class:"text-sm text-gray-400"},"",-1)),b("p",NA,Ft(ht(c)?.nickname),1)])]),b("button",{onClick:E[0]||(E[0]=(...v)=>ht(u)&&ht(u)(...v)),class:"px-4 py-2 text-sm text-gray-300 transition-colors rounded-lg hover:text-[#f2d0a4] hover:bg-gray-700"},"  ")]),E[10]||(E[10]=b("h1",{class:"text-3xl font-bold text-[#f2d0a4] mb-2 text-center"},"  ",-1)),E[11]||(E[11]=b("p",{class:"mb-6 text-center text-gray-400"},"  ",-1)),ht(o)?(J(),nt("div",OA,[...E[4]||(E[4]=[b("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-[#f2d0a4]"},null,-1),b("p",{class:"mt-4 text-gray-400"},"...",-1)])])):(J(),nt("div",MA,[ht(s)&&d.value?(J(),nt("div",LA,[...E[5]||(E[5]=[b("svg",{class:"flex-shrink-0 w-5 h-5 text-[#f2d0a4]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),b("span",{class:"font-medium text-gray-400"},"/",-1)])])):ht(s)&&!d.value?(J(),nt("div",FA,[...E[6]||(E[6]=[b("svg",{class:"flex-shrink-0 w-5 h-5 text-[#f2d0a4]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),b("span",{class:"font-medium text-gray-400"},"/",-1)])])):Me("",!0),b("div",UA,[E[9]||(E[9]=Vc('<ul class="mb-4 space-y-2 text-sm text-gray-300"><li class="flex items-start gap-2"><span class="text-[#f2d0a4]"></span>  3-5  </li><li class="flex items-start gap-2"><span class="text-[#f2d0a4]"></span>  </li></ul>',1)),b("div",BA,[(J(!0),nt(ne,null,bi(h.value,(v,y)=>(J(),nt("div",{key:y,class:"flex items-center gap-2"},[b("span",$A,Ft(y+1)+".",1),xl(b("input",{"onUpdate:modelValue":I=>h.value[y]=I,type:"text",maxlength:"8",placeholder:y<3?" ()":" ()",class:"flex-1 px-4 py-2 bg-gray-700 border border-gray-600 text-gray-100 placeholder-gray-400 rounded-lg focus:ring-2 focus:ring-[#f2d0a4] focus:border-transparent outline-none transition-all disabled:bg-gray-900 disabled:text-gray-500 disabled:border-gray-700 disabled:cursor-not-allowed disabled:opacity-60",disabled:$(y),onFocus:I=>F(y)},null,40,jA),[[Fl,h.value[y]]]),z(y)?(J(),nt("button",{key:0,onClick:I=>F(y),type:"button",class:"px-3 py-2 text-[#f2d0a4] hover:bg-gray-700 rounded-lg transition-colors",title:""},[...E[7]||(E[7]=[b("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,zA)):Me("",!0),q(y)?(J(),nt("button",{key:1,onClick:E[1]||(E[1]=I=>rt()),type:"button",class:"px-3 py-2 text-gray-400 hover:text-[#f2d0a4] hover:bg-gray-700 rounded-lg transition-colors",title:""},[...E[8]||(E[8]=[b("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])):Me("",!0)]))),128))]),b("div",qA,[at("  "+Ft(_.value)+" / 5  ",1),_.value<3?(J(),nt("span",HA,"  3  ")):Me("",!0)])]),ht(r)?(J(),nt("div",GA,Ft(ht(r)),1)):Me("",!0),b("button",{onClick:D,type:"button",class:"w-full px-6 py-3 bg-[#f2d0a4] text-gray-900 rounded-lg hover:bg-[#e5c394] transition-colors duration-200 disabled:bg-gray-600 disabled:text-gray-400 disabled:cursor-not-allowed font-medium",disabled:ht(n)||_.value<3},[b("span",WA,Ft(x.value),1)],8,KA)]))])])]))}});function m_(){const e=xt(!1),t=xt(null),n=xt(!1),r=xt([]),s=xt([]),i=xt(!1),o=xt(!1);let l=null;const c=async m=>{if(localStorage.getItem("hasDrawn")==="true"){n.value=!0;const C=localStorage.getItem("drawnKeywords");C&&(r.value=JSON.parse(C))}if(m){o.value=!0;try{const C=gn(pe,"draws"),x=kr(C,hs("userId","==",m)),D=await fs(x);if(D.empty)n.value=!1,r.value=[],localStorage.removeItem("hasDrawn"),localStorage.removeItem("drawnKeywords");else{n.value=!0;const F=D.docs[0],$=F?F.data():null;r.value=$?.drawnKeywords||[],localStorage.setItem("hasDrawn","true"),localStorage.setItem("drawnKeywords",JSON.stringify(r.value))}}catch(C){console.error("Error checking draw status from Firebase:",C)}finally{o.value=!1}}return n.value};return{drawKeywords:async(m,_,C)=>{if(await c(m),n.value)return t.value="",!1;try{e.value=!0,t.value=null;const x=await mb(pe,async D=>{const F=gn(pe,"draws"),$=kr(F,hs("userId","==",m));if(!(await fs($)).empty)throw new Error("");const q=gn(pe,"keywords"),rt=kr(q,hs("isDrawn","==",!1)),K=await fs(rt);if(K.empty||K.size<3)throw new Error("");const E=K.docs,v=new Set;for(;v.size<3;){const A=Math.floor(Math.random()*E.length);v.add(A)}const y=Array.from(v).map(A=>E[A]).filter(A=>A!==void 0),I=Dr(gn(pe,"draws")),R=y.map(A=>{const w=A.data();return{word:w.word,keywordId:A.id,submittedByUserNickname:w.submittedByUserNickname}});D.set(I,{userId:m,userName:_,userAvatarUrl:C||null,drawnKeywords:R,drawTime:gi()});for(const A of y)D.update(A.ref,{isDrawn:!0,drawnBy:I.id,drawnByUserId:m,drawnByUserNickname:_});return R});return localStorage.setItem("hasDrawn","true"),localStorage.setItem("drawnKeywords",JSON.stringify(x)),n.value=!0,r.value=x,!0}catch(x){return console.error("Error drawing keywords:",x),t.value=x.message||"",!1}finally{e.value=!1}},drawing:e,error:t,hasDrawn:n,drawnKeywords:r,checkDrawStatus:c,allResults:s,loadingResults:i,isCheckingStatus:o,subscribeToResults:()=>{i.value=!0;const m=gn(pe,"draws"),_=kr(m,ob("drawTime","desc"));l=ub(_,C=>{s.value=C.docs.map(x=>({id:x.id,...x.data()})),i.value=!1},C=>{console.error("Error loading results:",C),t.value="",i.value=!1})},unsubscribeFromResults:()=>{l&&(l(),l=null)}}}const XA={key:0,class:"bg-[#28464b]/30 border border-[#28464b] rounded-lg p-6"},YA={class:"mb-6 text-center"},JA={class:"mb-1 text-gray-300"},ZA={class:"grid grid-cols-1 gap-4 md:grid-cols-3"},tI={class:"text-sm text-[#f2d0a4]/70 mb-2"},eI={class:"text-2xl font-bold text-[#f2d0a4] mb-3"},nI={class:"text-xs text-gray-300/80 pt-2 border-t border-[#f2d0a4]/20"},rI={class:"font-medium text-white/90"},sI={key:1},iI={class:"p-6 mb-6 bg-gray-900 border border-gray-700 rounded-lg"},oI={class:"p-4 mb-6 border rounded-lg bg-gradient-to-br from-gray-500/50 to-gray-500/10 border-gray-500/50"},aI={class:"flex items-center gap-3"},lI={class:"w-10 h-10 bg-[#c03221] rounded-full flex items-center justify-center flex-shrink-0 overflow-hidden"},cI=["src","alt"],uI={key:1,class:"w-6 h-6 text-[#f2d0a4]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},hI={class:"font-semibold text-[#f2d0a4] text-lg"},fI={key:0,class:"mb-4 p-4 bg-[#c03221]/20 border border-[#c03221]/50 rounded-lg text-[#ff6b5a]"},dI=["disabled"],pI={key:0},mI={key:1,class:"font-black text-gray-900"},gI=ln({__name:"DrawTab",setup(e){const{drawKeywords:t,drawing:n,error:r,hasDrawn:s,drawnKeywords:i,checkDrawStatus:o}=m_(),{currentUser:l}=Xi();Ts(async()=>{l.value&&await o(l.value.id)});const c=async()=>{if(!l.value){r.value="";return}await t(l.value.id,l.value.nickname,l.value.avatarUrl)};return(u,h)=>(J(),nt("div",null,[ht(s)?(J(),nt("div",XA,[b("div",YA,[h[0]||(h[0]=b("svg",{class:"w-16 h-16 text-[#f2d0a4] mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),h[1]||(h[1]=b("h2",{class:"text-2xl font-semibold text-[#f2d0a4] mb-2"},"  ",-1)),b("p",JA,Ft(ht(l)?.nickname)+" ",1)]),b("div",ZA,[(J(!0),nt(ne,null,bi(ht(i),(d,m)=>(J(),nt("div",{key:d.keywordId,class:"p-6 text-center transition-transform transform border rounded-lg shadow-md bg-gradient-to-br from-[#28464b]/50 to-[#28464b]/10 border-[#28464b]/50 hover:scale-105"},[b("div",tI," "+Ft(m+1),1),b("div",eI,Ft(d.word),1),b("div",nI,[h[2]||(h[2]=at("  ",-1)),b("span",rI,Ft(d.submittedByUserNickname),1),h[3]||(h[3]=at("  ",-1))])]))),128))]),h[4]||(h[4]=b("div",{class:"mt-6 text-center text-gray-300"},[b("p",null," 2 ")],-1))])):(J(),nt("div",sI,[b("div",iI,[h[7]||(h[7]=b("h2",{class:"text-xl font-semibold text-[#f2d0a4] mb-4"},"  ",-1)),h[8]||(h[8]=b("p",{class:"mb-6 text-gray-300"},"  3  2  ",-1)),b("div",oI,[b("div",aI,[b("div",lI,[ht(l)?.avatarUrl?(J(),nt("img",{key:0,src:ht(l).avatarUrl,alt:ht(l).nickname,class:"object-cover w-full h-full"},null,8,cI)):(J(),nt("svg",uI,[...h[5]||(h[5]=[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1)])]))]),b("div",null,[h[6]||(h[6]=b("p",{class:"text-sm text-gray-300"},"",-1)),b("p",hI,Ft(ht(l)?.nickname),1)])])]),ht(r)?(J(),nt("div",fI,Ft(ht(r)),1)):Me("",!0),b("button",{onClick:c,type:"button",class:"w-full px-6 py-3 bg-[#f2d0a4] text-gray-900 rounded-lg hover:bg-[#e5c394] transition-colors duration-200 disabled:bg-gray-600 disabled:text-gray-400 disabled:cursor-not-allowed font-medium text-lg",disabled:ht(n)},[ht(n)?(J(),nt("span",pI,"...")):(J(),nt("span",mI," "))],8,dI)]),h[9]||(h[9]=Vc('<div class="bg-[#28464b]/30 border border-[#28464b] rounded-lg p-4"><div class="flex items-start gap-3"><svg class="w-6 h-6 text-[#f2d0a4] flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><div class="text-gray-300"><p class="mb-1 font-medium"></p><ul class="space-y-1 text-sm text-gray-400 list-disc list-inside"><li></li><li></li><li> </li></ul></div></div></div>',1))]))]))}}),_I={key:0,class:"relative w-full max-w-4xl overflow-hidden bg-gray-800 border border-gray-700 shadow-2xl sm:max-h-[90vh] max-h-screen sm:rounded-2xl rounded-none"},yI={class:"p-6 overflow-y-auto sm:p-8 max-h-[calc(90vh-80px)]"},vI={class:"flex items-center gap-4 p-6 mb-6 border border-gray-600 rounded-lg bg-gradient-to-br from-gray-700/50 to-gray-700/10"},EI={class:"flex-shrink-0 w-20 h-20 overflow-hidden rounded-full bg-[#c03221] flex items-center justify-center"},wI=["src","alt"],TI={key:1,class:"w-10 h-10 text-[#f2d0a4]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},bI={class:"flex-1"},AI={class:"text-2xl font-bold text-[#f2d0a4] mb-1"},II={class:"flex items-center gap-2 text-sm text-gray-400"},RI={class:"mb-4"},SI={class:"grid grid-cols-1 gap-4 md:grid-cols-3"},CI={class:"text-xs text-[#f2d0a4]/70 mb-2"},xI={class:"mb-3 text-3xl font-bold text-[#f2d0a4]"},PI={class:"pt-3 text-xs border-t text-gray-300/80 border-[#f2d0a4]/20"},VI={class:"font-medium text-white/90"},DI=ln({__name:"UserDrawDetailModal",props:{result:{},isOpen:{type:Boolean}},emits:["close"],setup(e,{emit:t}){const n=t,r=o=>o?(o.toDate?o.toDate():new Date(o)).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"",s=()=>{n("close")},i=o=>{o.target===o.currentTarget&&s()};return(o,l)=>(J(),Fr(Ap,{to:"body"},[At($o,{"enter-active-class":"transition-opacity duration-200","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-opacity duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:Yt(()=>[e.isOpen&&e.result?(J(),nt("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",onClick:i},[At($o,{"enter-active-class":"transition-all duration-200","enter-from-class":"scale-95 opacity-0","enter-to-class":"scale-100 opacity-100","leave-active-class":"transition-all duration-200","leave-from-class":"scale-100 opacity-100","leave-to-class":"scale-95 opacity-0"},{default:Yt(()=>[e.isOpen&&e.result?(J(),nt("div",_I,[b("div",{class:"sticky top-0 z-10 flex items-center justify-between p-6 border-b border-gray-700 bg-gray-800/95 backdrop-blur"},[l[1]||(l[1]=b("h2",{class:"text-2xl font-bold text-[#f2d0a4]"},"",-1)),b("button",{onClick:s,class:"p-2 text-gray-400 transition-colors rounded-lg hover:text-[#f2d0a4] hover:bg-gray-700","aria-label":""},[...l[0]||(l[0]=[b("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),b("div",yI,[b("div",vI,[b("div",EI,[e.result.userAvatarUrl?(J(),nt("img",{key:0,src:e.result.userAvatarUrl,alt:e.result.userName,class:"object-cover w-full h-full"},null,8,wI)):(J(),nt("svg",TI,[...l[2]||(l[2]=[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1)])]))]),b("div",bI,[b("h3",AI,Ft(e.result.userName),1),b("div",II,[l[3]||(l[3]=b("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),b("span",null,Ft(r(e.result.drawTime)),1)])])]),b("div",RI,[l[6]||(l[6]=b("h4",{class:"mb-4 text-lg font-semibold text-gray-300"},"  ",-1)),b("div",SI,[(J(!0),nt(ne,null,bi(e.result.drawnKeywords,(c,u)=>(J(),nt("div",{key:c.keywordId,class:"p-6 text-center transition-all border rounded-lg bg-gradient-to-br from-gray-500/50 to-gray-500/10 border-gray-500/50 hover:scale-105 hover:shadow-xl"},[b("div",CI," "+Ft(u+1),1),b("div",xI,Ft(c.word),1),b("div",PI,[l[4]||(l[4]=at("  ",-1)),b("span",VI,Ft(c.submittedByUserNickname),1),l[5]||(l[5]=at("  ",-1))])]))),128))])]),l[7]||(l[7]=b("div",{class:"p-4 mt-6 border rounded-lg bg-[#28464b]/30 border-[#28464b]"},[b("div",{class:"flex items-start gap-3"},[b("svg",{class:"w-5 h-5 text-[#f2d0a4] flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),b("div",{class:"text-sm text-gray-300"},[b("p",{class:"mb-1 font-medium"},""),b("p",{class:"text-gray-400"},"  2  ")])])],-1))]),b("div",{class:"sticky bottom-0 flex justify-end gap-3 p-6 border-t border-gray-700 bg-gray-800/95 backdrop-blur"},[b("button",{onClick:s,class:"px-6 py-3 font-medium text-gray-900 transition-colors rounded-lg bg-[#f2d0a4] hover:bg-[#e5c394]"},"  ")])])):Me("",!0)]),_:1})])):Me("",!0)]),_:1})]))}}),kI={key:0,class:"py-8 text-center"},NI={key:1,class:"py-8 text-center"},OI={key:2,class:"space-y-4"},MI=["onClick"],LI={class:"flex items-center justify-between mb-4"},FI={class:"flex items-center gap-3"},UI={class:"w-10 h-10 bg-[#c03221] rounded-full flex items-center justify-center overflow-hidden"},BI=["src","alt"],$I={key:1,class:"w-6 h-6 text-[#f2d0a4]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},jI={class:"text-lg font-semibold text-[#f2d0a4]"},zI={class:"text-sm text-gray-400"},qI={class:"grid grid-cols-1 gap-3 sm:grid-cols-3"},HI={class:"text-xs text-[#f2d0a4]/70 mb-1"},GI={class:"text-lg font-bold text-[#f2d0a4] mb-2"},KI={class:"text-xs text-gray-300/80 pt-2 border-t border-[#f2d0a4]/20"},WI={class:"font-medium text-white/90"},QI={key:3,class:"mt-6"},XI={class:"flex items-center justify-between text-sm text-gray-400"},YI=ln({__name:"ResultsTab",setup(e){const{allResults:t,loadingResults:n,subscribeToResults:r,unsubscribeFromResults:s}=m_(),i=xt(null),o=xt(!1);Ts(()=>{r()}),Sc(()=>{s()});const l=h=>h?(h.toDate?h.toDate():new Date(h)).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"",c=h=>{i.value=h,o.value=!0},u=()=>{o.value=!1,setTimeout(()=>{i.value=null},200)};return(h,d)=>(J(),nt("div",null,[d[6]||(d[6]=b("h2",{class:"text-xl font-semibold text-[#f2d0a4] mb-4"},"  ",-1)),d[7]||(d[7]=b("p",{class:"mb-6 text-gray-400"},"  ",-1)),ht(n)?(J(),nt("div",kI,[...d[0]||(d[0]=[b("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-[#f2d0a4]"},null,-1),b("p",{class:"mt-4 text-gray-400"},"...",-1)])])):ht(t).length===0?(J(),nt("div",NI,[...d[1]||(d[1]=[b("svg",{class:"w-16 h-16 mx-auto mb-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1),b("p",{class:"text-gray-400"},"",-1)])])):(J(),nt("div",OI,[(J(!0),nt(ne,null,bi(ht(t),m=>(J(),nt("div",{key:m.id,class:"p-5 transition-all bg-gray-800 border border-gray-700 rounded-lg cursor-pointer hover:shadow-xl hover:border-gray-600",onClick:_=>c(m)},[b("div",LI,[b("div",FI,[b("div",UI,[m.userAvatarUrl?(J(),nt("img",{key:0,src:m.userAvatarUrl,alt:m.userName,class:"object-cover w-full h-full"},null,8,BI)):(J(),nt("svg",$I,[...d[2]||(d[2]=[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1)])]))]),b("div",null,[b("h3",jI,Ft(m.userName),1),b("p",zI,Ft(l(m.drawTime)),1)])])]),b("div",qI,[(J(!0),nt(ne,null,bi(m.drawnKeywords,(_,C)=>(J(),nt("div",{key:_.keywordId,class:"p-4 text-center transition-all border rounded-lg bg-gradient-to-br from-gray-500/50 to-gray-500/10 border-gray-500/50 hover:from-gray-500/60 hover:to-gray-500/20"},[b("div",HI," "+Ft(C+1),1),b("div",GI,Ft(_.word),1),b("div",KI,[d[3]||(d[3]=at("  ",-1)),b("span",WI,Ft(_.submittedByUserNickname),1),d[4]||(d[4]=at("  ",-1))])]))),128))])],8,MI))),128))])),ht(t).length>0?(J(),nt("div",QI,[b("div",XI,[b("span",null," "+Ft(ht(t).length)+" ",1),d[5]||(d[5]=b("span",null,"",-1))])])):Me("",!0),At(DI,{result:i.value,"is-open":o.value,onClose:u},null,8,["result","is-open"])]))}}),JI={class:"min-h-screen px-4 py-8"},ZI={class:"max-w-4xl mx-auto"},tR={class:"overflow-hidden bg-gray-800 border border-gray-700 shadow-2xl rounded-xl"},eR={class:"p-8 pb-0"},nR={class:"flex items-center justify-between pb-4 mb-6 border-b border-gray-700"},rR={class:"flex items-center gap-3"},sR={class:"w-10 h-10 bg-[#c03221] rounded-full flex items-center justify-center overflow-hidden"},iR=["src","alt"],oR={key:1,class:"w-6 h-6 text-[#f2d0a4]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},aR={class:"font-semibold text-[#f2d0a4]"},lR={class:"border-b border-gray-700"},cR={class:"flex -mb-px"},uR={class:"p-8 bg-gray-800"},hR=ln({__name:"PhaseTwo",setup(e){const{currentUser:t,logout:n}=Xi(),r=xt("draw"),s=i=>{r.value=i};return(i,o)=>(J(),nt("div",JI,[b("div",ZI,[b("div",tR,[b("div",eR,[b("div",nR,[b("div",rR,[b("div",sR,[ht(t)?.avatarUrl?(J(),nt("img",{key:0,src:ht(t).avatarUrl,alt:ht(t).nickname,class:"object-cover w-full h-full"},null,8,iR)):(J(),nt("svg",oR,[...o[3]||(o[3]=[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1)])]))]),b("div",null,[o[4]||(o[4]=b("p",{class:"text-sm text-gray-400"},"",-1)),b("p",aR,Ft(ht(t)?.nickname),1)])]),b("button",{onClick:o[0]||(o[0]=(...l)=>ht(n)&&ht(n)(...l)),class:"px-4 py-2 text-gray-300 hover:text-[#f2d0a4] hover:bg-gray-700 rounded-lg transition-colors text-sm"},"  ")]),o[7]||(o[7]=b("h1",{class:"text-3xl font-bold text-[#f2d0a4] mb-2 text-center"},"  ",-1)),o[8]||(o[8]=b("p",{class:"mb-6 text-center text-gray-400"},"  ",-1)),b("div",lR,[b("nav",cR,[b("button",{onClick:o[1]||(o[1]=l=>s("draw")),class:yi(["flex-1 py-4 px-6 text-center font-medium transition-colors",r.value==="draw"?"border-b-2 border-[#f2d0a4] text-[#f2d0a4]":"text-gray-400 hover:text-gray-300 hover:border-b-2 hover:border-gray-600"])},[...o[5]||(o[5]=[b("svg",{class:"inline-block w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})],-1),at("  ",-1)])],2),b("button",{onClick:o[2]||(o[2]=l=>s("results")),class:yi(["flex-1 py-4 px-6 text-center font-medium transition-colors",r.value==="results"?"border-b-2 border-[#f2d0a4] text-[#f2d0a4]":"text-gray-400 hover:text-gray-300 hover:border-b-2 hover:border-gray-600"])},[...o[6]||(o[6]=[b("svg",{class:"inline-block w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),at("  ",-1)])],2)])])]),b("div",uR,[r.value==="draw"?(J(),Fr(gI,{key:0})):Me("",!0),r.value==="results"?(J(),Fr(YI,{key:1})):Me("",!0)])])])]))}}),fR="/boxbash-ac/assets/boxbash-title-DOnIQGYm.png",dR={class:"flex items-center justify-center min-h-screen px-4 py-8"},pR={class:"w-full max-w-md"},mR={class:"p-8 bg-gray-800 border border-gray-700 shadow-2xl rounded-2xl"},gR={class:"mb-3 text-center"},_R={class:"space-y-5"},yR=["disabled"],vR=["disabled"],ER={key:0,class:"mt-3 p-3 bg-[#28464b] border border-[#28464b]/50 rounded-lg text-sm text-[#f2d0a4]"},wR={key:1,class:"mt-1 text-sm text-gray-400"},TR={key:0,class:"p-4 bg-[#c03221]/20 border border-[#c03221]/50 rounded-lg text-[#ff6b5a] text-sm"},bR={class:"flex items-start gap-2"},AR=["disabled"],IR={key:0,class:"flex items-center justify-center gap-2"},RR={key:1,class:"font-black text-gray-900"},SR={key:0,class:"relative w-full max-w-lg mx-4 overflow-hidden bg-gray-800 border border-gray-700 shadow-2xl rounded-2xl"},CR={class:"flex items-center justify-between p-6 border-b border-gray-700"},xR={class:"p-6 border-t border-gray-700"},PR=ln({__name:"Login",setup(e){const{login:t,loading:n,error:r}=Xi(),s=xt(""),i=xt(""),o=xt(!1),l=xt(!1),c=async()=>{await t(s.value,i.value)},u=h=>{const d=h.target;d.value=d.value.replace(/\D/g,"").slice(0,4),i.value=d.value};return(h,d)=>(J(),nt("div",dR,[b("div",pR,[b("div",mR,[b("div",gR,[d[7]||(d[7]=b("div",{class:"flex items-center justify-center mb-3"},[b("img",{src:fR,alt:"",class:"object-contain h-60"})],-1)),d[8]||(d[8]=b("p",{class:"inline-flex mr-2 text-gray-400"},"  ",-1)),b("button",{onClick:d[0]||(d[0]=m=>l.value=!0),type:"button",class:"inline-flex items-center gap-1 text-md text-[#f2d0a4] hover:text-[#e5c394] underline underline-offset-2"},[...d[6]||(d[6]=[b("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),at("  ",-1)])])]),b("div",_R,[b("div",null,[d[9]||(d[9]=b("label",{class:"block mb-2 font-medium text-gray-300"},[at("  "),b("span",{class:"text-[#c03221]"},"*")],-1)),xl(b("input",{"onUpdate:modelValue":d[1]||(d[1]=m=>s.value=m),type:"text",maxlength:"20",placeholder:"",class:"w-full px-4 py-3 bg-gray-700 border border-gray-600 text-gray-100 placeholder-gray-400 rounded-lg focus:ring-2 focus:ring-[#f2d0a4] focus:border-transparent outline-none transition-all",disabled:ht(n),onKeyup:ef(c,["enter"])},null,40,yR),[[Fl,s.value]]),d[10]||(d[10]=b("p",{class:"mt-1 text-sm text-gray-400"}," 1-20  ",-1))]),b("div",null,[d[12]||(d[12]=b("label",{class:"flex items-center justify-between block mb-2 font-medium text-gray-300"},[b("span",null,[at("4 "),b("span",{class:"text-[#c03221]"},"*")])],-1)),xl(b("input",{"onUpdate:modelValue":d[2]||(d[2]=m=>i.value=m),type:"text",inputmode:"numeric",pattern:"\\d{4}",maxlength:"4",placeholder:"0101 (11)",class:"w-full px-4 py-3 bg-gray-700 border border-gray-600 text-gray-100 placeholder-gray-400 rounded-lg focus:ring-2 focus:ring-[#f2d0a4] focus:border-transparent outline-none transition-all",disabled:ht(n),onInput:u,onKeyup:ef(c,["enter"])},null,40,vR),[[Fl,i.value]]),o.value?(J(),nt("div",ER,[...d[11]||(d[11]=[b("p",{class:"mb-1 font-medium"},"4",-1),b("ul",{class:"space-y-1 list-disc list-inside"},[b("li",null,"4"),b("li",null,"11  0101"),b("li",null,"1225  1225"),b("li",null,"4")],-1)])])):(J(),nt("p",wR," 4 "))]),ht(r)?(J(),nt("div",TR,[b("div",bR,[d[13]||(d[13]=b("svg",{class:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),b("span",null,Ft(ht(r)),1)])])):Me("",!0),b("button",{onClick:c,type:"button",class:"w-full px-6 py-3 bg-[#f2d0a4] text-gray-900 rounded-lg hover:bg-[#e5c394] transition-colors duration-200 disabled:bg-gray-600 disabled:text-gray-400 disabled:cursor-not-allowed font-medium text-lg shadow-md hover:shadow-lg",disabled:ht(n)||!s.value.trim()||i.value.length!==4},[ht(n)?(J(),nt("span",IR,[...d[14]||(d[14]=[b("svg",{class:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24"},[b("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),b("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),at(" ... ",-1)])])):(J(),nt("span",RR," / "))],8,AR),d[15]||(d[15]=Vc('<div class="pt-4 border-t border-gray-700"><div class="flex items-start gap-2 text-sm text-gray-300"><svg class="w-5 h-5 text-[#f2d0a4] flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><div><p class="mb-1 font-medium"></p><ul class="space-y-1 text-gray-400"><li> </li><li> 4</li><li> 4</li></ul></div></div></div>',1))])])]),(J(),Fr(Ap,{to:"body"},[At($o,{"enter-active-class":"transition-opacity duration-200","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-opacity duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:Yt(()=>[l.value?(J(),nt("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",onClick:d[5]||(d[5]=pv(m=>l.value=!1,["self"]))},[At($o,{"enter-active-class":"transition-all duration-200","enter-from-class":"scale-95 opacity-0","enter-to-class":"scale-100 opacity-100","leave-active-class":"transition-all duration-200","leave-from-class":"scale-100 opacity-100","leave-to-class":"scale-95 opacity-0"},{default:Yt(()=>[l.value?(J(),nt("div",SR,[b("div",CR,[d[17]||(d[17]=b("h2",{class:"text-xl font-bold text-[#f2d0a4]"},"",-1)),b("button",{onClick:d[3]||(d[3]=m=>l.value=!1),class:"p-2 text-gray-400 transition-colors rounded-lg hover:text-[#f2d0a4] hover:bg-gray-700"},[...d[16]||(d[16]=[b("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),d[18]||(d[18]=b("div",{class:"p-6 space-y-6 overflow-y-auto max-h-[60vh]"},[b("div",null,[b("h3",{class:"flex items-center gap-2 mb-3 text-lg font-semibold text-[#f2d0a4]"},[b("span",{class:"flex items-center justify-center w-6 h-6 text-sm bg-[#f2d0a4] text-gray-900 rounded-full"},"1"),at("  ")]),b("div",{class:"mb-3 w-fit py-1 px-2 rounded-sm text-sm border bg-[#28464b]/30 border-[#28464b] text-gray-400"},[b("p",null,"2025/12/1 ")]),b("ul",{class:"space-y-2 text-sm text-gray-300"},[b("li",{class:"flex items-start gap-2"},[b("span",{class:"text-[#f2d0a4]"},""),at("  3-5  ")]),b("li",{class:"flex items-start gap-2"},[b("span",{class:"text-[#f2d0a4]"},""),at("  ")]),b("li",{class:"flex items-start gap-2"},[b("span",{class:"text-[#f2d0a4]"},""),at("  ")]),b("li",{class:"flex items-start gap-2"},[b("span",{class:"text-[#f2d0a4]"},""),at("  ")])])]),b("div",null,[b("h3",{class:"flex items-center gap-2 mb-3 text-lg font-semibold text-[#f2d0a4]"},[b("span",{class:"flex items-center justify-center w-6 h-6 text-sm bg-[#f2d0a4] text-gray-900 rounded-full"},"2"),at("  ")]),b("div",{class:"mb-3 w-fit py-1 px-2 rounded-sm text-sm border bg-[#28464b]/30 border-[#28464b] text-gray-400"},[b("p",null,"2025/12/1 ")]),b("ul",{class:"space-y-2 text-sm text-gray-300"},[b("li",{class:"flex items-start gap-2"},[b("span",{class:"text-[#f2d0a4]"},""),at("  3  ")]),b("li",{class:"flex items-start gap-2"},[b("span",{class:"text-[#f2d0a4]"},""),at("  ")]),b("li",{class:"flex items-start gap-2"},[b("span",{class:"text-[#f2d0a4]"},""),at("  2  ")]),b("li",{class:"flex items-start gap-2"},[b("span",{class:"text-[#f2d0a4]"},""),at("  ")])])])],-1)),b("div",xR,[b("button",{onClick:d[4]||(d[4]=m=>l.value=!1),class:"w-full px-6 py-3 font-medium text-gray-900 transition-colors rounded-lg bg-[#f2d0a4] hover:bg-[#e5c394]"},"  ")])])):Me("",!0)]),_:1})])):Me("",!0)]),_:1})]))]))}}),VR={class:"min-h-screen"},DR={key:0},kR={key:1},NR={key:0,class:"flex items-center justify-center min-h-screen"},OR={key:1},MR={key:0,class:"fixed p-4 bg-gray-800 border border-gray-700 shadow-2xl rounded-xl bottom-4 left-4"},LR={class:"text-lg font-bold text-[#f2d0a4]"},FR={key:2},UR=ln({__name:"App",setup(e){const{currentPhase:t,timeRemaining:n,loading:r}=bA(),{isLoggedIn:s}=Xi(),i=le(()=>{if(!n.value)return"";const{days:o,hours:l,minutes:c}=n.value;return`${o} ${l} ${c}`});return(o,l)=>(J(),nt("div",VR,[l[2]||(l[2]=b("div",{class:"fixed inset-0 bg-gradient-to-b from-gray-800 to-gray-900 -z-50"},null,-1)),l[3]||(l[3]=b("div",{class:"fixed inset-0 bg-[url('/src/assets/boxbash-bg.png')] -z-10"},null,-1)),ht(s)?(J(),nt("div",kR,[ht(r)?(J(),nt("div",NR,[...l[0]||(l[0]=[b("div",{class:"text-center"},[b("div",{class:"inline-block w-16 h-16 mb-4 border-b-2 border-blue-600 rounded-full animate-spin"}),b("p",{class:"text-gray-600"},"...")],-1)])])):ht(t)===1?(J(),nt("div",OR,[At(QA),ht(n)?(J(),nt("div",MR,[l[1]||(l[1]=b("div",{class:"mb-1 text-sm text-gray-400"},"",-1)),b("div",LR,Ft(i.value),1)])):Me("",!0)])):(J(),nt("div",FR,[At(hR)]))])):(J(),nt("div",DR,[At(PR)]))]))}}),BR="modulepreload",$R=function(e){return"/boxbash-ac/"+e},bd={},jR=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(h=>Promise.resolve(h).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");s=c(n.map(u=>{if(u=$R(u),u in bd)return;bd[u]=!0;const h=u.endsWith(".css"),d=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":BR,h||(m.as="script"),m.crossOrigin="",m.href=u,l&&m.setAttribute("nonce",l),document.head.appendChild(m),h)return new Promise((_,C)=>{m.addEventListener("load",_),m.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};const ns=typeof document<"u";function g_(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function zR(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&g_(e.default)}const Vt=Object.assign;function El(e,t){const n={};for(const r in t){const s=t[r];n[r]=an(s)?s.map(e):e(s)}return n}const _i=()=>{},an=Array.isArray;function Ad(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}const __=/#/g,qR=/&/g,HR=/\//g,GR=/=/g,KR=/\?/g,y_=/\+/g,WR=/%5B/g,QR=/%5D/g,v_=/%5E/g,XR=/%60/g,E_=/%7B/g,YR=/%7C/g,w_=/%7D/g,JR=/%20/g;function Iu(e){return e==null?"":encodeURI(""+e).replace(YR,"|").replace(WR,"[").replace(QR,"]")}function ZR(e){return Iu(e).replace(E_,"{").replace(w_,"}").replace(v_,"^")}function cc(e){return Iu(e).replace(y_,"%2B").replace(JR,"+").replace(__,"%23").replace(qR,"%26").replace(XR,"`").replace(E_,"{").replace(w_,"}").replace(v_,"^")}function t2(e){return cc(e).replace(GR,"%3D")}function e2(e){return Iu(e).replace(__,"%23").replace(KR,"%3F")}function n2(e){return e2(e).replace(HR,"%2F")}function Fi(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const r2=/\/$/,s2=e=>e.replace(r2,"");function wl(e,t,n="/"){let r,s={},i="",o="";const l=t.indexOf("#");let c=t.indexOf("?");return c=l>=0&&c>l?-1:c,c>=0&&(r=t.slice(0,c),i=t.slice(c,l>0?l:t.length),s=e(i.slice(1))),l>=0&&(r=r||t.slice(0,l),o=t.slice(l,t.length)),r=l2(r??t,n),{fullPath:r+i+o,path:r,query:s,hash:Fi(o)}}function i2(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Id(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function o2(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Es(t.matched[r],n.matched[s])&&T_(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Es(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function T_(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!a2(e[n],t[n]))return!1;return!0}function a2(e,t){return an(e)?Rd(e,t):an(t)?Rd(t,e):e===t}function Rd(e,t){return an(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function l2(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,l;for(o=0;o<r.length;o++)if(l=r[o],l!==".")if(l==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const Gn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let uc=(function(e){return e.pop="pop",e.push="push",e})({}),Tl=(function(e){return e.back="back",e.forward="forward",e.unknown="",e})({});function c2(e){if(!e)if(ns){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),s2(e)}const u2=/^[^#]+#/;function h2(e,t){return e.replace(u2,"#")+t}function f2(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Ma=()=>({left:window.scrollX,top:window.scrollY});function d2(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=f2(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Sd(e,t){return(history.state?history.state.position-t:-1)+e}const hc=new Map;function p2(e,t){hc.set(e,t)}function m2(e){const t=hc.get(e);return hc.delete(e),t}function g2(e){return typeof e=="string"||e&&typeof e=="object"}function b_(e){return typeof e=="string"||typeof e=="symbol"}let Ht=(function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e})({});const A_=Symbol("");Ht.MATCHER_NOT_FOUND+"",Ht.NAVIGATION_GUARD_REDIRECT+"",Ht.NAVIGATION_ABORTED+"",Ht.NAVIGATION_CANCELLED+"",Ht.NAVIGATION_DUPLICATED+"";function ws(e,t){return Vt(new Error,{type:e,[A_]:!0},t)}function Rn(e,t){return e instanceof Error&&A_ in e&&(t==null||!!(e.type&t))}const _2=["params","query","hash"];function y2(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const n of _2)n in e&&(t[n]=e[n]);return JSON.stringify(t,null,2)}function v2(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<n.length;++r){const s=n[r].replace(y_," "),i=s.indexOf("="),o=Fi(i<0?s:s.slice(0,i)),l=i<0?null:Fi(s.slice(i+1));if(o in t){let c=t[o];an(c)||(c=t[o]=[c]),c.push(l)}else t[o]=l}return t}function Cd(e){let t="";for(let n in e){const r=e[n];if(n=t2(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(an(r)?r.map(s=>s&&cc(s)):[r&&cc(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function E2(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=an(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const w2=Symbol(""),xd=Symbol(""),Ru=Symbol(""),I_=Symbol(""),fc=Symbol("");function Qs(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Qn(e,t,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((l,c)=>{const u=m=>{m===!1?c(ws(Ht.NAVIGATION_ABORTED,{from:n,to:t})):m instanceof Error?c(m):g2(m)?c(ws(Ht.NAVIGATION_GUARD_REDIRECT,{from:t,to:m})):(o&&r.enterCallbacks[s]===o&&typeof m=="function"&&o.push(m),l())},h=i(()=>e.call(r&&r.instances[s],t,n,u));let d=Promise.resolve(h);e.length<3&&(d=d.then(u)),d.catch(m=>c(m))})}function bl(e,t,n,r,s=i=>i()){const i=[];for(const o of e)for(const l in o.components){let c=o.components[l];if(!(t!=="beforeRouteEnter"&&!o.instances[l]))if(g_(c)){const u=(c.__vccOpts||c)[t];u&&i.push(Qn(u,n,r,o,l,s))}else{let u=c();i.push(()=>u.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${l}" at "${o.path}"`);const d=zR(h)?h.default:h;o.mods[l]=h,o.components[l]=d;const m=(d.__vccOpts||d)[t];return m&&Qn(m,n,r,o,l,s)()}))}}return i}function T2(e,t){const n=[],r=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const l=t.matched[o];l&&(e.matched.find(u=>Es(u,l))?r.push(l):n.push(l));const c=e.matched[o];c&&(t.matched.find(u=>Es(u,c))||s.push(c))}return[n,r,s]}let b2=()=>location.protocol+"//"+location.host;function R_(e,t){const{pathname:n,search:r,hash:s}=t,i=e.indexOf("#");if(i>-1){let o=s.includes(e.slice(i))?e.slice(i).length:1,l=s.slice(o);return l[0]!=="/"&&(l="/"+l),Id(l,"")}return Id(n,e)+r+s}function A2(e,t,n,r){let s=[],i=[],o=null;const l=({state:m})=>{const _=R_(e,location),C=n.value,x=t.value;let D=0;if(m){if(n.value=_,t.value=m,o&&o===C){o=null;return}D=x?m.position-x.position:0}else r(_);s.forEach(F=>{F(n.value,C,{delta:D,type:uc.pop,direction:D?D>0?Tl.forward:Tl.back:Tl.unknown})})};function c(){o=n.value}function u(m){s.push(m);const _=()=>{const C=s.indexOf(m);C>-1&&s.splice(C,1)};return i.push(_),_}function h(){if(document.visibilityState==="hidden"){const{history:m}=window;if(!m.state)return;m.replaceState(Vt({},m.state,{scroll:Ma()}),"")}}function d(){for(const m of i)m();i=[],window.removeEventListener("popstate",l),window.removeEventListener("pagehide",h),document.removeEventListener("visibilitychange",h)}return window.addEventListener("popstate",l),window.addEventListener("pagehide",h),document.addEventListener("visibilitychange",h),{pauseListeners:c,listen:u,destroy:d}}function Pd(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?Ma():null}}function I2(e){const{history:t,location:n}=window,r={value:R_(e,n)},s={value:t.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(c,u,h){const d=e.indexOf("#"),m=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+c:b2()+e+c;try{t[h?"replaceState":"pushState"](u,"",m),s.value=u}catch(_){console.error(_),n[h?"replace":"assign"](m)}}function o(c,u){i(c,Vt({},t.state,Pd(s.value.back,c,s.value.forward,!0),u,{position:s.value.position}),!0),r.value=c}function l(c,u){const h=Vt({},s.value,t.state,{forward:c,scroll:Ma()});i(h.current,h,!0),i(c,Vt({},Pd(r.value,c,null),{position:h.position+1},u),!1),r.value=c}return{location:r,state:s,push:l,replace:o}}function R2(e){e=c2(e);const t=I2(e),n=A2(e,t.state,t.location,t.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=Vt({location:"",base:e,go:r,createHref:h2.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}let Nr=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e})({});var ee=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e})(ee||{});const S2={type:Nr.Static,value:""},C2=/[a-zA-Z0-9_]/;function x2(e){if(!e)return[[]];if(e==="/")return[[S2]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(_){throw new Error(`ERR (${n})/"${u}": ${_}`)}let n=ee.Static,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let l=0,c,u="",h="";function d(){u&&(n===ee.Static?i.push({type:Nr.Static,value:u}):n===ee.Param||n===ee.ParamRegExp||n===ee.ParamRegExpEnd?(i.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:Nr.Param,value:u,regexp:h,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),u="")}function m(){u+=c}for(;l<e.length;){if(c=e[l++],c==="\\"&&n!==ee.ParamRegExp){r=n,n=ee.EscapeNext;continue}switch(n){case ee.Static:c==="/"?(u&&d(),o()):c===":"?(d(),n=ee.Param):m();break;case ee.EscapeNext:m(),n=r;break;case ee.Param:c==="("?n=ee.ParamRegExp:C2.test(c)?m():(d(),n=ee.Static,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case ee.ParamRegExp:c===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+c:n=ee.ParamRegExpEnd:h+=c;break;case ee.ParamRegExpEnd:d(),n=ee.Static,c!=="*"&&c!=="?"&&c!=="+"&&l--,h="";break;default:t("Unknown state");break}}return n===ee.ParamRegExp&&t(`Unfinished custom RegExp for param "${u}"`),d(),o(),s}const Vd="[^/]+?",P2={sensitive:!1,strict:!1,start:!0,end:!0};var Ne=(function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e})(Ne||{});const V2=/[.+*?^${}()[\]/\\]/g;function D2(e,t){const n=Vt({},P2,t),r=[];let s=n.start?"^":"";const i=[];for(const u of e){const h=u.length?[]:[Ne.Root];n.strict&&!u.length&&(s+="/");for(let d=0;d<u.length;d++){const m=u[d];let _=Ne.Segment+(n.sensitive?Ne.BonusCaseSensitive:0);if(m.type===Nr.Static)d||(s+="/"),s+=m.value.replace(V2,"\\$&"),_+=Ne.Static;else if(m.type===Nr.Param){const{value:C,repeatable:x,optional:D,regexp:F}=m;i.push({name:C,repeatable:x,optional:D});const $=F||Vd;if($!==Vd){_+=Ne.BonusCustomRegExp;try{`${$}`}catch(q){throw new Error(`Invalid custom RegExp for param "${C}" (${$}): `+q.message)}}let z=x?`((?:${$})(?:/(?:${$}))*)`:`(${$})`;d||(z=D&&u.length<2?`(?:/${z})`:"/"+z),D&&(z+="?"),s+=z,_+=Ne.Dynamic,D&&(_+=Ne.BonusOptional),x&&(_+=Ne.BonusRepeatable),$===".*"&&(_+=Ne.BonusWildcard)}h.push(_)}r.push(h)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=Ne.BonusStrict}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function l(u){const h=u.match(o),d={};if(!h)return null;for(let m=1;m<h.length;m++){const _=h[m]||"",C=i[m-1];d[C.name]=_&&C.repeatable?_.split("/"):_}return d}function c(u){let h="",d=!1;for(const m of e){(!d||!h.endsWith("/"))&&(h+="/"),d=!1;for(const _ of m)if(_.type===Nr.Static)h+=_.value;else if(_.type===Nr.Param){const{value:C,repeatable:x,optional:D}=_,F=C in u?u[C]:"";if(an(F)&&!x)throw new Error(`Provided param "${C}" is an array but it is not repeatable (* or + modifiers)`);const $=an(F)?F.join("/"):F;if(!$)if(D)m.length<2&&(h.endsWith("/")?h=h.slice(0,-1):d=!0);else throw new Error(`Missing required param "${C}"`);h+=$}}return h||"/"}return{re:o,score:r,keys:i,parse:l,stringify:c}}function k2(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===Ne.Static+Ne.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===Ne.Static+Ne.Segment?1:-1:0}function S_(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const i=k2(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(Dd(r))return 1;if(Dd(s))return-1}return s.length-r.length}function Dd(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const N2={strict:!1,end:!0,sensitive:!1};function O2(e,t,n){const r=D2(x2(e.path),n),s=Vt(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function M2(e,t){const n=[],r=new Map;t=Ad(N2,t);function s(d){return r.get(d)}function i(d,m,_){const C=!_,x=Nd(d);x.aliasOf=_&&_.record;const D=Ad(t,d),F=[x];if("alias"in d){const q=typeof d.alias=="string"?[d.alias]:d.alias;for(const rt of q)F.push(Nd(Vt({},x,{components:_?_.record.components:x.components,path:rt,aliasOf:_?_.record:x})))}let $,z;for(const q of F){const{path:rt}=q;if(m&&rt[0]!=="/"){const K=m.record.path,E=K[K.length-1]==="/"?"":"/";q.path=m.record.path+(rt&&E+rt)}if($=O2(q,m,D),_?_.alias.push($):(z=z||$,z!==$&&z.alias.push($),C&&d.name&&!Od($)&&o(d.name)),C_($)&&c($),x.children){const K=x.children;for(let E=0;E<K.length;E++)i(K[E],$,_&&_.children[E])}_=_||$}return z?()=>{o(z)}:_i}function o(d){if(b_(d)){const m=r.get(d);m&&(r.delete(d),n.splice(n.indexOf(m),1),m.children.forEach(o),m.alias.forEach(o))}else{const m=n.indexOf(d);m>-1&&(n.splice(m,1),d.record.name&&r.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function l(){return n}function c(d){const m=U2(d,n);n.splice(m,0,d),d.record.name&&!Od(d)&&r.set(d.record.name,d)}function u(d,m){let _,C={},x,D;if("name"in d&&d.name){if(_=r.get(d.name),!_)throw ws(Ht.MATCHER_NOT_FOUND,{location:d});D=_.record.name,C=Vt(kd(m.params,_.keys.filter(z=>!z.optional).concat(_.parent?_.parent.keys.filter(z=>z.optional):[]).map(z=>z.name)),d.params&&kd(d.params,_.keys.map(z=>z.name))),x=_.stringify(C)}else if(d.path!=null)x=d.path,_=n.find(z=>z.re.test(x)),_&&(C=_.parse(x),D=_.record.name);else{if(_=m.name?r.get(m.name):n.find(z=>z.re.test(m.path)),!_)throw ws(Ht.MATCHER_NOT_FOUND,{location:d,currentLocation:m});D=_.record.name,C=Vt({},m.params,d.params),x=_.stringify(C)}const F=[];let $=_;for(;$;)F.unshift($.record),$=$.parent;return{name:D,path:x,params:C,matched:F,meta:F2(F)}}e.forEach(d=>i(d));function h(){n.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:h,getRoutes:l,getRecordMatcher:s}}function kd(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Nd(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:L2(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function L2(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function Od(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function F2(e){return e.reduce((t,n)=>Vt(t,n.meta),{})}function U2(e,t){let n=0,r=t.length;for(;n!==r;){const i=n+r>>1;S_(e,t[i])<0?r=i:n=i+1}const s=B2(e);return s&&(r=t.lastIndexOf(s,r-1)),r}function B2(e){let t=e;for(;t=t.parent;)if(C_(t)&&S_(e,t)===0)return t}function C_({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Md(e){const t=Vn(Ru),n=Vn(I_),r=le(()=>{const c=ht(e.to);return t.resolve(c)}),s=le(()=>{const{matched:c}=r.value,{length:u}=c,h=c[u-1],d=n.matched;if(!h||!d.length)return-1;const m=d.findIndex(Es.bind(null,h));if(m>-1)return m;const _=Ld(c[u-2]);return u>1&&Ld(h)===_&&d[d.length-1].path!==_?d.findIndex(Es.bind(null,c[u-2])):m}),i=le(()=>s.value>-1&&H2(n.params,r.value.params)),o=le(()=>s.value>-1&&s.value===n.matched.length-1&&T_(n.params,r.value.params));function l(c={}){if(q2(c)){const u=t[ht(e.replace)?"replace":"push"](ht(e.to)).catch(_i);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:le(()=>r.value.href),isActive:i,isExactActive:o,navigate:l}}function $2(e){return e.length===1?e[0]:e}const j2=ln({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Md,setup(e,{slots:t}){const n=ca(Md(e)),{options:r}=Vn(Ru),s=le(()=>({[Fd(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Fd(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&$2(t.default(n));return e.custom?i:kc("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),z2=j2;function q2(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function H2(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!an(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function Ld(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Fd=(e,t,n)=>e??t??n,G2=ln({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Vn(fc),s=le(()=>e.route||r.value),i=Vn(xd,0),o=le(()=>{let u=ht(i);const{matched:h}=s.value;let d;for(;(d=h[u])&&!d.components;)u++;return u}),l=le(()=>s.value.matched[o.value]);bo(xd,le(()=>o.value+1)),bo(w2,l),bo(fc,s);const c=xt();return li(()=>[c.value,l.value,e.name],([u,h,d],[m,_,C])=>{h&&(h.instances[d]=u,_&&_!==h&&u&&u===m&&(h.leaveGuards.size||(h.leaveGuards=_.leaveGuards),h.updateGuards.size||(h.updateGuards=_.updateGuards))),u&&h&&(!_||!Es(h,_)||!m)&&(h.enterCallbacks[d]||[]).forEach(x=>x(u))},{flush:"post"}),()=>{const u=s.value,h=e.name,d=l.value,m=d&&d.components[h];if(!m)return Ud(n.default,{Component:m,route:u});const _=d.props[h],C=_?_===!0?u.params:typeof _=="function"?_(u):_:null,D=kc(m,Vt({},C,t,{onVnodeUnmounted:F=>{F.component.isUnmounted&&(d.instances[h]=null)},ref:c}));return Ud(n.default,{Component:D,route:u})||D}}});function Ud(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const K2=G2;function W2(e){const t=M2(e.routes,e),n=e.parseQuery||v2,r=e.stringifyQuery||Cd,s=e.history,i=Qs(),o=Qs(),l=Qs(),c=Cy(Gn);let u=Gn;ns&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=El.bind(null,M=>""+M),d=El.bind(null,n2),m=El.bind(null,Fi);function _(M,tt){let Y,it;return b_(M)?(Y=t.getRecordMatcher(M),it=tt):it=M,t.addRoute(it,Y)}function C(M){const tt=t.getRecordMatcher(M);tt&&t.removeRoute(tt)}function x(){return t.getRoutes().map(M=>M.record)}function D(M){return!!t.getRecordMatcher(M)}function F(M,tt){if(tt=Vt({},tt||c.value),typeof M=="string"){const P=wl(n,M,tt.path),L=t.resolve({path:P.path},tt),B=s.createHref(P.fullPath);return Vt(P,L,{params:m(L.params),hash:Fi(P.hash),redirectedFrom:void 0,href:B})}let Y;if(M.path!=null)Y=Vt({},M,{path:wl(n,M.path,tt.path).path});else{const P=Vt({},M.params);for(const L in P)P[L]==null&&delete P[L];Y=Vt({},M,{params:d(P)}),tt.params=d(tt.params)}const it=t.resolve(Y,tt),yt=M.hash||"";it.params=h(m(it.params));const T=i2(r,Vt({},M,{hash:ZR(yt),path:it.path})),S=s.createHref(T);return Vt({fullPath:T,hash:yt,query:r===Cd?E2(M.query):M.query||{}},it,{redirectedFrom:void 0,href:S})}function $(M){return typeof M=="string"?wl(n,M,c.value.path):Vt({},M)}function z(M,tt){if(u!==M)return ws(Ht.NAVIGATION_CANCELLED,{from:tt,to:M})}function q(M){return E(M)}function rt(M){return q(Vt($(M),{replace:!0}))}function K(M,tt){const Y=M.matched[M.matched.length-1];if(Y&&Y.redirect){const{redirect:it}=Y;let yt=typeof it=="function"?it(M,tt):it;return typeof yt=="string"&&(yt=yt.includes("?")||yt.includes("#")?yt=$(yt):{path:yt},yt.params={}),Vt({query:M.query,hash:M.hash,params:yt.path!=null?{}:M.params},yt)}}function E(M,tt){const Y=u=F(M),it=c.value,yt=M.state,T=M.force,S=M.replace===!0,P=K(Y,it);if(P)return E(Vt($(P),{state:typeof P=="object"?Vt({},yt,P.state):yt,force:T,replace:S}),tt||Y);const L=Y;L.redirectedFrom=tt;let B;return!T&&o2(r,it,Y)&&(B=ws(Ht.NAVIGATION_DUPLICATED,{to:L,from:it}),ze(it,it,!0,!1)),(B?Promise.resolve(B):I(L,it)).catch(O=>Rn(O)?Rn(O,Ht.NAVIGATION_GUARD_REDIRECT)?O:cn(O):wt(O,L,it)).then(O=>{if(O){if(Rn(O,Ht.NAVIGATION_GUARD_REDIRECT))return E(Vt({replace:S},$(O.to),{state:typeof O.to=="object"?Vt({},yt,O.to.state):yt,force:T}),tt||L)}else O=A(L,it,!0,S,yt);return R(L,it,O),O})}function v(M,tt){const Y=z(M,tt);return Y?Promise.reject(Y):Promise.resolve()}function y(M){const tt=tn.values().next().value;return tt&&typeof tt.runWithContext=="function"?tt.runWithContext(M):M()}function I(M,tt){let Y;const[it,yt,T]=T2(M,tt);Y=bl(it.reverse(),"beforeRouteLeave",M,tt);for(const P of it)P.leaveGuards.forEach(L=>{Y.push(Qn(L,M,tt))});const S=v.bind(null,M,tt);return Y.push(S),Ee(Y).then(()=>{Y=[];for(const P of i.list())Y.push(Qn(P,M,tt));return Y.push(S),Ee(Y)}).then(()=>{Y=bl(yt,"beforeRouteUpdate",M,tt);for(const P of yt)P.updateGuards.forEach(L=>{Y.push(Qn(L,M,tt))});return Y.push(S),Ee(Y)}).then(()=>{Y=[];for(const P of T)if(P.beforeEnter)if(an(P.beforeEnter))for(const L of P.beforeEnter)Y.push(Qn(L,M,tt));else Y.push(Qn(P.beforeEnter,M,tt));return Y.push(S),Ee(Y)}).then(()=>(M.matched.forEach(P=>P.enterCallbacks={}),Y=bl(T,"beforeRouteEnter",M,tt,y),Y.push(S),Ee(Y))).then(()=>{Y=[];for(const P of o.list())Y.push(Qn(P,M,tt));return Y.push(S),Ee(Y)}).catch(P=>Rn(P,Ht.NAVIGATION_CANCELLED)?P:Promise.reject(P))}function R(M,tt,Y){l.list().forEach(it=>y(()=>it(M,tt,Y)))}function A(M,tt,Y,it,yt){const T=z(M,tt);if(T)return T;const S=tt===Gn,P=ns?history.state:{};Y&&(it||S?s.replace(M.fullPath,Vt({scroll:S&&P&&P.scroll},yt)):s.push(M.fullPath,yt)),c.value=M,ze(M,tt,Y,S),cn()}let w;function Rt(){w||(w=s.listen((M,tt,Y)=>{if(!en.listening)return;const it=F(M),yt=K(it,en.currentRoute.value);if(yt){E(Vt(yt,{replace:!0,force:!0}),it).catch(_i);return}u=it;const T=c.value;ns&&p2(Sd(T.fullPath,Y.delta),Ma()),I(it,T).catch(S=>Rn(S,Ht.NAVIGATION_ABORTED|Ht.NAVIGATION_CANCELLED)?S:Rn(S,Ht.NAVIGATION_GUARD_REDIRECT)?(E(Vt($(S.to),{force:!0}),it).then(P=>{Rn(P,Ht.NAVIGATION_ABORTED|Ht.NAVIGATION_DUPLICATED)&&!Y.delta&&Y.type===uc.pop&&s.go(-1,!1)}).catch(_i),Promise.reject()):(Y.delta&&s.go(-Y.delta,!1),wt(S,it,T))).then(S=>{S=S||A(it,T,!1),S&&(Y.delta&&!Rn(S,Ht.NAVIGATION_CANCELLED)?s.go(-Y.delta,!1):Y.type===uc.pop&&Rn(S,Ht.NAVIGATION_ABORTED|Ht.NAVIGATION_DUPLICATED)&&s.go(-1,!1)),R(it,T,S)}).catch(_i)}))}let Wt=Qs(),jt=Qs(),Pt;function wt(M,tt,Y){cn(M);const it=jt.list();return it.length?it.forEach(yt=>yt(M,tt,Y)):console.error(M),Promise.reject(M)}function Be(){return Pt&&c.value!==Gn?Promise.resolve():new Promise((M,tt)=>{Wt.add([M,tt])})}function cn(M){return Pt||(Pt=!M,Rt(),Wt.list().forEach(([tt,Y])=>M?Y(M):tt()),Wt.reset()),M}function ze(M,tt,Y,it){const{scrollBehavior:yt}=e;if(!ns||!yt)return Promise.resolve();const T=!Y&&m2(Sd(M.fullPath,0))||(it||!Y)&&history.state&&history.state.scroll||null;return gp().then(()=>yt(M,tt,T)).then(S=>S&&d2(S)).catch(S=>wt(S,M,tt))}const fe=M=>s.go(M);let bn;const tn=new Set,en={currentRoute:c,listening:!0,addRoute:_,removeRoute:C,clearRoutes:t.clearRoutes,hasRoute:D,getRoutes:x,resolve:F,options:e,push:q,replace:rt,go:fe,back:()=>fe(-1),forward:()=>fe(1),beforeEach:i.add,beforeResolve:o.add,afterEach:l.add,onError:jt.add,isReady:Be,install(M){M.component("RouterLink",z2),M.component("RouterView",K2),M.config.globalProperties.$router=en,Object.defineProperty(M.config.globalProperties,"$route",{enumerable:!0,get:()=>ht(c)}),ns&&!bn&&c.value===Gn&&(bn=!0,q(s.location).catch(it=>{}));const tt={};for(const it in Gn)Object.defineProperty(tt,it,{get:()=>c.value[it],enumerable:!0});M.provide(Ru,en),M.provide(I_,hp(tt)),M.provide(fc,c);const Y=M.unmount;tn.add(M),M.unmount=function(){tn.delete(M),tn.size<1&&(u=Gn,w&&w(),w=null,c.value=Gn,bn=!1,Pt=!1),Y()}}};function Ee(M){return M.reduce((tt,Y)=>tt.then(()=>y(Y)),Promise.resolve())}return en}const xs=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},Q2={},X2={class:"item"},Y2={class:"details"};function J2(e,t){return J(),nt("div",X2,[b("i",null,[rl(e.$slots,"icon",{},void 0)]),b("div",Y2,[b("h3",null,[rl(e.$slots,"heading",{},void 0)]),rl(e.$slots,"default",{},void 0)])])}const Xs=xs(Q2,[["render",J2],["__scopeId","data-v-fd0742eb"]]),Z2={},tS={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"17",fill:"currentColor"};function eS(e,t){return J(),nt("svg",tS,[...t[0]||(t[0]=[b("path",{d:"M11 2.253a1 1 0 1 0-2 0h2zm-2 13a1 1 0 1 0 2 0H9zm.447-12.167a1 1 0 1 0 1.107-1.666L9.447 3.086zM1 2.253L.447 1.42A1 1 0 0 0 0 2.253h1zm0 13H0a1 1 0 0 0 1.553.833L1 15.253zm8.447.833a1 1 0 1 0 1.107-1.666l-1.107 1.666zm0-14.666a1 1 0 1 0 1.107 1.666L9.447 1.42zM19 2.253h1a1 1 0 0 0-.447-.833L19 2.253zm0 13l-.553.833A1 1 0 0 0 20 15.253h-1zm-9.553-.833a1 1 0 1 0 1.107 1.666L9.447 14.42zM9 2.253v13h2v-13H9zm1.553-.833C9.203.523 7.42 0 5.5 0v2c1.572 0 2.961.431 3.947 1.086l1.107-1.666zM5.5 0C3.58 0 1.797.523.447 1.42l1.107 1.666C2.539 2.431 3.928 2 5.5 2V0zM0 2.253v13h2v-13H0zm1.553 13.833C2.539 15.431 3.928 15 5.5 15v-2c-1.92 0-3.703.523-5.053 1.42l1.107 1.666zM5.5 15c1.572 0 2.961.431 3.947 1.086l1.107-1.666C9.203 13.523 7.42 13 5.5 13v2zm5.053-11.914C11.539 2.431 12.928 2 14.5 2V0c-1.92 0-3.703.523-5.053 1.42l1.107 1.666zM14.5 2c1.573 0 2.961.431 3.947 1.086l1.107-1.666C18.203.523 16.421 0 14.5 0v2zm3.5.253v13h2v-13h-2zm1.553 12.167C18.203 13.523 16.421 13 14.5 13v2c1.573 0 2.961.431 3.947 1.086l1.107-1.666zM14.5 13c-1.92 0-3.703.523-5.053 1.42l1.107 1.666C11.539 15.431 12.928 15 14.5 15v-2z"},null,-1)])])}const nS=xs(Z2,[["render",eS]]),rS={},sS={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",class:"iconify iconify--mdi",width:"24",height:"24",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"};function iS(e,t){return J(),nt("svg",sS,[...t[0]||(t[0]=[b("path",{d:"M20 18v-4h-3v1h-2v-1H9v1H7v-1H4v4h16M6.33 8l-1.74 4H7v-1h2v1h6v-1h2v1h2.41l-1.74-4H6.33M9 5v1h6V5H9m12.84 7.61c.1.22.16.48.16.8V18c0 .53-.21 1-.6 1.41c-.4.4-.85.59-1.4.59H4c-.55 0-1-.19-1.4-.59C2.21 19 2 18.53 2 18v-4.59c0-.32.06-.58.16-.8L4.5 7.22C4.84 6.41 5.45 6 6.33 6H7V5c0-.55.18-1 .57-1.41C7.96 3.2 8.44 3 9 3h6c.56 0 1.04.2 1.43.59c.39.41.57.86.57 1.41v1h.67c.88 0 1.49.41 1.83 1.22l2.34 5.39z",fill:"currentColor"},null,-1)])])}const oS=xs(rS,[["render",iS]]),aS={},lS={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"20",fill:"currentColor"};function cS(e,t){return J(),nt("svg",lS,[...t[0]||(t[0]=[b("path",{d:"M11.447 8.894a1 1 0 1 0-.894-1.789l.894 1.789zm-2.894-.789a1 1 0 1 0 .894 1.789l-.894-1.789zm0 1.789a1 1 0 1 0 .894-1.789l-.894 1.789zM7.447 7.106a1 1 0 1 0-.894 1.789l.894-1.789zM10 9a1 1 0 1 0-2 0h2zm-2 2.5a1 1 0 1 0 2 0H8zm9.447-5.606a1 1 0 1 0-.894-1.789l.894 1.789zm-2.894-.789a1 1 0 1 0 .894 1.789l-.894-1.789zm2 .789a1 1 0 1 0 .894-1.789l-.894 1.789zm-1.106-2.789a1 1 0 1 0-.894 1.789l.894-1.789zM18 5a1 1 0 1 0-2 0h2zm-2 2.5a1 1 0 1 0 2 0h-2zm-5.447-4.606a1 1 0 1 0 .894-1.789l-.894 1.789zM9 1l.447-.894a1 1 0 0 0-.894 0L9 1zm-2.447.106a1 1 0 1 0 .894 1.789l-.894-1.789zm-6 3a1 1 0 1 0 .894 1.789L.553 4.106zm2.894.789a1 1 0 1 0-.894-1.789l.894 1.789zm-2-.789a1 1 0 1 0-.894 1.789l.894-1.789zm1.106 2.789a1 1 0 1 0 .894-1.789l-.894 1.789zM2 5a1 1 0 1 0-2 0h2zM0 7.5a1 1 0 1 0 2 0H0zm8.553 12.394a1 1 0 1 0 .894-1.789l-.894 1.789zm-1.106-2.789a1 1 0 1 0-.894 1.789l.894-1.789zm1.106 1a1 1 0 1 0 .894 1.789l-.894-1.789zm2.894.789a1 1 0 1 0-.894-1.789l.894 1.789zM8 19a1 1 0 1 0 2 0H8zm2-2.5a1 1 0 1 0-2 0h2zm-7.447.394a1 1 0 1 0 .894-1.789l-.894 1.789zM1 15H0a1 1 0 0 0 .553.894L1 15zm1-2.5a1 1 0 1 0-2 0h2zm12.553 2.606a1 1 0 1 0 .894 1.789l-.894-1.789zM17 15l.447.894A1 1 0 0 0 18 15h-1zm1-2.5a1 1 0 1 0-2 0h2zm-7.447-5.394l-2 1 .894 1.789 2-1-.894-1.789zm-1.106 1l-2-1-.894 1.789 2 1 .894-1.789zM8 9v2.5h2V9H8zm8.553-4.894l-2 1 .894 1.789 2-1-.894-1.789zm.894 0l-2-1-.894 1.789 2 1 .894-1.789zM16 5v2.5h2V5h-2zm-4.553-3.894l-2-1-.894 1.789 2 1 .894-1.789zm-2.894-1l-2 1 .894 1.789 2-1L8.553.106zM1.447 5.894l2-1-.894-1.789-2 1 .894 1.789zm-.894 0l2 1 .894-1.789-2-1-.894 1.789zM0 5v2.5h2V5H0zm9.447 13.106l-2-1-.894 1.789 2 1 .894-1.789zm0 1.789l2-1-.894-1.789-2 1 .894 1.789zM10 19v-2.5H8V19h2zm-6.553-3.894l-2-1-.894 1.789 2 1 .894-1.789zM2 15v-2.5H0V15h2zm13.447 1.894l2-1-.894-1.789-2 1 .894 1.789zM18 15v-2.5h-2V15h2z"},null,-1)])])}const uS=xs(aS,[["render",cS]]),hS={},fS={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor"};function dS(e,t){return J(),nt("svg",fS,[...t[0]||(t[0]=[b("path",{d:"M15 4a1 1 0 1 0 0 2V4zm0 11v-1a1 1 0 0 0-1 1h1zm0 4l-.707.707A1 1 0 0 0 16 19h-1zm-4-4l.707-.707A1 1 0 0 0 11 14v1zm-4.707-1.293a1 1 0 0 0-1.414 1.414l1.414-1.414zm-.707.707l-.707-.707.707.707zM9 11v-1a1 1 0 0 0-.707.293L9 11zm-4 0h1a1 1 0 0 0-1-1v1zm0 4H4a1 1 0 0 0 1.707.707L5 15zm10-9h2V4h-2v2zm2 0a1 1 0 0 1 1 1h2a3 3 0 0 0-3-3v2zm1 1v6h2V7h-2zm0 6a1 1 0 0 1-1 1v2a3 3 0 0 0 3-3h-2zm-1 1h-2v2h2v-2zm-3 1v4h2v-4h-2zm1.707 3.293l-4-4-1.414 1.414 4 4 1.414-1.414zM11 14H7v2h4v-2zm-4 0c-.276 0-.525-.111-.707-.293l-1.414 1.414C5.42 15.663 6.172 16 7 16v-2zm-.707 1.121l3.414-3.414-1.414-1.414-3.414 3.414 1.414 1.414zM9 12h4v-2H9v2zm4 0a3 3 0 0 0 3-3h-2a1 1 0 0 1-1 1v2zm3-3V3h-2v6h2zm0-6a3 3 0 0 0-3-3v2a1 1 0 0 1 1 1h2zm-3-3H3v2h10V0zM3 0a3 3 0 0 0-3 3h2a1 1 0 0 1 1-1V0zM0 3v6h2V3H0zm0 6a3 3 0 0 0 3 3v-2a1 1 0 0 1-1-1H0zm3 3h2v-2H3v2zm1-1v4h2v-4H4zm1.707 4.707l.586-.586-1.414-1.414-.586.586 1.414 1.414z"},null,-1)])])}const pS=xs(hS,[["render",dS]]),mS={},gS={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor"};function _S(e,t){return J(),nt("svg",gS,[...t[0]||(t[0]=[b("path",{d:"M10 3.22l-.61-.6a5.5 5.5 0 0 0-7.666.105 5.5 5.5 0 0 0-.114 7.665L10 18.78l8.39-8.4a5.5 5.5 0 0 0-.114-7.665 5.5 5.5 0 0 0-7.666-.105l-.61.61z"},null,-1)])])}const yS=xs(mS,[["render",_S]]),vS=ln({__name:"TheWelcome",setup(e){const t=()=>fetch("/__open-in-editor?file=README.md");return(n,r)=>(J(),nt(ne,null,[At(Xs,null,{icon:Yt(()=>[At(nS)]),heading:Yt(()=>[...r[0]||(r[0]=[at("Documentation",-1)])]),default:Yt(()=>[r[1]||(r[1]=at(" Vues ",-1)),r[2]||(r[2]=b("a",{href:"https://vuejs.org/",target:"_blank",rel:"noopener"},"official documentation",-1)),r[3]||(r[3]=at(" provides you with all information you need to get started. ",-1))]),_:1}),At(Xs,null,{icon:Yt(()=>[At(oS)]),heading:Yt(()=>[...r[4]||(r[4]=[at("Tooling",-1)])]),default:Yt(()=>[r[6]||(r[6]=at(" This project is served and bundled with ",-1)),r[7]||(r[7]=b("a",{href:"https://vite.dev/guide/features.html",target:"_blank",rel:"noopener"},"Vite",-1)),r[8]||(r[8]=at(". The recommended IDE setup is ",-1)),r[9]||(r[9]=b("a",{href:"https://code.visualstudio.com/",target:"_blank",rel:"noopener"},"VSCode",-1)),r[10]||(r[10]=at(" + ",-1)),r[11]||(r[11]=b("a",{href:"https://github.com/vuejs/language-tools",target:"_blank",rel:"noopener"},"Vue - Official",-1)),r[12]||(r[12]=at(". If you need to test your components and web pages, check out ",-1)),r[13]||(r[13]=b("a",{href:"https://vitest.dev/",target:"_blank",rel:"noopener"},"Vitest",-1)),r[14]||(r[14]=at(" and ",-1)),r[15]||(r[15]=b("a",{href:"https://www.cypress.io/",target:"_blank",rel:"noopener"},"Cypress",-1)),r[16]||(r[16]=at(" / ",-1)),r[17]||(r[17]=b("a",{href:"https://playwright.dev/",target:"_blank",rel:"noopener"},"Playwright",-1)),r[18]||(r[18]=at(". ",-1)),r[19]||(r[19]=b("br",null,null,-1)),r[20]||(r[20]=at(" More instructions are available in ",-1)),b("a",{href:"javascript:void(0)",onClick:t},[...r[5]||(r[5]=[b("code",null,"README.md",-1)])]),r[21]||(r[21]=at(". ",-1))]),_:1}),At(Xs,null,{icon:Yt(()=>[At(uS)]),heading:Yt(()=>[...r[22]||(r[22]=[at("Ecosystem",-1)])]),default:Yt(()=>[r[23]||(r[23]=at(" Get official tools and libraries for your project: ",-1)),r[24]||(r[24]=b("a",{href:"https://pinia.vuejs.org/",target:"_blank",rel:"noopener"},"Pinia",-1)),r[25]||(r[25]=at(", ",-1)),r[26]||(r[26]=b("a",{href:"https://router.vuejs.org/",target:"_blank",rel:"noopener"},"Vue Router",-1)),r[27]||(r[27]=at(", ",-1)),r[28]||(r[28]=b("a",{href:"https://test-utils.vuejs.org/",target:"_blank",rel:"noopener"},"Vue Test Utils",-1)),r[29]||(r[29]=at(", and ",-1)),r[30]||(r[30]=b("a",{href:"https://github.com/vuejs/devtools",target:"_blank",rel:"noopener"},"Vue Dev Tools",-1)),r[31]||(r[31]=at(". If you need more resources, we suggest paying ",-1)),r[32]||(r[32]=b("a",{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"},"Awesome Vue",-1)),r[33]||(r[33]=at(" a visit. ",-1))]),_:1}),At(Xs,null,{icon:Yt(()=>[At(pS)]),heading:Yt(()=>[...r[34]||(r[34]=[at("Community",-1)])]),default:Yt(()=>[r[35]||(r[35]=at(" Got stuck? Ask your question on ",-1)),r[36]||(r[36]=b("a",{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"},"Vue Land",-1)),r[37]||(r[37]=at(" (our official Discord server), or ",-1)),r[38]||(r[38]=b("a",{href:"https://stackoverflow.com/questions/tagged/vue.js",target:"_blank",rel:"noopener"},"StackOverflow",-1)),r[39]||(r[39]=at(". You should also follow the official ",-1)),r[40]||(r[40]=b("a",{href:"https://bsky.app/profile/vuejs.org",target:"_blank",rel:"noopener"},"@vuejs.org",-1)),r[41]||(r[41]=at(" Bluesky account or the ",-1)),r[42]||(r[42]=b("a",{href:"https://x.com/vuejs",target:"_blank",rel:"noopener"},"@vuejs",-1)),r[43]||(r[43]=at(" X account for latest news in the Vue world. ",-1))]),_:1}),At(Xs,null,{icon:Yt(()=>[At(yS)]),heading:Yt(()=>[...r[44]||(r[44]=[at("Support Vue",-1)])]),default:Yt(()=>[r[45]||(r[45]=at(" As an independent project, Vue relies on community backing for its sustainability. You can help us by ",-1)),r[46]||(r[46]=b("a",{href:"https://vuejs.org/sponsor/",target:"_blank",rel:"noopener"},"becoming a sponsor",-1)),r[47]||(r[47]=at(". ",-1))]),_:1})],64))}}),ES=ln({__name:"HomeView",setup(e){return(t,n)=>(J(),nt("main",null,[At(vS)]))}}),wS=W2({history:R2("/boxbash-ac/"),routes:[{path:"/",name:"home",component:ES},{path:"/about",name:"about",component:()=>jR(()=>import("./AboutView-KQ9EKdng.js"),__vite__mapDeps([0,1]))}]}),Su=yv(UR);Su.use(Tv());Su.use(wS);Su.mount("#app");export{xs as _,b as a,nt as c,J as o};
